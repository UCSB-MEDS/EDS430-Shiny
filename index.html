<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<title>index</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css" id="theme">
<link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
<link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<link href="index_files/libs/countdown-0.4.0/countdown.css" rel="stylesheet">
<script src="index_files/libs/countdown-0.4.0/countdown.js"></script><script src="index_files/libs/htmlwidgets-1.6.0/htmlwidgets.js"></script><script src="index_files/libs/jquery-1.12.4/jquery.min.js"></script><link href="index_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="index_files/libs/leaflet-1.3.1/leaflet.js"></script><link href="index_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="index_files/libs/proj4-2.6.2/proj4.min.js"></script><script src="index_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="index_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="index_files/libs/leaflet-binding-2.1.1/leaflet.js"></script><script src="index_files/libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="index_files/libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script><link href="index_files/libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
<script src="index_files/libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script><script src="index_files/libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="~~~ Title Slide ~~~" data-background="images/title_background.png"><h2></h2>
<p><span class="custom-title">EDS 430 - Intro to <img src="images/shiny_text.png" alt="The word 'Shiny' in cursive lettering, which is the logo used by RStudio for their Shiny R package. The Shiny package is used to build interactive web applications." style="display: inline-block; margin: 0; position: relative; top: 25px; width:130px;height:90px;"></span></p>
<p><span class="custom-subtitle"><em>Building reactive apps &amp; dashboards</em></span></p>
<p><br><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="custom-subtitle2">Sam Csik |</span><br><span class="custom-subtitle2">Data Training Coordinator</span><br><span class="custom-subtitle3"><em>National Center for Ecological Analysis &amp; Synthesis</em></span></p>
</div><div class="column" style="width:50%;">
<p><span class="custom-subtitle2">Master of Environmental Data Science |</span><br><span class="custom-subtitle2">Winter 2023</span><br><span class="custom-subtitle3"><em>Bren School of Environmental Science &amp; Management</em></span></p>
</div>
</div>
<p><br></p>
<center>
<span style="font-size: 50%; color: #d2e3f3">Slides &amp; source code available on <a href="https://github.com/UCSB-MEDS/EDS430-Shiny"><svg aria-label="GitHub" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>GitHub</title>
<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></span>
</center>
</section><section id="prerequisites" class="slide level2" data-menu-title="Prerequisites"><h2></h2>
<div class="slide-title">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#047C90;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Prerequisites
</div>
<div class="columns">
<div class="column" style="width:70%;">
<p class="body-text bottombr">
<em>This workshop assumes that participants have the following:</em>
</p>
<div class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> R/RStudio installed &amp; a basic familiarity with the language
</div>
<div class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> A GitHub profile &amp; git installed/configured
</div>
</div><div class="column" style="width:30%;">
<center>
<img src="images/shiny.png" alt="A blue hexagon with the word 'Shiny' in cursive lettering printed across the center." width="150">
</center>
</div>
</div>
<div class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> You have the required R packages installed. You can install/update them all at once by running:
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">install.packages</span>(<span class="at">pkgs =</span> <span class="fu">c</span>(<span class="st">"shiny"</span>, <span class="st">"shinydashboard"</span>, <span class="st">"shinyWidgets"</span>, <span class="st">"DT"</span>, <span class="st">"leaflet"</span>, <span class="st">"shinycssloaders"</span>, <span class="st">"tidyverse"</span>, <span class="st">"bslib"</span>, <span class="st">"fresh"</span>, <span class="st">"reactlog"</span>, <span class="st">"shinytest2"</span>, <span class="st">"palmerpenguins"</span>, <span class="st">"lterdatasampler"</span>, <span class="st">"gapminder"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<center>
<div class="large-body-text">
No prior Shiny experience necessary!
</div>
</center>
</section><section id="toc" class="slide level2" data-menu-title="Table of Contents"><h2></h2>
<div class="slide-title">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Table of Contents <svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg>
</div>
<p class="body-text">
We’re going to pack a lot into two days. Here’s what to expect:
</p>
<p class="small-text">
<strong>(1)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/1-shiny-overview">High-level overview of Shiny</a>
</p>
<p class="smaller-text">
What is Shiny? ~ Anatomy of a shiny app ~ Where to find examples
</p>
<p class="small-text">
<strong>(2)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/2-building-apps">Building shiny apps &amp; dashboards</a>
</p>
<p class="smaller-text">
Setting up your repo &amp; files ~ App #1 (single-file app) ~ App #2 (two-file app) ~ App #3 (shinydashboard) ~ Deploying apps
</p>
<p class="small-text">
<strong>(3)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/3-beautifying-ui">Beautifying your user interface (UI)</a>
</p>
<p class="smaller-text">
Custom themes with <code>bslib</code> ~ Custom themes with <code>fresh</code> ~ Styling with CSS &amp; Sass
</p>
<p class="small-text">
<strong>(4)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/4-improving-ux">Improving your app’s user experience (UX)</a>
</p>
<p class="smaller-text">
Important UX considerations ~ Web accessibility
</p>
<p class="small-text">
<strong>(5)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/5-debugging-testing">Debugging &amp; Testing</a>
</p>
<p class="smaller-text">
Debugging approaches ~ Testing apps
</p>
<p class="small-text">
<strong>(6)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/6-streamlining-code">Streamlining code</a>
</p>
<p class="smaller-text">
Writing functions ~ Shiny modules
</p>
<p class="small-text">
<strong>(7)</strong> <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/7-wrap-up">Wrap-up</a>
</p>
<p class="smaller-text">
Shiny alternatives ~ Words of wisdom ~ More resources
</p>
<center>
<p class="body-text quote-text-bg">
You can reference the source code of all the apps we’ll be building/playing with throughout this workshop on <a href="https://github.com/samanthacsik/EDS430-shiny-app"><svg aria-label="GitHub" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#78A540;overflow:visible;position:relative;"><title>GitHub</title>
<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> GitHub</a>.
</p>
</center>
</section><section id="1-shiny-overview" class="slide level2" data-menu-title="!! (1) High-level overview of Shiny !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 1: High-level overview of Shiny
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> What is Shiny?
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Anatomy of a shiny app
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Where to find examples
</p>
</section><section id="what-is-shiny" class="slide level2" data-menu-title="~~~ What is Shiny? ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="R Project" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>R Project</title>
<path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> What is Shiny?
</p>
<p class="caption-text">
<em>Think interactive web pages built by people who love to code in R (i.e.&nbsp;hopefully many of you!), no JavaScript experience necessary.</em>
</p>
</div>
</section><section id="easy-web-apps" class="slide level2" data-menu-title="Shiny = easy web apps"><h2></h2>
<div class="slide-title">
Shiny makes building web apps easy
</div>
<p class="quote-text-bg body-text bottombr">
<em>“<strong>Shiny is an R package that makes it easy to build interactive web apps straight from R.</strong> You can host standalone apps on a webpage or embed them in <a href="https://rmarkdown.rstudio.com/?_ga=2.5356915.1997816511.1640293283-2019993402.1637352626">R Markdown</a> documents or build <a href="http://rstudio.github.io/shinydashboard/?_ga=2.242738759.492023234.1673556996-309155161.1666221806">dashboards</a>. You can also extend your Shiny apps with <a href="http://rstudio.github.io/shinythemes/?_ga=2.162383609.492023234.1673556996-309155161.1666221806">CSS themes</a>, <a href="http://www.htmlwidgets.org/">htmlwidgets</a>, and JavaScript <a href="https://github.com/daattali/shinyjs/blob/master/README.md">actions.</a>”</em> <strong>- RStudio</strong>
</p>
<center>
<img src="images/worldbank-shiny.gif" alt="A gif of Andre Duarte's 'Worldbank-Shiny' app. On the lefthand side of the app, the title 'Gapminder Interactive Plot' sits above a series of three widgets. The first is a dropdown menu where the user can select a region (e.g. Europe &amp; Central Asia) or view all regions at the same time. The next two widgets are slider inputs -- the first allows the user to select a year between 1960 and 2014, and the second allows the user to select a population size between 500 and 5000. On the right hand side of the app is a bubble plot of Fertility Rate vs. Life Expectancy, which updates as inputs are changed by the user. Hovering a bubble displays thge corresponding Country, Region, Population, Life Expectancy, and Fertility Rate." width="700">
</center>
<center>
<p class="small-text gray-text topbr">
<a href="https://github.com/aguimaraesduarte/WorldBank-Shiny">Worldbank-Shiny</a> app to visualize fertility rate vs.&nbsp;life expectancy from 1960 to 2015, by <a href="https://github.com/aguimaraesduarte">Andre Duarte</a>
</p>
</center>
</section><section id="app-anatomy" class="slide level2" data-menu-title="~~~ Anatomy of an app ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Puzzle Piece" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Puzzle Piece</title>
<path d="M192 104.8c0-9.2-5.8-17.3-13.2-22.8C167.2 73.3 160 61.3 160 48c0-26.5 28.7-48 64-48s64 21.5 64 48c0 13.3-7.2 25.3-18.8 34c-7.4 5.5-13.2 13.6-13.2 22.8c0 12.8 10.4 23.2 23.2 23.2H336c26.5 0 48 21.5 48 48v56.8c0 12.8 10.4 23.2 23.2 23.2c9.2 0 17.3-5.8 22.8-13.2c8.7-11.6 20.7-18.8 34-18.8c26.5 0 48 28.7 48 64s-21.5 64-48 64c-13.3 0-25.3-7.2-34-18.8c-5.5-7.4-13.6-13.2-22.8-13.2c-12.8 0-23.2 10.4-23.2 23.2V464c0 26.5-21.5 48-48 48H279.2c-12.8 0-23.2-10.4-23.2-23.2c0-9.2 5.8-17.3 13.2-22.8c11.6-8.7 18.8-20.7 18.8-34c0-26.5-28.7-48-64-48s-64 21.5-64 48c0 13.3 7.2 25.3 18.8 34c7.4 5.5 13.2 13.6 13.2 22.8c0 12.8-10.4 23.2-23.2 23.2H48c-26.5 0-48-21.5-48-48V343.2C0 330.4 10.4 320 23.2 320c9.2 0 17.3 5.8 22.8 13.2C54.7 344.8 66.7 352 80 352c26.5 0 48-28.7 48-64s-21.5-64-48-64c-13.3 0-25.3 7.2-34 18.8C40.5 250.2 32.4 256 23.2 256C10.4 256 0 245.6 0 232.8V176c0-26.5 21.5-48 48-48H168.8c12.8 0 23.2-10.4 23.2-23.2z"></path></svg> The anatomy of a Shiny app
</p>
<p class="caption-text">
<em>What does a Shiny app look like under the hood?</em>
</p>
</div>
</section><section id="basic-anatomy" class="slide level2" data-menu-title="Basic Anatomy"><h2></h2>
<div class="slide-title">
The basic anatomy of a Shiny app
</div>
<p class="body-text bottombr">
Shiny apps are composed in <em>two</em> parts: (1) a <strong>web page</strong> that displays the app to a user (i.e.&nbsp;the <strong>user interface</strong>, or <strong>UI</strong> for short), and (2) a <strong>computer</strong> that powers the app (i.e.&nbsp;the <strong>server</strong>)
</p>
<center>
<img src="images/basic_shiny_app.png" alt="A simple schematic of a Shiny app, which includes the User Interface (UI, colored in blue) and the Server (colored in orange). The UI creates what the user will see and interact with, while the server builds the outputs that react and update based on user inputs." width="675">
</center>
<p class="body-text bottombr">
The <strong>UI</strong> controls the <strong>layout and appearance</strong> of your app and is written in HTML (except we use functions from the <a href="https://shiny.rstudio.com/">shiny</a> package to write that HTML). The <strong>server</strong> handles the <strong>logic</strong> of the app – in other words, it is a set of instructions that tells the webpage what to display when a user interacts with it.
</p>
</section><section id="widgets" class="slide level2" data-menu-title="Widgets"><h2></h2>
<div class="slide-title">
Widgets are web elements that users can interact with via the UI
</div>
<div class="columns">
<div class="column" style="width:60%;">
<center>
<img src="images/basic_widgets.png" alt="Examples of Shiny's pre-built widget options. These include buttons, single checkbox, checkbox groups, date input, date range, file input, numeric input, radio buttons, select box, sliders, and text input. The default color scheme is black and gray with selections highlighted in blue." width="675">
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<p><br></p>
<p class="body-text bottombr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Widgets collect information from the user which is then used to update outputs created in the server.
</p>
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Shiny comes with a set of of <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/">standard widgets</a> (see left), but you can also explore widget extensions using a variety of other packages (e.g.&nbsp;<a href="https://github.com/dreamRs/shinyWidgets"><code>{shinyWidgets}</code></a>, <a href="https://rstudio.github.io/DT/"><code>{DT}</code></a>, <a href="https://plotly.com/r/"><code>{plotly}</code></a>)
</p>
</div>
</div>
</section><section id="reactivity-intro" class="slide level2" data-menu-title="Reactivity Intro"><h2></h2>
<div class="slide-title">
Reactivity: a brief intro
</div>
<p class="body-text bottombr">
Reactivity is what makes Shiny apps responsive i.e.&nbsp;it lets the app instantly update itself whenever the user makes a change. At a very basic level, it looks something like this:
</p>
<center>
<img src="images/reactivity_intro.png" alt="A schematic of Shiny reactivity. The UI is represented by a light blue box. Inside the blue UI box, there is a radio button widget that says, 'Make a choice:' and three round radio buttons beneath it. Underneath that, there is a placeholder space for a reactive output to be created by the server. The server is to the left of the UI and is represented by an orange box. At a basic level, reactivity occurs after the following steps: (1) A widget gets information from a user which (2) is then passed to the server where it is used to update a data frame based on the users choice. (3) The new data frame is used to update outputs in the server, and (4) those outputs are then rendered in the UI." width="750">
</center>
<p class="body-text bottombr">
Check out Garrett Grolemund’s article, <a href="https://shiny.rstudio.com/articles/understanding-reactivity.html">How to understand reactivity in R</a> for a more detailed overview of Shiny reactivity.
</p>
</section><section id="examples-please" class="slide level2" data-menu-title="~~~ Examples Please? ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Laptop Code" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Laptop Code</title>
<path d="M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"></path></svg> Can I see an example please?
</p>
<p class="caption-text">
<em>I’m glad you asked! There are lots of great examples online, including those developed by Bren alumni, as well as built-in teaching examples.</em>
</p>
</div>
</section><section id="shinyapp-examples" class="slide level2" data-menu-title="Examples of shiny apps"><h2></h2>
<div class="slide-title bottombr">
Example shiny apps built by some familiar folks <svg aria-label="Face Smile" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Face Smile</title>
<path d="M256 352C293.2 352 319.2 334.5 334.4 318.1C343.3 308.4 358.5 307.7 368.3 316.7C378 325.7 378.6 340.9 369.6 350.6C347.7 374.5 309.7 400 256 400C202.3 400 164.3 374.5 142.4 350.6C133.4 340.9 133.1 325.7 143.7 316.7C153.5 307.7 168.7 308.4 177.6 318.1C192.8 334.5 218.8 352 256 352zM208.4 208C208.4 225.7 194 240 176.4 240C158.7 240 144.4 225.7 144.4 208C144.4 190.3 158.7 176 176.4 176C194 176 208.4 190.3 208.4 208zM304.4 208C304.4 190.3 318.7 176 336.4 176C354 176 368.4 190.3 368.4 208C368.4 225.7 354 240 336.4 240C318.7 240 304.4 225.7 304.4 208zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"></path></svg>
</div>
<p class="body-text">
<svg aria-label="Fish Fins" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Fish Fins</title>
<path d="M275.2 38.4c-10.6-8-25-8.5-36.3-1.5S222 57.3 224.6 70.3l9.7 48.6c-19.4 9-36.9 19.9-52.4 31.5c-15.3 11.5-29 23.9-40.7 36.3L48.1 132.4c-12.5-7.3-28.4-5.3-38.7 4.9S-3 163.3 4.2 175.9L50 256 4.2 336.1c-7.2 12.6-5 28.4 5.3 38.6s26.1 12.2 38.7 4.9l93.1-54.3c11.8 12.3 25.4 24.8 40.7 36.3c15.5 11.6 33 22.5 52.4 31.5l-9.7 48.6c-2.6 13 3.1 26.3 14.3 33.3s25.6 6.5 36.3-1.5l77.6-58.2c54.9-4 101.5-27 137.2-53.8c39.2-29.4 67.2-64.7 81.6-89.5c5.8-9.9 5.8-22.2 0-32.1c-14.4-24.8-42.5-60.1-81.6-89.5c-35.8-26.8-82.3-49.8-137.2-53.8L275.2 38.4zM448 256c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"></path></svg><a href="https://shinyapps.bren.ucsb.edu/ShinyAppMooreaViz/">Moorea Coral Reef LTER Shiny Application</a> (<a href="https://shinyapps.bren.ucsb.edu/ShinyAppMooreaViz/"><strong>source code</strong></a>), <em>by MEDS 2022 alumni, <a href="https://www.linkedin.com/in/allie-ingrid-cole-60351a1ba/">Allie Cole</a>, <a href="https://www.linkedin.com/in/cruz-felicia/">Felicia Cruz</a>, <a href="https://jake-eisaguirre.github.io/">Jake Eisaguirre</a> &amp; <a href="https://www.linkedin.com/in/charles-hendrickson-0001a0223/">Charles Henrickson</a> as part of their MEDS capstone project</em> – visualize spatial and temporal patterns of coral reef stressors surrounding Moorea, French Polynesia
</p>
</section><section id="built-in-examples" class="slide level2" data-menu-title="Built-in Examples"><h2></h2>
<div class="slide-title">
The Shiny packages comes with 11 built-in examples
</div>
<p class="small-text bottombr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Check out the available Shiny app examples by running this code in your console:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">runExample</span>(<span class="at">example =</span> <span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p class="small-text topbr bottombr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Run the first example, which plots R’s built-in <code>faithful</code> data set with a configurable number of bins:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">runExample</span>(<span class="st">"01_hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text topbr bottombr">
Change the number of bins using the <code>sliderInput</code> widget and watch the histogram re-render.
</p>
</div>
<div class="fragment">
<p class="small-text topbr bottombr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> These working examples also come paired with source code for you to see how the app is built. For example, the <code>sliderInput</code> is built with the following code:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Input: Slider for the number of bins ----</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bins"</span>,</span>
<span id="cb4-3"><a href="#cb4-3"></a>            <span class="at">label =</span> <span class="st">"Number of bins:"</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>             <span class="at">min =</span> <span class="dv">1</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>             <span class="at">max =</span> <span class="dv">50</span>,</span>
<span id="cb4-6"><a href="#cb4-6"></a>             <span class="at">value =</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<center>
<p class="medium-body-text">
Now let’s build our own!
</p>
</center>
</div>
</section><section id="setup" class="slide level2" data-menu-title="~~~ Setup ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="play" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>play</title>
<path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"></path></svg> Setting up your Shiny app
</p>
<p class="caption-text">
<em>Let’s start with some standard operating procedures – things you’ll do each time you begin a new shiny app.</em>
</p>
</div>
</section><section id="github-repo" class="slide level2" data-menu-title="Create GitHub Repo"><h2></h2>
<div class="slide-title">
Create your GitHub repo
</div>
<p class="body-text">
Let’s start by creating a GitHub repo to house our soon-to-be app(s), then we’ll clone our repo to our computer. I’m using RStudio to clone my repo in the example below, but you can also do this via the command line using <code>git clone &lt;repo-url&gt;</code>.
</p>
<center>
<img src="images/create-repo.gif" alt="A gif demonstrating how to set up a GitHub repo and how to clone that repo to your computer. Start by clicking on the 'Repositories' tab from your GitHub profile, then click the green 'New' button. Give your repo a name, check the box next to 'Add a README file', Add a .gitigore by choosing 'R' from the drop down menu, then click the green 'Create repository' button. From your repo landing page, click the green 'Code' button, then copy the URL to your clipboard. In RStudio, select 'New Project' from the top left 'Project' button, select 'Version Control', then 'Git', and paste your URL in the 'Repository URL field'. Your repo name should be auto completed in the 'Project directory name:' field, but if not, press the 'Tab' key. Click 'Create Project' to complete the process." width="700">
</center>
</section><section id="repo-structure" class="slide level2" data-menu-title="Repo Structure"><h2></h2>
<div class="slide-title">
Shiny app repo structure
</div>
<p class="small-text">
Not much is <em>required</em> to make a functional app (which is awesome) – for a basic app, you really just need an <code>app.R</code> file where you’ll write the code for your UI and server. To stay organized, we’ll place <code>app.R</code> into a subdirectory (e.g.&nbsp;<code>/myapp</code>), which will also house any dependencies (e.g.&nbsp;other scripts/files/etc.) used by <code>app.R</code>.
</p>
<center>
<img src="images/repo_structure_details.png" alt="A visual representation of a basic shiny app repository file/folder structure." width="900">
</center>
</section><section id="begin-the-same" class="slide level2" data-menu-title="All Apps Begin the Same"><h2></h2>
<div class="slide-title">
All Shiny apps begin (in almost) the same way
</div>
<p class="body-text bottombr">
You have the option of creating either a <strong>single-file app</strong> or <strong>two-file app</strong>, and they look nearly the same (we’ll see both formats in the coming slides).
</p>
<center>
<img src="images/one-vs-two.png" alt="Shiny apps can be built using a single app.R file, or using ui.R plus server.R, and most often a global.R in conjunction." width="700">
</center>
<p class="small-text">
Why two options? Before v0.10.2, Shiny apps needed to be split into <strong>two separate files</strong>, <code>ui.R</code> and <code>server.R</code>, that defined the UI and server components, respectively. With v0.10.2+, users can create a <strong>single-file app</strong>, <code>app.R</code>, which contains both the UI and server components together. While it largely comes down to personal preference, a <strong>single-file format is best for smaller apps or when creating a <a href="https://reprex.tidyverse.org/">reprex</a></strong>, while the <strong>two-file format is beneficial when writing large, complex apps</strong> where breaking apart code can make things a bit more navigable/maintainable.
</p>
</section><section id="single-file" class="slide level2" data-menu-title="Single-file App"><h2></h2>
<div class="slide-title">
Create a single-file Shiny app
</div>
<p class="body-text">
You can create a single-file app using RStudio’s built-in Shiny app template (e.g.&nbsp;File &gt; New Project… &gt; New Directory &gt; Shiny Application), but it’s just as easy to create it from scratch (and you’ll memorize the structure faster!). Let’s do that now.
</p>
<div class="fragment">
<p class="small-text topbr">
<strong>1.</strong> In your project repo, create a subdirectory to house your app – I’m calling mine, <code>single-file-app</code>.
</p>
</div>
<div class="fragment">
<p class="small-text">
<strong>2.</strong> Create a new R script inside <code>/single-file-app</code> and name it <code>app.R</code> – you <strong>must</strong> name your script <code>app.R</code>. Copy/type the following code into <code>app.R</code>, or use the <code>shinyapp</code> <a href="https://rstudio.github.io/rstudio-extensions/rstudio_snippets.html">snippet</a> to automatically generate a shiny app template.
</p>
<p>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># load packages ----</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"># user interface ----</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>()</span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co"># server instructions ----</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="smaller-text">
<strong>Tip:</strong> Use code sections (denoted by <code># some text ----</code>) to make navigating different sections of your app code a bit easier. Code sections will appear in your document outline (find the button at the top right corner of the script/editor panel).
</p>
</div>
</section><section id="run-app" class="slide level2" data-menu-title="Run Your App"><h2></h2>
<div class="slide-title">
Run your app
</div>
<p class="small-text">
Once you have saved your <code>app.R</code> file, the “Run” code button should turn into a “Run App” button that looks like: <img src="images/run_app.png" alt="A green, right facing triangular arrow next to the words 'Run App'" style="display: inline-block; margin: 0; position: relative; top: 3px; width:80px;height:20px;">. Click that button to run your app (alternatively, run <code>runApp("directory-name")</code> in your console – for me, that looks like, <code>runApp("single-file-app")</code>)!
</p>
<div class="fragment">
<p class="small-text topbr">
You won’t see much yet, as we have only built a blank app (but a functioning app, nonetheless!). In your RStudio console, you should see something like: <code>Listening on http://127.0.0.1:XXXX</code>, which is the URL where your app can be found. 127.0.0.1 is a standard address that means “this computer,” and the last four digits represent a randomly assigned port number. You can click the “Open in Browser” button, <img src="images/open_in_browser.png" alt="A button found on the top left-hand side of the RStudio viewer window that says 'Open in Browser' next to a small browser window icon with an arrow pointing up and to the right." style="display: inline-block; margin: 0; position: relative; top: 3px; width:110px;height:20px;">, to see how your app will appear when viewed in your web browser.
</p>
<p class="small-text topbr">
You should also notice a red stop sign, <img src="images/stop.png" alt="A red hexagon with the word 'STOP' printed in white across the center." style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;">, appear in the top right corner of your console indicating that R is busy–this is because your R session is currently acting as your Shiny app server and listening for any user interaction with your app. Because of this, you won’t be able to run any commands in the console until you quit your app. Do so by pressing the stop button.
</p>
<div class="columns">
<div class="column" style="width:50%;">
<center>
<img src="images/blank_app.png" alt="The RStudio viewer showing a running app consisting of only a blank white screen since no elements have been added yet." width="400">
</center>
</div><div class="column" style="width:50%;">
<center>
<img src="images/run_app_RStudio.png" alt="RStudio running our blank app. In the console, we see the text 'Listening on http://127.0.0.1:6341' and a red stop sign indicating that RStudio is busy." width="400">
</center>
</div>
</div>
</div>
</section><section id="two-file" class="slide level2" data-menu-title="Two-file App"><h2></h2>
<div class="slide-title">
Create a two-file Shiny app
</div>
<p class="body-text">
In practice, you will likely find yourself opting for the the two-file format – code expands quickly, even when building relatively small apps. This two-file approach (well, three if you use a <code>global.R</code> file, which is encouraged) will help to keep your code a bit more manageable.
</p>
<div class="fragment">
<p class="small-text topbr">
<strong>1.</strong> In your project repo, create a new subdirectory to house your app – I’m calling mine, <code>two-file-app</code>.
</p>
</div>
<div class="fragment">
<p class="small-text">
<strong>2.</strong> Create two new R scripts inside <code>/two-file-app</code> named <code>ui.R</code> and <code>server.R</code> – you <strong>must</strong> name your scripts <code>ui.R</code> and <code>server.R</code>. Copy the following code into the respective files. <strong>Note:</strong> When splitting your UI and server into separate files, you do not need to include the <code>shinyApp(ui = ui, server = server)</code> line of code (as required in your single-file app).
</p>
<p>
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p class="body-text">
<strong><code>ui.R</code></strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># user interface ----</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<p class="body-text">
<strong><code>server.R</code></strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># server instructions ----</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment">
<p class="small-text">
<strong>3.</strong> Lastly, let’s create a <code>global.R</code> file within <code>/two-file-app</code> and add dependencies (right now, that’s just loading the <code>shiny</code> package). Run your app as we did earlier.
</p>
<p class="body-text">
<strong><code>global.R</code></strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># load libraries ----</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">library</span>(shiny)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="2-building-apps" class="slide level2" data-menu-title="!! (2) Building shiny apps &amp; dashboards !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 2: Building shiny apps &amp; dashboards
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Setting up your repo &amp; files
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> App #1 (single-file app) - <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/single-file-app">source code</a>
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> App #2 (two-file app) - <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/two-file-app">source code</a>
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> App #3 (shinydashboard) - <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/shinydashboard">source code</a>
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Deploying (&amp; redeploying) apps
</p>
</section><section id="build-app1" class="slide level2" data-menu-title="~~~ Building App #1 ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Screwdriver wrench" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Screwdriver wrench</title>
<path d="M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM104 432c0 13.3-10.7 24-24 24s-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24z"></path></svg> Building out your 1<sup>st</sup> app
</p>
<p class="caption-text">
<em>Here, we’ll create our first reactive objects and establish a general Shiny coding workflow.</em>
</p>
</div>
</section><section id="LO-app1" class="slide level2" data-menu-title="Learning Objectives - App #1"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - App #1 (single-file app)
</div>
<p class="medium-body-text bottombr">
By the end of building out this first app, you should be a bit more familiar with:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> writing a single-file (<code>app.R</code>) shiny app
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> adding and styling text in the UI using <code>tags</code>
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> practicing data wrangling and visualization <em>outside</em> of your shiny app
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> following a general workflow for building reactive apps, which includes adding <strong>inputs</strong> and <strong>outputs</strong> to the <strong>UI</strong>, then writing the <strong>server instructions</strong> on how to assemble user input values into outputs
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> running and quitting apps in RStudio
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
Packages introduced:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://shiny.rstudio.com/">shiny</a>: framework for building our reactive app + standard widgets
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://github.com/rstudio/DT">DT</a>: interactive datatable widgets (that can be made reactive using shiny!)
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://tidyverse.tidyverse.org">tidyverse</a>: collection of packages for wrangling &amp; visualizing data
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a>: data
</p>
</div>
</section><section id="roadmap-app1" class="slide level2" data-menu-title="Roadmap App#1"><h2></h2>
<div class="slide-title bottombr">
Roadmap for App #1
</div>
<p class="body-text">
We’ll start by building a small <strong>single-file app</strong> using data from the <a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a> package. We’ll build out the the following features:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br><br></p>
<p class="body-text">
<strong>(a)</strong> A title and subtitle
</p>
<p class="body-text topbr">
<strong>(b)</strong> A slider widget for users to select a range of penguin body masses
</p>
<p class="body-text topbr">
<strong>(c)</strong> A reactive scatterplot that updates based on user-supplied values
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/reactive_app_v1.gif" alt="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." width="700">
</center>
</div>
</div>
</section><section id="adding-text" class="slide level2" data-menu-title="Adding text"><h2></h2>
<div class="slide-title">
Add text in the UI
</div>
<p class="small-text">
We’ll do this in the <strong>UI</strong> within <code>fluidPage()</code>, a layout function that sets up the basic visual structure of the page and scales components in real time to fill all available browser width. Add a title and subtitle to your app (be sure to separate each with a comma, <code>,</code>), save, and run:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># user interface ----</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb9-3"><a href="#cb9-3"></a>  </span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="co"># app title ----</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="st">"My App Title"</span>,</span>
<span id="cb9-6"><a href="#cb9-6"></a>  </span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="co"># app subtitle ----</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="st">"Exploring Antarctic Penguin Data"</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>  </span>
<span id="cb9-10"><a href="#cb9-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p class="small-text">
Recall that the UI is actually just an HTML document. We can style our text by adding static HTML elements using <code>tags</code> – a list of functions that parallel common HTML tags (e.g.&nbsp;<code>&lt;h1&gt;</code> == <code>tags$h1()</code>) The most common tags also have wrapper functions (e.g.&nbsp;<code>h1()</code>).
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># user interface ----</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>  </span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="co"># app title ----</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"My App Title"</span>), <span class="co"># alternatively, you can use the `h1()` wrapper function</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  </span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="co"># app subtitle ----</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  <span class="fu">p</span>(<span class="fu">strong</span>(<span class="st">"Exploring Antarctic Penguin Data"</span>)) <span class="co"># alternatively, `tags$p(tags$strong("text"))`</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>  </span>
<span id="cb10-10"><a href="#cb10-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="inputs-outputs" class="slide level2" data-menu-title="Inputs &amp; Outputs"><h2></h2>
<div class="slide-title">
What are inputs and outputs?
</div>
<p class="small-text">
Next, we will begin to add some inputs and outputs to our UI inside <code>fluidPage()</code> (anything that you put into <code>fluidPage()</code> will appear in our app’s user interface…and we want inputs and outputs to show up there!).
</p>
<p class="small-text">
<strong>Inputs</strong> (or widgets) are the things that users can interact with (e.g.&nbsp;toggle, slide) and provide values to your app. The input functions below correspond to the widgets you see on <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/widgets">slide #9</a>. <strong>Outputs</strong> are the R objects that your user sees (e.g.&nbsp;tables, plots) and are what respond when a user interacts with/changes an input value.
</p>
<p class="small-text">
The <code>shiny</code> package comes with a number of input and output functions, but you can extend these with additional packages (e.g.&nbsp;<code>shinyWidgets</code>, <code>plotly</code>, <code>DT</code>, etc.; more on those later).
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p class="body-text">
<strong>Examples of Input Functions:</strong>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>actionButton()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>checkboxInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>checkboxGroupInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>dateInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>dateRangeInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>radioButtons()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>selectInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>sliderInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>textInput()</code>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> See full list of <code>shiny</code> input functions <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/">here</a>
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<p class="body-text">
<strong>Examples of Output Functions:</strong>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>dataTableOutput()</code> (inserts an interactive table)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>imageOutput()</code> (inserts an image)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>plotOutput()</code> (inserts a plot)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>tableOutput()</code> (inserts a table)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>textOutput()</code> (inserts text)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> See full list of <code>shiny</code> output functions <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson4/">here</a>
</p>
</div>
</div>
</section><section id="reactive-plot-app1" class="slide level2" data-menu-title="Adding reactive plot (app #1)"><h2></h2>
<div class="slide-title">
Adding our reactive plot
</div>
<p class="small-text">
Next, we’ll create a <strong>scatterplot of penguin bill lengths vs.&nbsp;penguin flipper lengths</strong> using the <code>penguins</code> data set from the <code>{palmerpengiuns}</code> package. We will make this scatterplot <em>reactive</em> by adding a <code>sliderInput</code> that allows users to filter the displayed data points by <strong>selecting a range of penguin body masses</strong> (e.g.&nbsp;only plot bill and flipper lengths for penguins with body masses ranging from 4,500 grams to 6,000 grams).
</p>
<div class="columns">
<div class="column" style="width:45%;">
<br><p class="small-text">
<strong>To create a reactive plot, we will follow these steps:</strong>
</p>
<p class="small-text topbr">
<strong>1.</strong> Add an input (e.g.&nbsp;<code>sliderInput</code>) to the <strong>UI</strong> that users can interact with
</p>
<p class="small-text">
<strong>2.</strong> Add an output (e.g.&nbsp;<code>plotOutput</code>) to the <strong>UI</strong> that creates a <em>placeholder space</em> to fill with our eventual reactive output
</p>
<p class="small-text">
<strong>3.</strong> Tell the <strong>server</strong> how to assemble inputs into outputs
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/reactive_app_v1.gif" alt="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." width="700">
</center>
</div>
</div>
</section><section id="input-syntax" class="slide level2" data-menu-title="Input Syntax"><h2></h2>
<div class="slide-title">
Input function syntax
</div>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>All input functions have the same first argument, <code>inputId</code></strong> (<strong>NOTE:</strong> <code>Id</code> <em>not</em> <code>ID</code>), <strong>which is used to connect the front end of your app (the UI) with the back end (the server).</strong> For example, if your UI has an <code>inputId = "name"</code>, the server function will access that input value using the syntax <code>input$name</code>. The <code>inputId</code> has two constraints: <strong>(1)</strong> it must be a simple string containing only letters, numbers, and underscores, <strong>(2)</strong> it must be unique within your app.
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Most input functions have a second parameter called <code>label</code>, which is used to create a human-readable label for the control, which will appear in the UI.
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> The remaining arguments are unique to each input function. Oftentimes, these include a <code>value</code> parameter, which lets you set the default value of your widget, where applicable.
</p>
<p class="body-text topbr">
<strong>A couple examples:</strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>), ...)</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"island"</span>, <span class="at">label =</span> <span class="st">"Choose and island:"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text topbr">
Check out the interactive <a href="https://shiny.rstudio.com/gallery/widget-gallery.html">Shiny Widgets Gallery</a> to learn how to implement the most common widgets.
</p>
</section><section id="add-input" class="slide level2" data-menu-title="Add an Input"><h2></h2>
<div class="slide-title">
<strong>Step 1:</strong> Add an input to your app
</div>
<p class="body-text">
First let’s add a <code>sliderInput()</code> that will allow users to select a range of penguin body masses (g).
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="6-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># user interface ----</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>  </span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  </span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="co"># body mass slider input ----</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>,</span>
<span id="cb12-8"><a href="#cb12-8"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>))</span>
<span id="cb12-9"><a href="#cb12-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p class="body-text">
When you run your app, you should see something similar to the image below. It’s operable, but does not yet have an associated output.
</p>
<center>
<img src="images/3000_4000.png" alt="A basic Shiny app, with a title that says 'My App Title', a subtitle that says, 'Exploring Palmer Penguins and Antarctic Temperatures, and a slider input with a label that says 'Select a range of body masses (g)'. The slider bar has a minimum value of 2,700 and a maximum value of 6,300, and the moveable slider selectors currently range from 3,000 to 4,000." width="450">
</center>
</div>
</section><section id="output-syntax" class="slide level2" data-menu-title="Output Syntax"><h2></h2>
<div class="slide-title">
Output function syntax
</div>
<p class="body-text">
Outputs in the UI create <strong>placeholders</strong> which are later filled by the server function.
</p>
<p class="body-text topbr">
Similar to input functions, <strong>all output functions take the same first argument, <code>outputId</code></strong> (again, note <code>Id</code> not <code>ID</code>), <strong>which connects the front end UI with the back end server.</strong> For example, if your UI contains an output function with an <code>outputId = "plot"</code>, the server function will access it (or in other words, know to place the plot in that particular placeholder) using the syntax <code>output$plot</code>.
</p>

<p class="body-text topbr">
<strong>A couple examples:</strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>)</span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="add-output" class="slide level2" data-menu-title="Add Output"><h2></h2>
<div class="slide-title">
<strong>Step 2:</strong> Add an output to your app
</div>
<p class="small-text">
Let’s now add a <code>plotOutput()</code>, which will be updated based on the user inputs via the <code>sliderInput()</code>, then run the app.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="10-11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># user interface ----</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb14-3"><a href="#cb14-3"></a>  </span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  </span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="co"># body mass slider input ----</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>,</span>
<span id="cb14-8"><a href="#cb14-8"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb14-9"><a href="#cb14-9"></a>  </span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="co"># body mass plot ouput ----</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>)</span>
<span id="cb14-12"><a href="#cb14-12"></a>  </span>
<span id="cb14-13"><a href="#cb14-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<br><p class="small-text">
Okay, it looks like nothing changed?? <strong>Remember, <code>*Output()</code> functions create placeholders, but we have not yet written the server instructions on how to fill and update those placeholders.</strong> We can inspect the HTML and see that there is, in fact, a placeholder area awaiting our eventual output, which will be a plot named “<em>bodyMass_scatterPlot</em>”:
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/output_placeholder.png" alt="A Google Chrome browser window with our Shiny app open on the left-hand side and the underlying HTML document open on the right. The app looks the same as before, except hovering over the HTML associated with our new plotOutput highlights a blue square region beneath the sliderInput. This highlighted region is the placeholder where our plot will eventually be rendered." width="450">
</center>
</div>
</div>
</div>
</section><section id="rendering-outputs" class="slide level2" data-menu-title="Rendering outputs"><h2></h2>
<div class="slide-title">
Rendering outputs
</div>
<p class="body-text">
Each <code>*Output()</code> function in the UI is coupled with a <code>render*()</code> function in the server, which contains the “instructions” for creating the output based on user inputs (or in other words, the instructions for making your output <em>reactive</em>).
</p>
<center>
<p class="body-text topbr">
<strong>Examples of <code>*Output()</code> functions and their corresponding <code>render*()</code> functions:</strong>
</p>
</center>
<table>
<thead><tr class="header">
<th>Output function</th>
<th>Render function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>dataTableOutput()</code></td>
<td><code>renderDataTable()</code></td>
</tr>
<tr class="even">
<td><code>imageOutput()</code></td>
<td><code>renderImage()</code></td>
</tr>
<tr class="odd">
<td><code>plotOutput()</code></td>
<td><code>renderPlot()</code></td>
</tr>
<tr class="even">
<td><code>tableOutput()</code></td>
<td><code>renderTable()</code></td>
</tr>
<tr class="odd">
<td><code>textOutput()</code></td>
<td><code>renderText()</code></td>
</tr>
</tbody>
</table></section><section id="assemble" class="slide level2" data-menu-title="Assemble Inputs into Outputs"><h2></h2>
<div class="slide-title">
<strong>Step 3:</strong> Tell the server how to assemble inputs into outputs
</div>
<p class="small-text">
Now that we’ve designed our input/output in the UI, we need to write the server instructions (i.e.&nbsp;write the server function) on how to use the input value(s) (i.e.&nbsp;penguin body mass range via a slider input) to update the output (scatter plot).
</p>
<p class="small-text">
The <strong>server function</strong> is defined with two arguments, <code>input</code> and <code>output</code>, both of which are list-like objects. You <em>must</em> define both of these arguments within the server function. <code>input</code> contains the values of all the different inputs at any given time, while <code>output</code> is where you’ll save output objects to display in the app.
</p>
<p class="small-text">
<strong><em>This part can be intimidating, but if you follow these three rules, you will successfully create reactivity within your shiny app!</em></strong>
</p>
<p class="large-body-text">
<strong>Rules:</strong>
</p>
<div class="fragment">
<p class="body-text">
<strong>1.</strong> Save objects you want to display to <code>output$&lt;id&gt;</code>
</p>
<p class="body-text">
<strong>2.</strong> Build reactive objects using a <code>render*()</code> function
</p>
<p class="body-text">
<strong>3.</strong> Access input values with <code>input$&lt;id&gt;</code>
</p>
</div>
</section><section id="rule1" class="slide level2" data-menu-title="Rule #1"><h2></h2>
<div class="slide-title-smaller">
<strong>Rule 1:</strong> Save objects you want to display to <code>output$&lt;id&gt;</code>
</div>
<div class="columns">
<div class="column" style="width:65%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="21-22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># load packages ----</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb15-3"><a href="#cb15-3"></a></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co"># user interface ----</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb15-6"><a href="#cb15-6"></a>  </span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>  </span>
<span id="cb15-9"><a href="#cb15-9"></a>  <span class="co"># body mass slider ----</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>,</span>
<span id="cb15-11"><a href="#cb15-11"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb15-12"><a href="#cb15-12"></a>  </span>
<span id="cb15-13"><a href="#cb15-13"></a>  <span class="co"># body mass plot output ----</span></span>
<span id="cb15-14"><a href="#cb15-14"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>) </span>
<span id="cb15-15"><a href="#cb15-15"></a>  </span>
<span id="cb15-16"><a href="#cb15-16"></a>)</span>
<span id="cb15-17"><a href="#cb15-17"></a></span>
<span id="cb15-18"><a href="#cb15-18"></a><span class="co"># server instructions ----</span></span>
<span id="cb15-19"><a href="#cb15-19"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb15-20"><a href="#cb15-20"></a>  </span>
<span id="cb15-21"><a href="#cb15-21"></a>  <span class="co"># render the scatter plot ----</span></span>
<span id="cb15-22"><a href="#cb15-22"></a>  output<span class="sc">$</span>bodyMass_scatterPlot <span class="ot">&lt;-</span> <span class="co"># code to generate plot here</span></span>
<span id="cb15-23"><a href="#cb15-23"></a>  </span>
<span id="cb15-24"><a href="#cb15-24"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<br><p class="small-text bottombr">
In our <strong>UI</strong>, we created a placeholder for our plot using the <code>plotOutput()</code> function and gave it the Id <code>"bodyMass_scatterplot"</code>. In our server, we will save our plot to the output argument by its <code>outputId</code>.
</p>
<p class="small-text important-text-bg topbr">
<strong>Note:</strong> In the <strong>UI</strong>, our <code>outputId</code> is quoted (<code>"bodyMass_scatterPlot"</code>), but not in the <strong>server</strong> (<code>bodyMass_scatterPlot</code>).
</p>
</div>
</div>
<p class="smaller-text">
<strong>I sometimes like to think to myself:</strong> “First, I’m going to tell my server to create an output using the syntax <code>output$</code>. Then, I will tell my server to place that output in the placeholder named”bodyMass_scatterPlot” (created in my UI) using the syntax <code>output$bodyMass_scatterPlot</code>.
</p>
</section><section id="rule2.1" class="slide level2" data-menu-title="Rule #2a"><h2></h2>
<div class="slide-title-smaller">
<strong>Rule 2:</strong> Build reactive objects with <code>render*()</code>
</div>
<p class="small-text">
Use the appropriate <code>render*()</code> function to make your output reactive (e.g.&nbsp;if you have a <code>plotOutput</code> in your UI, you will need to use <code>renderPlot()</code> in your server).
</p>
<p class="small-text">
Within your <code>render*()</code>, write any code inside a set of curly braces, <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>. This allows you to include as many lines of code as it takes to build your object.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="22-26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># load packages ----</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co"># user interface ----</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb16-6"><a href="#cb16-6"></a>  </span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>  </span>
<span id="cb16-9"><a href="#cb16-9"></a>  <span class="co"># body mass slider ----</span></span>
<span id="cb16-10"><a href="#cb16-10"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>,</span>
<span id="cb16-11"><a href="#cb16-11"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb16-12"><a href="#cb16-12"></a>  </span>
<span id="cb16-13"><a href="#cb16-13"></a>  <span class="co"># body mass plot output ----</span></span>
<span id="cb16-14"><a href="#cb16-14"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>) </span>
<span id="cb16-15"><a href="#cb16-15"></a>  </span>
<span id="cb16-16"><a href="#cb16-16"></a>)</span>
<span id="cb16-17"><a href="#cb16-17"></a></span>
<span id="cb16-18"><a href="#cb16-18"></a><span class="co"># server instructions ----</span></span>
<span id="cb16-19"><a href="#cb16-19"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb16-20"><a href="#cb16-20"></a>  </span>
<span id="cb16-21"><a href="#cb16-21"></a>  <span class="co"># render the scatter plot ----</span></span>
<span id="cb16-22"><a href="#cb16-22"></a>  output<span class="sc">$</span>bodyMass_scatterPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb16-23"><a href="#cb16-23"></a>    </span>
<span id="cb16-24"><a href="#cb16-24"></a>     <span class="co"># code to generate plot here</span></span>
<span id="cb16-25"><a href="#cb16-25"></a>    </span>
<span id="cb16-26"><a href="#cb16-26"></a>  }) </span>
<span id="cb16-27"><a href="#cb16-27"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="rule2.2" class="slide level2" data-menu-title="Practice in seperate script"><h2></h2>
<div class="slide-title-smaller">
<strong>An Aside:</strong> Draft objects (e.g.&nbsp;plots) in a separate script first
</div>
<p class="body-text bottombr">
I find it easier to experiment and draft my objects (e.g.&nbsp;plots) first in a separate script, then copy the code over to the server after. I want to make a plot that looks like this:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># load packages</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-4"><a href="#cb17-4"></a></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="co"># create plot</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="fu">ggplot</span>(<span class="fu">na.omit</span>(penguins), </span>
<span id="cb17-7"><a href="#cb17-7"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm, </span>
<span id="cb17-8"><a href="#cb17-8"></a>           <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>, </span>
<span id="cb17-13"><a href="#cb17-13"></a>       <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.2</span>),</span>
<span id="cb17-16"><a href="#cb17-16"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/penguin_scatterplot.png" alt="A scatterplot with Flipper length (mm) on the x-axis and Bill length (mm) on the y-axis. Data points are colored by penguins species: Adelie in orange circles, Chinstrap in purple triangles, and Gentoo in green squares." width="450">
</center>
</div>
</div>
<p class="small-text important-text-bg">
<strong>Tip:</strong> Save your practice script in a separate directory (i.e.&nbsp;not inside your app directory) – I typically save mine to something like <code>~/R/practice_script.R</code>.
</p>
</section><section id="rule2.3" class="slide level2" data-menu-title="Copy code into server"><h2></h2>
<div class="slide-title-smaller">
Copy your plot code into the server
</div>
<p class="body-text">
Copy your code over to your app, placing it inside the <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> (and make sure to add any additional required packages to the top of your <code>app.R</code> script). Run your app. What do you notice?
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="25-35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># load packages ----</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb18-5"><a href="#cb18-5"></a></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co"># user interface ----</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb18-8"><a href="#cb18-8"></a>  </span>
<span id="cb18-9"><a href="#cb18-9"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>  </span>
<span id="cb18-11"><a href="#cb18-11"></a>  <span class="co"># body mass slider ----</span></span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>,</span>
<span id="cb18-13"><a href="#cb18-13"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb18-14"><a href="#cb18-14"></a>  </span>
<span id="cb18-15"><a href="#cb18-15"></a>  <span class="co"># body mass plot output ----</span></span>
<span id="cb18-16"><a href="#cb18-16"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>)</span>
<span id="cb18-17"><a href="#cb18-17"></a>  </span>
<span id="cb18-18"><a href="#cb18-18"></a>)</span>
<span id="cb18-19"><a href="#cb18-19"></a></span>
<span id="cb18-20"><a href="#cb18-20"></a><span class="co"># server instructions ----</span></span>
<span id="cb18-21"><a href="#cb18-21"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb18-22"><a href="#cb18-22"></a>  </span>
<span id="cb18-23"><a href="#cb18-23"></a>  <span class="co"># render the scatter plot ----</span></span>
<span id="cb18-24"><a href="#cb18-24"></a>  output<span class="sc">$</span>bodyMass_scatterPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({ </span>
<span id="cb18-25"><a href="#cb18-25"></a>      <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(penguins),</span>
<span id="cb18-26"><a href="#cb18-26"></a>             <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm,</span>
<span id="cb18-27"><a href="#cb18-27"></a>                 <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span> </span>
<span id="cb18-28"><a href="#cb18-28"></a>        <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb18-29"><a href="#cb18-29"></a>        <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb18-30"><a href="#cb18-30"></a>        <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb18-31"><a href="#cb18-31"></a>        <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>, </span>
<span id="cb18-32"><a href="#cb18-32"></a>             <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span> </span>
<span id="cb18-33"><a href="#cb18-33"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb18-34"><a href="#cb18-34"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.2</span>), </span>
<span id="cb18-35"><a href="#cb18-35"></a>              <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>)) </span>
<span id="cb18-36"><a href="#cb18-36"></a>  }) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="non-reactive-plot" class="slide level2" data-menu-title="Non-reactive plot appears"><h2></h2>
<div class="slide-title-smaller">
A non-reactive plot now lives in our <code>plotOutput()</code> placeholder
</div>
<p class="body-text bottombr">
We have a plot (yay!), but it isn’t reactive. We have not yet told the server how to update the plot based on user inputs via the <code>sliderInput()</code> in the UI. Let’s do that next…
</p>
<center>
<img src="images/nonreactive_app.gif" alt="A user changes the sliderInput meant associated with the penguin data scatterplot, but the plot does not update (i.e. it is not yet reactive)." width="450">
</center>
</section><section id="practice-filtering" class="slide level2" data-menu-title="Practice filtering data"><h2></h2>
<div class="slide-title-smaller">
Practice filtering data in our separate script
</div>
<p class="small-text">
First, create a new data frame where we filter the <code>body_mass_g</code> column for observations within a specific range of values (in this example, values ranging from 3000 - 4000):
</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># load packages</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="co"># filter penguins df for observations where body_mass_g &gt;= 3000 &amp; &lt;= 4000</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>body_mass_df <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> <span class="dv">3000</span><span class="sc">:</span><span class="dv">4000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p class="small-text">
Then, plot the new filtered data frame:
</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># plot new, filtered data</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">ggplot</span>(<span class="fu">na.omit</span>(body_mass_df), <span class="co"># plot 'body_mass_df' rather than 'penguins' df</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm, </span>
<span id="cb20-4"><a href="#cb20-4"></a>           <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>, </span>
<span id="cb20-9"><a href="#cb20-9"></a>       <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.2</span>),</span>
<span id="cb20-12"><a href="#cb20-12"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<center>
<img src="images/filtered_penguin_plot.png" alt="A scatterplot of penguin Bill length (mm) vs. Flipper length (mm) for Adelie (orange circles), Chinstrap (purple triangles), and Gentoo (green squares) penguins. For all species, bill length tends to increase with flipper length." width="450">
</center>
</div>
</div>
</div>
</section><section id="what-needs-updating" class="slide level2" data-menu-title="What needs to be reactive?"><h2></h2>
<div class="slide-title-smaller">
Which part of our code needs to be updated when a user changes the slider range input?
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>body_mass_df <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> <span class="dv">3000</span><span class="sc">:</span><span class="dv">4000</span>) <span class="co"># 3000:4000 needs to be update-able (or in other words, reactive)!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p class="body-text">
<strong>For example:</strong>
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>body_mass_df <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> <span class="dv">2857</span><span class="sc">:</span><span class="dv">5903</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<center>
<img src="images/2857_5903.png" alt="Our Shiny app with just a title, subtitle, and slider input, where the input values are at a minimum of 2,857 and a maximum of 5,903." width="450">
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>body_mass_df <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> <span class="dv">3725</span><span class="sc">:</span><span class="dv">5191</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<center>
<img src="images/3725_5191.png" alt="Our Shiny app with just a title, subtitle, and slider input, where the input values are at a minimum of 3,725 and a maximum of 5,191." width="450">
</center>
</div>
</div>
</div>
</section><section id="rule3.1" class="slide level2" data-menu-title="Rule #3a"><h2></h2>
<div class="slide-title-smaller">
<strong>Rule 3:</strong> Access input values with <code>input$&lt;id&gt;</code>
</div>
<p class="small-text">
Recall that in our <strong>UI</strong>, we gave our <code>sliderInput()</code> an <code>inputId = "body_mass"</code>.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># load packages (omitted for brevity) ----</span></span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co"># user interface ----</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb24-5"><a href="#cb24-5"></a>  </span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>  </span>
<span id="cb24-8"><a href="#cb24-8"></a>  <span class="co"># body mass slider ----</span></span>
<span id="cb24-9"><a href="#cb24-9"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>, </span>
<span id="cb24-10"><a href="#cb24-10"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb24-11"><a href="#cb24-11"></a>  </span>
<span id="cb24-12"><a href="#cb24-12"></a>  <span class="co"># body mass plot output ----</span></span>
<span id="cb24-13"><a href="#cb24-13"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>)</span>
<span id="cb24-14"><a href="#cb24-14"></a>  </span>
<span id="cb24-15"><a href="#cb24-15"></a>)</span>
<span id="cb24-16"><a href="#cb24-16"></a></span>
<span id="cb24-17"><a href="#cb24-17"></a><span class="co"># server instructions ----</span></span>
<span id="cb24-18"><a href="#cb24-18"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb24-19"><a href="#cb24-19"></a>      </span>
<span id="cb24-20"><a href="#cb24-20"></a>  <span class="co"># render the scatter plot ----</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>  output<span class="sc">$</span>bodyMass_scatterPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({ </span>
<span id="cb24-22"><a href="#cb24-22"></a>      <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(penguins, <span class="fu">aes</span>(...)) <span class="sc">+</span> <span class="co"># etc. (omitted for brevity)</span></span>
<span id="cb24-23"><a href="#cb24-23"></a>  <span class="er">}</span>) </span>
<span id="cb24-24"><a href="#cb24-24"></a>    </span>
<span id="cb24-25"><a href="#cb24-25"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="rule3.2" class="slide level2" data-menu-title="Rule #3b"><h2></h2>
<div class="slide-title-smaller">
<strong>Rule 3:</strong> Access input values with <code>input$&lt;id&gt;</code>
</div>
<p class="smaller-text">
In our server, we can access the values of that slider input using the syntax, <code>input$body_mass</code>. <em>If you want your output to change according to the input values, substitute hard-coded values (e.g.&nbsp;3725:5191) with the input values from the UI (e.g.&nbsp;<code>input$body_mass[1]:input$body_mass[2]</code>)</em>.
</p>
<p class="smaller-text important-text-bg">
<strong>Importantly</strong>, we need to use <code>reactive()</code> to create reactive data frames that update with user inputs. When you call your reactive data frame in your ggplot, <strong>the data frame name must be followed by <code>()</code></strong>.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="20-24|28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># load packages (omitted for brevity) ----</span></span>
<span id="cb25-2"><a href="#cb25-2"></a></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="co"># user interface ----</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb25-5"><a href="#cb25-5"></a>  </span>
<span id="cb25-6"><a href="#cb25-6"></a>  <span class="co"># ~ previous code omitted for brevity ~</span></span>
<span id="cb25-7"><a href="#cb25-7"></a>  </span>
<span id="cb25-8"><a href="#cb25-8"></a>  <span class="co"># body mass slider ----</span></span>
<span id="cb25-9"><a href="#cb25-9"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g):"</span>, </span>
<span id="cb25-10"><a href="#cb25-10"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb25-11"><a href="#cb25-11"></a>  </span>
<span id="cb25-12"><a href="#cb25-12"></a>  <span class="co"># body mass plot output ----</span></span>
<span id="cb25-13"><a href="#cb25-13"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>)</span>
<span id="cb25-14"><a href="#cb25-14"></a>  </span>
<span id="cb25-15"><a href="#cb25-15"></a>)</span>
<span id="cb25-16"><a href="#cb25-16"></a></span>
<span id="cb25-17"><a href="#cb25-17"></a><span class="co"># server instructions ----</span></span>
<span id="cb25-18"><a href="#cb25-18"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb25-19"><a href="#cb25-19"></a>  </span>
<span id="cb25-20"><a href="#cb25-20"></a>  <span class="co"># filter body masses ----</span></span>
<span id="cb25-21"><a href="#cb25-21"></a>  body_mass_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({ </span>
<span id="cb25-22"><a href="#cb25-22"></a>    penguins <span class="sc">|&gt;</span> </span>
<span id="cb25-23"><a href="#cb25-23"></a>      <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> input<span class="sc">$</span>body_mass[<span class="dv">1</span>]<span class="sc">:</span>input<span class="sc">$</span>body_mass[<span class="dv">2</span>]) </span>
<span id="cb25-24"><a href="#cb25-24"></a>  })</span>
<span id="cb25-25"><a href="#cb25-25"></a>      </span>
<span id="cb25-26"><a href="#cb25-26"></a>  <span class="co"># render the scatter plot ----</span></span>
<span id="cb25-27"><a href="#cb25-27"></a>  output<span class="sc">$</span>bodyMass_scatterPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({ </span>
<span id="cb25-28"><a href="#cb25-28"></a>      <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">body_mass_df</span>(), <span class="fu">aes</span>(...)) <span class="sc">+</span> <span class="co"># etc. (omitted for brevity)</span></span>
<span id="cb25-29"><a href="#cb25-29"></a>  <span class="er">}</span>) </span>
<span id="cb25-30"><a href="#cb25-30"></a>    </span>
<span id="cb25-31"><a href="#cb25-31"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="run-that-app" class="slide level2" data-menu-title="Run that app!"><h2></h2>
<div class="slide-title">
Okay, RUN THAT APP!
</div>
<p class="body-text">
You should now have a reactive Shiny app! <em>Note that reactivity automatically occurs whenever you use an <strong>input value</strong> to <strong>render</strong> an <strong>output object</strong>.</em>
</p>
<center>
<img src="images/reactive_app_v1.gif" alt="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." width="550">
</center>
</section><section id="recapp-app1" class="slide level2" data-menu-title="Recap: app #1"><h2></h2>
<div class="slide-title-smaller">
Recap: We created our first <em>reactive</em> Shiny app following these steps:
</div>
<div class="fragment">
<p class="body-text">
<strong>1.</strong> We created an <code>app.R</code> file in it’s own directory and began our app with the <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/single-file">template</a>, though you can also create a <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/two-file">two-file Shiny app</a> by using separate <code>ui.R</code> and <code>server.R</code> files.
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<strong>2.</strong> We added an input to the <code>fluidPage()</code> in our <strong>UI</strong> using an <code>*Input()</code> function and gave it a <em>unique</em> <code>inputId</code> (e.g.&nbsp;<code>inputId = "unique_input_Id_name"</code>)
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<strong>3.</strong> We created a placeholder for our reactive object by using an <code>*Output()</code> function in the <code>fluidPage()</code> of our <strong>UI</strong> and gave it an <code>outputId</code> (e.g.&nbsp;<code>outputId = "output_Id_name"</code>)
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<strong>4.</strong> We wrote the <strong>server</strong> instructions for how to assemble inputs into outputs, following these rules:
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> save objects that you want to display to <code>output$&lt;id&gt;</code>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> build reactive objects using a <code>render*()</code> function (and similarly, build reactive data frames using <code>reactive()</code>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> access input values with <code>input$&lt;id&gt;</code>
</p>
</div>
<div class="fragment">
<center>
<p class="medium-body-text topbr">
And we saw that reactivity automatically occurs whenever we use an <strong><em>input value</em></strong> to <strong><em>render</em></strong> an <strong><em>output object</em></strong>.
</p>
</center>
</div>
</section><section id="app1-ex1" class="slide level2" data-menu-title="** Exercise 1 Prompt **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> Exercise 1: Add another reactive widget
</div>
<p class="small-text bottombr">
The <a href="https://rstudio.github.io/DT/"><code>{DT}</code> package</a> provides an R interface to the JavaScript library <a href="https://datatables.net/">DataTables</a> (you may have already used the DT package in your knitted RMarkdown/Quarto HTML documents). DT datatables allow for filtering, pagination, sorting, and lots of other neat features for tables on your HTML pages.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<br><p class="small-text topbr">
<strong>Working alone or in groups, add a reactive <code>DT</code> datatable to your app with a <code>checkboxGroupInput</code> that allows users to select which year(s) to include in the table. Configure your <code>checkboxGroupInput</code> so that the years 2007 and 2008 are pre-selected.</strong>
</p>
<p class="small-text topbr">
In the end, your app should look something like the example to the right.
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/DT.gif" alt="A gif of our current Shiny app, demonstrating the newly added DT::datatable. The user is able to select which years (2007, 2008, 2009) to display data for by clicking on one more more checkboxes." width="550">
</center>
</div>
</div>
<p><br></p>
<center>
<p class="large-body-text">
See next slide for some tips on getting started!
</p>
</center>
</section><section id="app1-ex1-tips" class="slide level2" data-menu-title="** Exercise 1 Tips **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Lightbulb" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Lightbulb</title>
<path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"></path></svg> Exercise 1: Tips
</div>
<p class="body-text topbr">
<strong>Tips:</strong>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Use <code>?checkboxGroupInput</code> to learn more about which arguments you need (remember, all inputs require an <code>inputId</code> and oftentimes a <code>label</code>, but there are others required to make this work as well)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Both <a href="https://shiny.rstudio.com/">shiny</a> and <a href="https://github.com/rstudio/DT">DT</a> packages have functions named <code>dataTableOutput()</code> and <code>renderDataTable()</code> (<code><a href="https://rdrr.io/pkg/DT/man/dataTableOutput.html">DT::renderDataTable()</a></code> allows you to create both server-side and client-side DataTables and supports additional DataTables features while <code><a href="https://shiny.rstudio.com/reference/shiny/latest/renderDataTable.html">shiny::renderDataTable()</a></code> only provides server-side DataTables). Be sure to use the one from the <a href="https://github.com/rstudio/DT">DT</a> package using the syntax <code>packagename::functionname()</code>.
</p>
<p class="smaller-text bottombr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> There are lots of ways to customize DT tables, but to create a basic one, all you need is to <code>DT::dataTable(your_dataframe)</code>
</p>
<p>
</p>
<p class="body-text topbr">
<strong>And remember</strong> to follow the steps outlined on the previous slides (jump back to <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/reactive-plot-app1">slide 27</a>):
</p>
<p class="small-text">
<strong>1.</strong> Add an input (e.g.&nbsp;<code>checkboxGroupInput</code>) to the <strong>UI</strong> that users can interact with
</p>
<p>
</p>
<p class="small-text">
<strong>2.</strong> Add an output (e.g.&nbsp;<code>DT::datatableOutput</code>) to the <strong>UI</strong> that creates a placeholder space to fill with our eventual reactive output
</p>
<p>
</p>
<p class="small-text">
<strong>3.</strong> Tell the <strong>server</strong> how to assemble inputs into outputs following 3 rules:
</p>
<p>
</p>
<p class="smaller-text">
<strong>3.1</strong> Save objects you want to display to <code>output$&lt;id&gt;</code>
</p>
<p>
</p>
<p class="smaller-text">
<strong>3.2</strong> Build reactive objects using a <code>render*()</code> function
</p>
<p>
</p>
<p class="smaller-text">
<strong>3.3</strong> Access input values with <code>input$&lt;id&gt;</code>
</p>
<p>
</p>
<center>
<p class="large-body-text topbr">
See next slide for a solution!
</p>
</center>
</section><section id="app1-ex1-solution" class="slide level2" data-menu-title="** Exercise 1 Solution **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Exercise 1: A solution
</div>
<p class="small-text">
Press the right arrow key to advance through the newly added lines of code.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="5|23-29|60-73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># load packages ----</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="fu">library</span>(DT)</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co"># user interface ----</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb26-9"><a href="#cb26-9"></a>  </span>
<span id="cb26-10"><a href="#cb26-10"></a>  <span class="co"># app title ----</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"My App Title"</span>),</span>
<span id="cb26-12"><a href="#cb26-12"></a>  </span>
<span id="cb26-13"><a href="#cb26-13"></a>  <span class="co"># app subtitle ----</span></span>
<span id="cb26-14"><a href="#cb26-14"></a>  <span class="fu">p</span>(<span class="fu">strong</span>(<span class="st">"Exploring Antarctic Penguin Data"</span>)),</span>
<span id="cb26-15"><a href="#cb26-15"></a>  </span>
<span id="cb26-16"><a href="#cb26-16"></a>  <span class="co"># body mass slider input ----</span></span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g)"</span>,</span>
<span id="cb26-18"><a href="#cb26-18"></a>              <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb26-19"><a href="#cb26-19"></a></span>
<span id="cb26-20"><a href="#cb26-20"></a>  <span class="co"># body mass plot output ----</span></span>
<span id="cb26-21"><a href="#cb26-21"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterPlot"</span>),</span>
<span id="cb26-22"><a href="#cb26-22"></a>  </span>
<span id="cb26-23"><a href="#cb26-23"></a>  <span class="co"># year input ----</span></span>
<span id="cb26-24"><a href="#cb26-24"></a>  <span class="fu">checkboxGroupInput</span>(<span class="at">inputId =</span> <span class="st">"year"</span>, <span class="at">label =</span> <span class="st">"Select year(s):"</span>,</span>
<span id="cb26-25"><a href="#cb26-25"></a>                     <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"2007"</span>, <span class="st">"2008"</span>, <span class="st">"2009"</span>), <span class="co"># or `unique(penguins$year)` | </span><span class="al">NOTE</span><span class="co">: update checkbox display name by using "New name" = "observation name" (e.g "The year 2007" = "2007")</span></span>
<span id="cb26-26"><a href="#cb26-26"></a>                     <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"2007"</span>, <span class="st">"2008"</span>)),</span>
<span id="cb26-27"><a href="#cb26-27"></a>  </span>
<span id="cb26-28"><a href="#cb26-28"></a>  <span class="co"># DT output ----</span></span>
<span id="cb26-29"><a href="#cb26-29"></a>  DT<span class="sc">::</span><span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_data"</span>)</span>
<span id="cb26-30"><a href="#cb26-30"></a>  </span>
<span id="cb26-31"><a href="#cb26-31"></a>)</span>
<span id="cb26-32"><a href="#cb26-32"></a></span>
<span id="cb26-33"><a href="#cb26-33"></a><span class="co"># server instructions ----</span></span>
<span id="cb26-34"><a href="#cb26-34"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb26-35"><a href="#cb26-35"></a>  </span>
<span id="cb26-36"><a href="#cb26-36"></a>  <span class="co"># filter body masses ----</span></span>
<span id="cb26-37"><a href="#cb26-37"></a>  body_mass_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb26-38"><a href="#cb26-38"></a>    penguins <span class="sc">|&gt;</span></span>
<span id="cb26-39"><a href="#cb26-39"></a>      <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> input<span class="sc">$</span>body_mass[<span class="dv">1</span>]<span class="sc">:</span>input<span class="sc">$</span>body_mass[<span class="dv">2</span>]) <span class="co"># return observations where body_mass_g is "in" the set of options provided by the user in the sliderInput</span></span>
<span id="cb26-40"><a href="#cb26-40"></a>  })</span>
<span id="cb26-41"><a href="#cb26-41"></a></span>
<span id="cb26-42"><a href="#cb26-42"></a>  <span class="co"># render the scatterplot output ----</span></span>
<span id="cb26-43"><a href="#cb26-43"></a>  output<span class="sc">$</span>bodyMass_scatterPlot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb26-44"><a href="#cb26-44"></a></span>
<span id="cb26-45"><a href="#cb26-45"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">body_mass_df</span>()),</span>
<span id="cb26-46"><a href="#cb26-46"></a>           <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm,</span>
<span id="cb26-47"><a href="#cb26-47"></a>               <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb26-48"><a href="#cb26-48"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb26-49"><a href="#cb26-49"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb26-50"><a href="#cb26-50"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb26-51"><a href="#cb26-51"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>,</span>
<span id="cb26-52"><a href="#cb26-52"></a>           <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb26-53"><a href="#cb26-53"></a>      <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-54"><a href="#cb26-54"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.2</span>),</span>
<span id="cb26-55"><a href="#cb26-55"></a>            <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>))</span>
<span id="cb26-56"><a href="#cb26-56"></a>    </span>
<span id="cb26-57"><a href="#cb26-57"></a>  }, <span class="at">alt =</span> <span class="st">"A scatterplot of penguin Bill length (mm) vs. Flipper length (mm) for Adelie (orange circles), Chinstrap (purple triangles), and Gentoo (green squares) penguins."</span></span>
<span id="cb26-58"><a href="#cb26-58"></a>  )</span>
<span id="cb26-59"><a href="#cb26-59"></a>  </span>
<span id="cb26-60"><a href="#cb26-60"></a>  <span class="co"># filter for years ----</span></span>
<span id="cb26-61"><a href="#cb26-61"></a>  years_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb26-62"><a href="#cb26-62"></a>    penguins <span class="sc">|&gt;</span> </span>
<span id="cb26-63"><a href="#cb26-63"></a>      <span class="fu">filter</span>(year <span class="sc">%in%</span> input<span class="sc">$</span>year) <span class="co"># return observations where year is "in" the set of options provided by the user via the checkboxGroupInput</span></span>
<span id="cb26-64"><a href="#cb26-64"></a>  })</span>
<span id="cb26-65"><a href="#cb26-65"></a>  </span>
<span id="cb26-66"><a href="#cb26-66"></a>  <span class="co"># render the DT::datatable ----</span></span>
<span id="cb26-67"><a href="#cb26-67"></a>  output<span class="sc">$</span>penguin_data <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="cb26-68"><a href="#cb26-68"></a>    </span>
<span id="cb26-69"><a href="#cb26-69"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">years_df</span>(),</span>
<span id="cb26-70"><a href="#cb26-70"></a>                  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pagelength =</span> <span class="dv">10</span>),</span>
<span id="cb26-71"><a href="#cb26-71"></a>                  <span class="at">rownames =</span> <span class="cn">FALSE</span>)</span>
<span id="cb26-72"><a href="#cb26-72"></a>    </span>
<span id="cb26-73"><a href="#cb26-73"></a>  })</span>
<span id="cb26-74"><a href="#cb26-74"></a>  </span>
<span id="cb26-75"><a href="#cb26-75"></a>}</span>
<span id="cb26-76"><a href="#cb26-76"></a></span>
<span id="cb26-77"><a href="#cb26-77"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb26-78"><a href="#cb26-78"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="common-mistakes" class="slide level2" data-menu-title="Common Mistakes"><h2></h2>
<div class="slide-title-smaller">
Common mistakes to look out for
</div>
<p class="body-text">
It’s inevitable that you’ll make mistakes here and there as you build out your app…and they can be frustrating to catch. A few that I find myself making over and over again are:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> misspelling <code>inputId</code> as <code>inputID</code> (or <code>outputId</code> as <code>outputID</code>)
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> misspelling your inputId (or outputId) name in the server (e.g.&nbsp;UI: <code>inputId = "myInputID"</code>, server: <code>input$my_Input_ID</code>)
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> repeating <code>inputId</code>s (each <em>must</em> be unique)
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> forgetting to separate UI elements with a comma, <code>,</code>
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> forgetting the set of parentheses when calling the name of a reactive data frame in a plot (e.g.&nbsp;<code>ggplot(my_reactive_df(), aes(...))</code>)
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<br><center>
<img src="images/oops.gif" alt="A gif of Britney Spears in her iconic red spandex outfit singing 'Oops I did it again.'" width="700">
</center>
</div>
</div>
</section><section id="break1" class="slide level2" data-menu-title="# Break #" data-background="#047C90"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Mug Hot" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Mug Hot</title>
<path d="M88 0C74.7 0 64 10.7 64 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1C120.5 112.3 128 119.9 128 136c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C119.5 47.7 112 40.1 112 24c0-13.3-10.7-24-24-24zM32 192c-17.7 0-32 14.3-32 32V416c0 53 43 96 96 96H288c53 0 96-43 96-96h16c61.9 0 112-50.1 112-112s-50.1-112-112-112H352 32zm352 64h16c26.5 0 48 21.5 48 48s-21.5 48-48 48H384V256zM224 24c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1C232.5 112.3 240 119.9 240 136c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C231.5 47.7 224 40.1 224 24z"></path></svg> Break
</p>
<p class="caption-text">
<em>Give your eyes a break from the computer screen!</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_954c8264" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls">
<button class="countdown-bump-down">−</button><button class="countdown-bump-up">&amp;plus;</button>
</div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section><section id="build-app2" class="slide level2" data-menu-title="~~~ Building App #2 ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Screwdriver wrench" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Screwdriver wrench</title>
<path d="M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM104 432c0 13.3-10.7 24-24 24s-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24z"></path></svg> Building out your 2<sup>nd</sup> app
</p>
<p class="caption-text">
<em>Up until now, we’ve been adding our text and widgets in a pretty unstructured way – elements are stacked on top of one another within a single column. Next, we’ll learn how to customize the layout of our app to make it a bit more visually pleasing.</em>
</p>
</div>
</section><section id="LO-app2v1" class="slide level2" data-menu-title="Learning Objectives - App #2v1"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - App #2v1 (two-file app)
</div>
<p class="medium-body-text bottombr">
By the end of building out this second app, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> be comfortable creating a shiny app using the two-file (<code>ui.R</code> &amp; <code>server.R</code>) format along with a <code>global.R</code> file
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand how to use layout functions to customize the visual structure of your app’s UI
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> have more practice building reactive outputs – and placing them within the layout structure of your app
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> be able to create multiple inputs that control a given output
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> know how to import larger bodies of text using <code>includeMarkdown()</code> (rather than writing &amp; styling text within your UI)
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> successfully publish an app using <a href="https://www.shinyapps.io/">shinyapps.io</a>
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
Packages introduced:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://github.com/dreamRs/shinyWidgets">shinyWidgets</a>: extend shiny widgets with some different, fun options
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://github.com/lter/lterdatasampler">lterdatasampler</a>: data
</p>
</div>
</section><section id="roadmap-app2v1" class="slide level2" data-menu-title="Roadmap App #2v1"><h2></h2>
<div class="slide-title-smaller">
Roadmap for App #2v1
</div>
<p class="body-text">
We’ll be building out our <strong>two-file app</strong> using data from the <a href="https://github.com/lter/lterdatasampler">lterdatasampler</a> and <a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a> packages. We’ll focus on creating a functional app that has a more visually pleasing UI layout (and we’ll refine it’s appearance even further in <a href="">v2</a>). By the end of v1, we’ll have created:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<br><p class="small-text">
<strong>(a)</strong> A navigation bar with two pages, one of which will contain two tabs (one tab for each plot)
</p>
<p class="small-text">
<strong>(b)</strong> A <code>pickerInput</code> <em>and</em> <code>checkboxGroupButtons</code> for users to filter cutthroat trout data in a reactive scatterplot
</p>
<p class="small-text">
<strong>(c)</strong> A <code>pickerInput</code> for users to filter penguin data <em>and</em> a <code>sliderInput</code> to adjust the number of bins in a reactive histogram
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<br><center>
<img src="images/app2_v1.gif" alt="An app titled 'LTER Animal Data Explorer'. The user starts on the 'About this App' page, which includes a couple paragraphs of intro text. The user then clicks on the 'Explore the Data' page which has two tabs: Trout and Penguins. On the Trout tab, we see a scatterplot with Trout Length (mm) on the x-axis and Trout Weight (g) on the y-axis. The user first filters data by Channel Type using a drop down list selector widget, then by Forest Section using two buttons that toggle on data from clear cut vs. old growth forest. In the Penguin tab, we see a histogram displaying Flipper Lengths (mm) of three penguin species. The user uses a drop down list selector widget to filter data by Island, then uses a slider widget to adjust the number of histogram bins." width="750">
</center>
</div>
</div>
<div class="fragment">
<p class="small-text">
You’ll notice that there are some UI quirks (most notably, blank plots that appear when no data is selected) that can make the user experience less than ideal (and even confusing) – we’ll learn about ways to improve this in v2 of our app.
</p>
</div>
</section><section id="two-source" class="slide level2" data-menu-title="Two source panes"><h2></h2>
<div class="slide-title">
Two files? Try two panes!
</div>
<p class="body-text bottombr">
We’ll be building out a <strong>two-file shiny app</strong> this time around. You can open multiple scripts up side-by-side by navigating to <strong>Tools</strong> &gt; <strong>Global Options</strong> &gt; <strong>Pane Layout</strong> &gt; <strong>Add Column</strong>
</p>
<center>
<img src="images/two_source.png" alt="RStudio with three columns. (From left to right): (1) a source pane with `ui.R` open (2) a second source pane on the top with `server.R` open and the console on the bottom, (3) Environment/History/Git/etc. on the top and Files/Plots/Packages/etc. on the bottom" width="650">
</center>
<p class="body-text topbr">
This setup is certainly not required/necessary – organize your IDE however you work best!
</p>
</section><section id="app2-plots" class="slide level2" data-menu-title="Draft Plots (app#2)"><h2></h2>
<div class="slide-title-smaller">
Practice data wrangling, filtering &amp; viz first!
</div>
<p class="small-text">
Here’s what I’ve done in my <code>~R/practice_script_app2_lter.R</code> file:
</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-1-1">Trout plot</a></li>
<li><a href="#tabset-1-2">Penguin plot</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co">#..........................load packages.........................</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb27-4"><a href="#cb27-4"></a></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="co">#............custom ggplot theme (apply to both plots)...........</span></span>
<span id="cb27-6"><a href="#cb27-6"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb27-8"><a href="#cb27-8"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-9"><a href="#cb27-9"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-10"><a href="#cb27-10"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb27-11"><a href="#cb27-11"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb27-12"><a href="#cb27-12"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span>
<span id="cb27-13"><a href="#cb27-13"></a></span>
<span id="cb27-14"><a href="#cb27-14"></a><span class="co">#.......................wrangle trout data.......................</span></span>
<span id="cb27-15"><a href="#cb27-15"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb27-16"><a href="#cb27-16"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb27-17"><a href="#cb27-17"></a>  <span class="fu">select</span>(year, sampledate, section, reach, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb27-18"><a href="#cb27-18"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-19"><a href="#cb27-19"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb27-20"><a href="#cb27-20"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb27-21"><a href="#cb27-21"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb27-22"><a href="#cb27-22"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb27-23"><a href="#cb27-23"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb27-24"><a href="#cb27-24"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb27-25"><a href="#cb27-25"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb27-26"><a href="#cb27-26"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb27-27"><a href="#cb27-27"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-28"><a href="#cb27-28"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb27-29"><a href="#cb27-29"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb27-30"><a href="#cb27-30"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb27-31"><a href="#cb27-31"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb27-32"><a href="#cb27-32"></a></span>
<span id="cb27-33"><a href="#cb27-33"></a><span class="co">#..................practice filtering trout data.................</span></span>
<span id="cb27-34"><a href="#cb27-34"></a>trout_filtered_df <span class="ot">&lt;-</span> clean_trout <span class="sc">|&gt;</span> </span>
<span id="cb27-35"><a href="#cb27-35"></a>  <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"pool"</span>, <span class="st">"rapid"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-36"><a href="#cb27-36"></a>  <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>))</span>
<span id="cb27-37"><a href="#cb27-37"></a></span>
<span id="cb27-38"><a href="#cb27-38"></a><span class="co">#........................plot trout data.........................</span></span>
<span id="cb27-39"><a href="#cb27-39"></a><span class="fu">ggplot</span>(trout_filtered_df, <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb27-40"><a href="#cb27-40"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb27-41"><a href="#cb27-41"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>, </span>
<span id="cb27-42"><a href="#cb27-42"></a>                                <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>, </span>
<span id="cb27-43"><a href="#cb27-43"></a>                                <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb27-44"><a href="#cb27-44"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>, </span>
<span id="cb27-45"><a href="#cb27-45"></a>                                <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>, </span>
<span id="cb27-46"><a href="#cb27-46"></a>                                <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb27-47"><a href="#cb27-47"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb27-48"><a href="#cb27-48"></a>  myCustomTheme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/trout_plot.png" alt="A scatterplot with Trout Length (mm) on the x-axis and Trout Weight (g) on the y-axis. Data points are colored and shaped by Channel Type, with data collected from pools represented with green diamonds and data collected from rapids represented by red stars." width="550">
</center>
<center>
<p class="small-text gray-text">
We’ll build 2 inputs: one to select <code>channel_type</code> and one to select <code>section</code>.
</p>
</center>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co">#..........................load packages.........................</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb28-4"><a href="#cb28-4"></a></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="co">#..................practice filtering for island.................</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>island_df <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>  <span class="fu">filter</span>(island <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Dream"</span>, <span class="st">"Torgesen"</span>))</span>
<span id="cb28-8"><a href="#cb28-8"></a></span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="co">#........................plot penguin data.......................</span></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="fu">ggplot</span>(<span class="fu">na.omit</span>(island_df), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb28-11"><a href="#cb28-11"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">bins =</span> <span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb28-12"><a href="#cb28-12"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb28-13"><a href="#cb28-13"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb28-14"><a href="#cb28-14"></a>       <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb28-15"><a href="#cb28-15"></a>  myCustomTheme</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/penguin_plot.png" alt="A histogram of penguin Flipper lengths (mm) with bars colored by species. Adelie are orange and Chinstrap are purple." width="550">
</center>
<center>
<p class="small-text gray-text">
We’ll build 2 inputs: one to select <code>island</code> and one to change the number of histogram bins.
</p>
</center>
</div>
</div>
</div>
</div>
</div>
</section><section id="global.R" class="slide level2" data-menu-title="global.R"><h2></h2>
<div class="slide-title-smaller">
A <code>global.R</code> file can help you keep code organized
</div>
<p class="small-text bottombr">
While not a requirement of a shiny app, a <code>global.R</code> file will help reduce redundant code, increase your app’s speed, and help keep code more clearly organized. It works by running once when your app is first launched, making any logic, objects, etc. contained in it available to both the <code>ui.R</code> and <code>server.R</code> files (or, in the case of a single-file shiny app, the <code>app.R</code> file). It’s a great place for things like:
</p>
<div class="fragment">
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> loading packages
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> importing data
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> sourcing scripts (particularly functions – we’ll talk more about functions later)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> data wrangling (though you’ll want to do any major data cleaning before bringing your data into your app)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> building custom <code>ggplot</code> themes
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> etc.
</p>
</div>
<div class="fragment">
<p class="small-text topbr bottombr">
<code>global.R</code> <em>must</em> be saved to the same directory as your <code>ui.R</code> and <code>server.R</code> files.
</p>
</div>
<div class="fragment">
<center>
<p class="medium-body-text">
<strong>Exercise:</strong> Create a <code>global.R</code> file inside your <code>/two-file-app</code> directory and load the <a href="https://shiny.rstudio.com/">shiny</a> package at the top – we’ll continue to add to this file as we work on our app.
</p>
</center>
</div>
</section><section id="unstructured-app1" class="slide level2" data-menu-title="Unstructured first app"><h2></h2>
<div class="slide-title-smaller">
We created a perfectly functional first app, but it’s not so visually pleasing
</div>
<div class="columns">
<div class="column" style="width:45%;">
<br><br><p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> nothing really grabs your eye
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> inputs &amp; outputs are stacked vertically on top of one another (which requires a lot of vertical scrolling)
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> widget label text is difficult to distinguish from other text
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/app1.gif" alt="A gif of our first Shiny app. The title, 'My App Title' is in large black text at the top. Underneath, the subtitle, 'Exploring Antarctc Penguin Data' is in smaller black text. Immediately beneath, there is a sliderInput with black text above it that says, 'Select a range of body masses (g). The user is sliding both upper and lower ends to select a range of body masses to display data for. The scatterplot, with Flipper length (mm) on the x-axis and Bill length (mm) on the y-axis, updates accordingly. The user then scrolls down to a DT datatable. Immediately below the first plot is text that says 'Select year(s):' with checkboxes next to the years 2007, 2008, and 2009. The boxes next to 2007 and 2008 are already checked. The user also selects the box next to 2009. The user then uses a drop down menu to display 50 entries (rather than the default 10). The user clicks on the 'bill_length_mm' column to rearrange the data in descending order." width="550">
</center>
</div>
</div>
<p><br></p>
<p class="body-text">
Before we jump into adding reactive outputs to our next app, we’ll first plan out the visual structure of our UI – first on paper, then with layout functions.
</p>
</section><section id="layout-functions" class="slide level2" data-menu-title="Layout functions"><h2></h2>
<div class="slide-title-smaller">
Layout functions provide the high-level visual structure of your app
</div>
<p class="small-text">
Layouts are created using a <strong>hierarchy</strong> of function calls (typically) <em>inside</em> <code>fluidPage()</code>. Layouts often require a series functions – <strong>container</strong> functions establish the larger area within which other layout elements are placed. See a few minimal examples of layout functions on the following slides (though <a href="https://shiny.rstudio.com/articles/layout-guide.html">more exist</a>!).
</p>
<p class="small-text">
<strong>Some useful layout function pairings:</strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># sidebar for inputs &amp; main area for outputs within the sidebarLayout() container</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="fu">sidebarLayout</span>(</span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">sidebarPanel</span>(),</span>
<span id="cb29-4"><a href="#cb29-4"></a>  <span class="fu">mainPanel</span>()</span>
<span id="cb29-5"><a href="#cb29-5"></a>)</span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="co"># multi-row fluid layout (add any number of fluidRow()s to a fluidPage())</span></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="fu">fluidRow</span>(</span>
<span id="cb29-8"><a href="#cb29-8"></a>  <span class="fu">column</span>(<span class="dv">4</span>, ...),</span>
<span id="cb29-9"><a href="#cb29-9"></a>  <span class="fu">column</span>(<span class="dv">8</span>, ...)</span>
<span id="cb29-10"><a href="#cb29-10"></a>)</span>
<span id="cb29-11"><a href="#cb29-11"></a><span class="co"># tabPanel()s to contain HTML components (e.g. inputs/outputs) within the tabsetPanel() container</span></span>
<span id="cb29-12"><a href="#cb29-12"></a><span class="fu">tabsetPanel</span>(</span>
<span id="cb29-13"><a href="#cb29-13"></a>  <span class="fu">tabPanel</span>()</span>
<span id="cb29-14"><a href="#cb29-14"></a>)</span>
<span id="cb29-15"><a href="#cb29-15"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: can use navbarPage() in place of fluidPage(); creates a page with top-level navigation bar that can be used to toggle tabPanel() elements</span></span>
<span id="cb29-16"><a href="#cb29-16"></a><span class="fu">navbarPage</span>(</span>
<span id="cb29-17"><a href="#cb29-17"></a>  <span class="fu">tabPanel</span>()</span>
<span id="cb29-18"><a href="#cb29-18"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="layout-function-examples" class="slide level2" data-menu-title="Layout Examples"><h2></h2>
<div class="slide-title-smaller">
Example UI layouts
</div>
<p class="small-text">
<strong>Note:</strong> You can combine multiple layout function groups to really customize your UI – for example, you can create a navbar, include tabs, and also establish sidebar and main panel areas for inputs and outputs.
</p>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-2-1">Sidebar &amp; main area</a></li>
<li><a href="#tabset-2-2">Page with multiple rows</a></li>
<li><a href="#tabset-2-3">Tabs</a></li>
<li><a href="#tabset-2-4">Navbar</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1">
<p class="body-text">
To create a page with a <strong>side bar and main area</strong> to contain your inputs and outputs (respectively), explore the following layout functions and read up on the <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/sidebarlayout">sidebarLayout documentation</a>:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">fluidPage</span>(</span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="fu">titlePanel</span>(</span>
<span id="cb30-3"><a href="#cb30-3"></a>    <span class="co"># app title/description</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>  ),</span>
<span id="cb30-5"><a href="#cb30-5"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb30-6"><a href="#cb30-6"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="cb30-7"><a href="#cb30-7"></a>      <span class="co"># inputs here</span></span>
<span id="cb30-8"><a href="#cb30-8"></a>    ),</span>
<span id="cb30-9"><a href="#cb30-9"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb30-10"><a href="#cb30-10"></a>      <span class="co"># outputs here</span></span>
<span id="cb30-11"><a href="#cb30-11"></a>    )</span>
<span id="cb30-12"><a href="#cb30-12"></a>  )</span>
<span id="cb30-13"><a href="#cb30-13"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/sidebar_layout.png" alt="A simplified schematic of a Shiny app with a sidebar layout. The page as a whole is created with the fluidPage() function. The titlePanel() function creates a row at the top of the page for a title. The sidebarLayout() function creates a new row below titlePanel(). Within the sidebarLayout(), there are two side-by-side columns created using the sidebarPanel() function (to the left) and the mainPanel() function (to the right)." width="650">
</center>
</div>
</div>
</div>
<div id="tabset-2-2">
<p class="body-text">
To create a <strong>page with multiple rows</strong>, explore the following layout functions and check out the <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/fluidpage">fluid layout</a> documentation. Note that each row is made up of <strong>12</strong> columns. The first argument of the <code>column()</code> function takes a value of 1-12 to specify the number of columns to occupy.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">fluidPage</span>(</span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="fu">column</span>(<span class="dv">4</span>, </span>
<span id="cb31-4"><a href="#cb31-4"></a>      ...</span>
<span id="cb31-5"><a href="#cb31-5"></a>    ),</span>
<span id="cb31-6"><a href="#cb31-6"></a>    <span class="fu">column</span>(<span class="dv">8</span>, </span>
<span id="cb31-7"><a href="#cb31-7"></a>      ...</span>
<span id="cb31-8"><a href="#cb31-8"></a>    )</span>
<span id="cb31-9"><a href="#cb31-9"></a>  ),</span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb31-11"><a href="#cb31-11"></a>    <span class="fu">column</span>(<span class="dv">6</span>, </span>
<span id="cb31-12"><a href="#cb31-12"></a>      ...</span>
<span id="cb31-13"><a href="#cb31-13"></a>    ),</span>
<span id="cb31-14"><a href="#cb31-14"></a>    <span class="fu">column</span>(<span class="dv">6</span>, </span>
<span id="cb31-15"><a href="#cb31-15"></a>      ...</span>
<span id="cb31-16"><a href="#cb31-16"></a>    )</span>
<span id="cb31-17"><a href="#cb31-17"></a>  )</span>
<span id="cb31-18"><a href="#cb31-18"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/multirow_layout.png" alt="A simplified schematic of a Shiny app with a multi-row layout. The page as a whole is created with the fluidPage() function. Within that, the fluidRow() function is used twice to create two stacked (one atop the other) rows on the page. Within each fluidRow are two side-by-side columns, each created using the column() function. Each row is made up of 12 columns. The column() function takes a value of 1-12 as the first arguement to specify how many of those 12 columns to occupy." width="650">
</center>
</div>
</div>
</div>
<div id="tabset-2-3">
<p class="body-text">
You may find that you eventually end up with too much content to fit on a single application page. Enter <code>tabsetPanel()</code> and <code>tabPanel()</code>. <code>tabsetPanel()</code> creates a container for any number of <code>tabPanel()</code>s. Each <code>tabPanel()</code> can contain any number of HTML components (e.g.&nbsp;inputs and outputs). Find the <a href="https://shiny.rstudio.com/reference/shiny/1.5.0/tabsetpanel">tabsetPanel documentation here</a> and check out this example:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">tabsetPanel</span>(</span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="fu">tabPanel</span>(<span class="st">"Tab 1"</span>, </span>
<span id="cb32-3"><a href="#cb32-3"></a>    <span class="co"># an input</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>    <span class="co"># an output</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>  ),</span>
<span id="cb32-6"><a href="#cb32-6"></a>  <span class="fu">tabPanel</span>(<span class="st">"Tab 2"</span>),</span>
<span id="cb32-7"><a href="#cb32-7"></a>  <span class="fu">tabPanel</span>(<span class="st">"Tab 3"</span>)</span>
<span id="cb32-8"><a href="#cb32-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/tabsetPanel_layout.png" alt="A simplified schematic of a Shiny app with a tabsetPanel layout. The page as a whole is created with the fluidPage() function. Within that, the tabsetPanel() function creates a container within which three tabPanel()s ('Tab 1', 'Tab 2', 'Tab 3') are defined (for this particular example). Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'." width="650">
</center>
</div>
</div>
</div>
<div id="tabset-2-4">
<p class="body-text">
You may also want to use a navigation bar (<code>navbarPage()</code>) with different pages (created using <code>tabPanel()</code>) to organize your application. Read through the <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/navbarpage">navbarPage documentation</a> and try running the example below:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">navbarPage</span>(</span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="at">title =</span> <span class="st">"My app"</span>,</span>
<span id="cb33-3"><a href="#cb33-3"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb33-4"><a href="#cb33-4"></a>           <span class="co"># an input</span></span>
<span id="cb33-5"><a href="#cb33-5"></a>           <span class="co"># an output</span></span>
<span id="cb33-6"><a href="#cb33-6"></a>           ),</span>
<span id="cb33-7"><a href="#cb33-7"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span>)</span>
<span id="cb33-8"><a href="#cb33-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/navbarPage_layout.png" alt="A simplified schematic of a Shiny app with a navbarPage layout. The page as a whole is created with the navbarPage() function. A top-level navigation bar can be used to toggle between two tabPanel()s ('Tab 1', 'Tab 2'), which are defined for this particular example. Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'." width="650">
</center>
</div>
</div>
</div>
</div>
</div>
<center>
<p class="small-text">
Examples adapted from <a href="https://mastering-shiny.org/action-layout.html#action-layout">Mastering Shiny, Ch. 6</a>, by Hadley Wickham:
</p>
</center>
</section><section id="build-navbar" class="slide level2" data-menu-title="Build navbar"><h2></h2>
<div class="slide-title-smaller">
Build a navbar with two pages
</div>
<p class="small-text">
First, let’s build a UI that has a navigation bar with two tabs – one for background information and one to contain our data visualizations. To do this, we’ll use <code>navbarPage()</code> instead of <code>fluidPage()</code> to create our webpage.
</p>
<p class="smaller-text">
<strong>Tip:</strong> It can be <em>super</em> helpful add code comments at the start and end of each UI element – for example, see <code># data viz tabPanel---</code> and <code># END data viz tabPanel</code>, below. Adding text that you will eventually replace with content (e.g.&nbsp;plots, tables, images, longer text) may help to visualize what you’re working towards as well.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb34-2"><a href="#cb34-2"></a>  </span>
<span id="cb34-3"><a href="#cb34-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb34-4"><a href="#cb34-4"></a>  </span>
<span id="cb34-5"><a href="#cb34-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb34-6"><a href="#cb34-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb34-7"><a href="#cb34-7"></a>           </span>
<span id="cb34-8"><a href="#cb34-8"></a>           <span class="st">"background info will go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb34-9"><a href="#cb34-9"></a>           </span>
<span id="cb34-10"><a href="#cb34-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb34-11"><a href="#cb34-11"></a>  </span>
<span id="cb34-12"><a href="#cb34-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb34-13"><a href="#cb34-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span>  <span class="st">"Explore the Data"</span>,</span>
<span id="cb34-14"><a href="#cb34-14"></a>           </span>
<span id="cb34-15"><a href="#cb34-15"></a>           <span class="st">"reactive plots will go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb34-16"><a href="#cb34-16"></a>           </span>
<span id="cb34-17"><a href="#cb34-17"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb34-18"><a href="#cb34-18"></a>  </span>
<span id="cb34-19"><a href="#cb34-19"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="add-tabs" class="slide level2" data-menu-title="Add tabs"><h2></h2>
<div class="slide-title-smaller">
Add two tabs to the “Explore the Data” page
</div>
<p class="small-text">
Give your tabs the following titles: <code>Trout</code> and <code>Penguins</code>.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" data-code-line-numbers="15-34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb35-2"><a href="#cb35-2"></a>  </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb35-4"><a href="#cb35-4"></a>  </span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb35-6"><a href="#cb35-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb35-7"><a href="#cb35-7"></a>           </span>
<span id="cb35-8"><a href="#cb35-8"></a>           <span class="st">"background info will go here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb35-9"><a href="#cb35-9"></a>           </span>
<span id="cb35-10"><a href="#cb35-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb35-11"><a href="#cb35-11"></a>  </span>
<span id="cb35-12"><a href="#cb35-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb35-13"><a href="#cb35-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span>  <span class="st">"Explore the Data"</span>,</span>
<span id="cb35-14"><a href="#cb35-14"></a>           </span>
<span id="cb35-15"><a href="#cb35-15"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb35-16"><a href="#cb35-16"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb35-17"><a href="#cb35-17"></a>             </span>
<span id="cb35-18"><a href="#cb35-18"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb35-19"><a href="#cb35-19"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb35-20"><a href="#cb35-20"></a>                      </span>
<span id="cb35-21"><a href="#cb35-21"></a>                      <span class="st">"trout data viz here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb35-22"><a href="#cb35-22"></a>                      </span>
<span id="cb35-23"><a href="#cb35-23"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb35-24"><a href="#cb35-24"></a>             </span>
<span id="cb35-25"><a href="#cb35-25"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb35-26"><a href="#cb35-26"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb35-27"><a href="#cb35-27"></a>                      </span>
<span id="cb35-28"><a href="#cb35-28"></a>                      <span class="st">"penguin data viz here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb35-29"><a href="#cb35-29"></a>                      </span>
<span id="cb35-30"><a href="#cb35-30"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb35-31"><a href="#cb35-31"></a>             </span>
<span id="cb35-32"><a href="#cb35-32"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb35-33"><a href="#cb35-33"></a>           </span>
<span id="cb35-34"><a href="#cb35-34"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb35-35"><a href="#cb35-35"></a>  </span>
<span id="cb35-36"><a href="#cb35-36"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="sidebar-main-panels" class="slide level2" data-menu-title="Create sidebar &amp; main panels"><h2></h2>
<div class="slide-title-smaller">
Add sidebar &amp; main panels to the <code>Trout</code> tab
</div>
<p class="small-text">
We’ll eventually place our input in the sidebar and output in the main panel.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" data-code-line-numbers="21-38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb36-2"><a href="#cb36-2"></a>  </span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb36-4"><a href="#cb36-4"></a>  </span>
<span id="cb36-5"><a href="#cb36-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb36-6"><a href="#cb36-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb36-7"><a href="#cb36-7"></a>           </span>
<span id="cb36-8"><a href="#cb36-8"></a>           <span class="st">"background info will go here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb36-9"><a href="#cb36-9"></a>           </span>
<span id="cb36-10"><a href="#cb36-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb36-11"><a href="#cb36-11"></a>  </span>
<span id="cb36-12"><a href="#cb36-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb36-13"><a href="#cb36-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb36-14"><a href="#cb36-14"></a>           </span>
<span id="cb36-15"><a href="#cb36-15"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb36-16"><a href="#cb36-16"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb36-17"><a href="#cb36-17"></a>             </span>
<span id="cb36-18"><a href="#cb36-18"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb36-19"><a href="#cb36-19"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb36-20"><a href="#cb36-20"></a>                      </span>
<span id="cb36-21"><a href="#cb36-21"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb36-22"><a href="#cb36-22"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb36-23"><a href="#cb36-23"></a>                        </span>
<span id="cb36-24"><a href="#cb36-24"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb36-25"><a href="#cb36-25"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb36-26"><a href="#cb36-26"></a>                          </span>
<span id="cb36-27"><a href="#cb36-27"></a>                          <span class="st">"trout plot input(s) go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb36-28"><a href="#cb36-28"></a>                          </span>
<span id="cb36-29"><a href="#cb36-29"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb36-30"><a href="#cb36-30"></a>                        </span>
<span id="cb36-31"><a href="#cb36-31"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb36-32"><a href="#cb36-32"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb36-33"><a href="#cb36-33"></a>                          </span>
<span id="cb36-34"><a href="#cb36-34"></a>                          <span class="st">"trout plot output goes here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb36-35"><a href="#cb36-35"></a>                          </span>
<span id="cb36-36"><a href="#cb36-36"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb36-37"><a href="#cb36-37"></a>                        </span>
<span id="cb36-38"><a href="#cb36-38"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb36-39"><a href="#cb36-39"></a>                      </span>
<span id="cb36-40"><a href="#cb36-40"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb36-41"><a href="#cb36-41"></a>             </span>
<span id="cb36-42"><a href="#cb36-42"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb36-43"><a href="#cb36-43"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb36-44"><a href="#cb36-44"></a>                      </span>
<span id="cb36-45"><a href="#cb36-45"></a>                      <span class="st">"penguin data viz here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb36-46"><a href="#cb36-46"></a>                      </span>
<span id="cb36-47"><a href="#cb36-47"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb36-48"><a href="#cb36-48"></a>             </span>
<span id="cb36-49"><a href="#cb36-49"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb36-50"><a href="#cb36-50"></a>           </span>
<span id="cb36-51"><a href="#cb36-51"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb36-52"><a href="#cb36-52"></a>  </span>
<span id="cb36-53"><a href="#cb36-53"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="exercise2-prompt" class="slide level2" data-menu-title="** Exercise 2 Prompt **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> Exercise 2: Add sidebar and main panels to the <code>Penguins</code> tab
</div>
<div class="columns">
<div class="column" style="width:45%;">
<br><br><p class="body-text">
I encourage you to type the code out yourself, rather than copy/paste! And be sure to add text where your input/output will eventually be placed. When you’re done, you app should look like this:
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/app2_layout.gif" alt="Our new app, which does not yet contain any content (e.g inputs and outputs), but does have an organized layout structure. There is a navbar across the top of the page, with the title 'My app title' on the left-hand side of the navbar. There are two pages on the navbar: one says 'Welcome to my app' and the second says 'Explore the data'. The user clicks into the second page to reveal two tabs named 'Trout', and 'Bison'. Each tab has a gray box (a sidebar) on the lefthand side and a main panel space to the right." width="550">
</center>
</div>
</div>
<p><br></p>
<center>
<p class="large-body-text">
See next slide for a solution!
</p>
</center>
</section><section id="exercise2-solution" class="slide level2" data-menu-title="** Exercise 2 Solution **"><h2></h2>
<div class="slide-title">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Exercise 2: A solution
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="45-62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb37-2"><a href="#cb37-2"></a>  </span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb37-4"><a href="#cb37-4"></a>  </span>
<span id="cb37-5"><a href="#cb37-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb37-7"><a href="#cb37-7"></a>           </span>
<span id="cb37-8"><a href="#cb37-8"></a>           <span class="st">"background info will go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb37-9"><a href="#cb37-9"></a>           </span>
<span id="cb37-10"><a href="#cb37-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb37-11"><a href="#cb37-11"></a>  </span>
<span id="cb37-12"><a href="#cb37-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb37-13"><a href="#cb37-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Animal Data Explorer"</span>,</span>
<span id="cb37-14"><a href="#cb37-14"></a>           </span>
<span id="cb37-15"><a href="#cb37-15"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb37-16"><a href="#cb37-16"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb37-17"><a href="#cb37-17"></a>             </span>
<span id="cb37-18"><a href="#cb37-18"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb37-19"><a href="#cb37-19"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb37-20"><a href="#cb37-20"></a>                      </span>
<span id="cb37-21"><a href="#cb37-21"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb37-22"><a href="#cb37-22"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb37-23"><a href="#cb37-23"></a>                        </span>
<span id="cb37-24"><a href="#cb37-24"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb37-25"><a href="#cb37-25"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb37-26"><a href="#cb37-26"></a>                          </span>
<span id="cb37-27"><a href="#cb37-27"></a>                          <span class="st">"trout plot input(s) go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb37-28"><a href="#cb37-28"></a>                          </span>
<span id="cb37-29"><a href="#cb37-29"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb37-30"><a href="#cb37-30"></a>                        </span>
<span id="cb37-31"><a href="#cb37-31"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb37-32"><a href="#cb37-32"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb37-33"><a href="#cb37-33"></a>                          </span>
<span id="cb37-34"><a href="#cb37-34"></a>                          <span class="st">"trout plot output goes here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb37-35"><a href="#cb37-35"></a>                          </span>
<span id="cb37-36"><a href="#cb37-36"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb37-37"><a href="#cb37-37"></a>                        </span>
<span id="cb37-38"><a href="#cb37-38"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb37-39"><a href="#cb37-39"></a>                      </span>
<span id="cb37-40"><a href="#cb37-40"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb37-41"><a href="#cb37-41"></a>             </span>
<span id="cb37-42"><a href="#cb37-42"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb37-43"><a href="#cb37-43"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb37-44"><a href="#cb37-44"></a>                      </span>
<span id="cb37-45"><a href="#cb37-45"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb37-46"><a href="#cb37-46"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb37-47"><a href="#cb37-47"></a>                        </span>
<span id="cb37-48"><a href="#cb37-48"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb37-49"><a href="#cb37-49"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb37-50"><a href="#cb37-50"></a>                          </span>
<span id="cb37-51"><a href="#cb37-51"></a>                          <span class="st">"penguin plot input(s) go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb37-52"><a href="#cb37-52"></a>                          </span>
<span id="cb37-53"><a href="#cb37-53"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb37-54"><a href="#cb37-54"></a>                        </span>
<span id="cb37-55"><a href="#cb37-55"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb37-56"><a href="#cb37-56"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb37-57"><a href="#cb37-57"></a>                          </span>
<span id="cb37-58"><a href="#cb37-58"></a>                          <span class="st">"penguin plot output goes here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb37-59"><a href="#cb37-59"></a>                          </span>
<span id="cb37-60"><a href="#cb37-60"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb37-61"><a href="#cb37-61"></a>                        </span>
<span id="cb37-62"><a href="#cb37-62"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb37-63"><a href="#cb37-63"></a>                      </span>
<span id="cb37-64"><a href="#cb37-64"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb37-65"><a href="#cb37-65"></a>             </span>
<span id="cb37-66"><a href="#cb37-66"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb37-67"><a href="#cb37-67"></a>           </span>
<span id="cb37-68"><a href="#cb37-68"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb37-69"><a href="#cb37-69"></a>  </span>
<span id="cb37-70"><a href="#cb37-70"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="layout-review" class="slide level2" data-menu-title="Layout review"><h2></h2>
<div class="slide-title">
Some important things to remember when building your UI’s layout:
</div>
<div class="fragment">
<p class="body-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> try creating a <strong>rough sketch</strong> of your intended layout <em>before</em> hitting the keyboard (I like to think of this as UI layout “pseudocode”)
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> keeping <strong>clean code is important</strong> – we haven’t even any added any content yet and our UI is already 75 lines of code!
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> use <strong>rainbow parentheses</strong>, <strong>code comments</strong> and plenty of <strong>space between lines</strong> to keep things looking manageable and navigable
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> use the keyboard shortcut, <code>command</code> + <code>I</code> (Mac) or <code>control</code> + <code>I</code> (Windows), to align messy code – this helps put those off-alignment parentheses back where they belong
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> things can get out of hand quickly – <strong>add one layout section at a time</strong>, run your app to check that things look as you intend, then continue
</p>
</div>
</section><section id="first-trout" class="slide level2" data-menu-title="First up, trout"><h2></h2>
<p class="slide-title">
Add data viz: First up, trout
</p>
<p class="small-text bottombr">
We’ll be using the <a href="https://lter.github.io/lterdatasampler/reference/and_vertebrates.html"><code>and_vertebrates</code> dataset</a> from the <a href="https://lter.github.io/lterdatasampler/"><code>{lterdatasampler}</code> package</a> to create our first reactive plot. These data contain coastal cutthroat trout (<em>Oncorhynchus clarkii clarkii</em>) lengths and weights collected in Mack Creek, <a href="https://andrewsforest.oregonstate.edu/">Andrews Forest LTER</a>. Original data can be found on the <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-and.4027.14">EDI Data Portal</a>.
</p>
<p><br></p>
<center>
<img src="images/trout.png" alt="A drawing of the right-side profile of a coastal cutthroat trout." width="600">
</center>
<center>
<p class="small-text gray-text">
Image Source: Joseph R. Tomelleri, as found on the <a href="https://westernnativetrout.org/coastal-cutthroat-trout/">Western Native Trout Initiative</a>
</p>
</center></section><section id="import-packages-global" class="slide level2" data-menu-title="Import packages in global.R"><h2></h2>
<div class="slide-title-smaller">
Add packages &amp; wrangle data in <code>global.R</code>
</div>
<p class="small-text">
In addition to the <a href="https://lter.github.io/lterdatasampler/"><code>{lterdatasampler}</code> package</a>, we’ll also be using the <a href="https://github.com/dreamRs/shinyWidgets"><code>{shinyWidgets}</code> package</a> to add a <code>pickerInput</code> and a <code>checkboxGroupInput</code> to our app.
</p>
<p class="small-text">
<strong>Import both packages at the top of your <code>global.R</code> file</strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38" data-code-line-numbers="3-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="fu">library</span>(lterdatasampler) </span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="fu">library</span>(shinyWidgets) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="wrangle-data-global" class="slide level2" data-menu-title="Wrangle data in global.R"><h2></h2>
<div class="slide-title-smaller">
Add packages &amp; wrangle data in <code>global.R</code>
</div>
<p class="small-text">
We can also do the bulk of our data wrangling here, rather than in the server (to keep our server code a bit more manageable). If we were reading in a data file (e.g.&nbsp;.csv), we would do that here too (see slide ??). Our new data object <code>clean_trout</code>, will now be availble for us to call directly in our server.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" data-code-line-numbers="6-23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="fu">library</span>(shinyWidgets) </span>
<span id="cb39-5"><a href="#cb39-5"></a></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb39-7"><a href="#cb39-7"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb39-8"><a href="#cb39-8"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb39-9"><a href="#cb39-9"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb39-10"><a href="#cb39-10"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb39-11"><a href="#cb39-11"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb39-12"><a href="#cb39-12"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb39-13"><a href="#cb39-13"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb39-14"><a href="#cb39-14"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb39-15"><a href="#cb39-15"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb39-16"><a href="#cb39-16"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb39-17"><a href="#cb39-17"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb39-18"><a href="#cb39-18"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb39-19"><a href="#cb39-19"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb39-20"><a href="#cb39-20"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb39-21"><a href="#cb39-21"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb39-22"><a href="#cb39-22"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb39-23"><a href="#cb39-23"></a>  <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="trout-pickerInput" class="slide level2" data-menu-title="Add Trout pickerInput()"><h2></h2>
<div class="slide-title-smaller">
Add a <code>pickerInput</code> for selecting <code>channel_type</code> to your UI
</div>
<p class="small-text">
The <code>channel_type</code> variable (originally called <code>unittype</code> – we updated the name when wrangling data (see <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/update-global2">previous slide</a>)) represents the type of water body (<em>cascade, riffle, isolated pool, pool, rapid, step (small falls), or side channel</em>) data were collected in. We’ll start by building a <code><a href="https://dreamrs.github.io/shinyWidgets/reference/pickerInput.html">shinyWidgets::pickerInput()</a></code> to allow users to filter data based on <code>channel_type</code>.
</p>
<div class="fragment">
<p class="small-text topbr">
<strong>Reminder:</strong> When we we designed our UI layout, we added a <code>sidebarPanel</code> to our <strong>Trout</strong> tab with the placeholder text <code>"trout plot input(s) go here"</code>. Replace that text with the code for your <code>pickerInput</code>:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># channel type pickerInput ----</span></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb40-3"><a href="#cb40-3"></a>            <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type), <span class="co"># alternatively: choices = c("rapid", "cascade" ...)</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>            <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>), <span class="co"># creates "Select All / Deselect All" buttons</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>            <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>), </span>
<span id="cb40-6"><a href="#cb40-6"></a>            <span class="at">multiple =</span> <span class="cn">TRUE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text topbr">
Save and run your app – a functional <code>pickerInput</code> should now appear in your UI.
</p>
<p><br></p>
<p class="smaller-text gray-text topbr">
A <code><a href="https://dreamrs.github.io/shinyWidgets/reference/pickerInput.html">shinyWidgets::pickerInput()</a></code> is functionally equivalent to <code><a href="https://shiny.rstudio.com/reference/shiny/latest/checkboxGroupInput.html">shiny::checkboxGroupInput()</a></code>, though it allows for greater customization and looks (in my opinion) a bit nicer.
</p>
</div>
</section><section id="trout-output" class="slide level2" data-menu-title="Add Trout output"><h2></h2>
<div class="slide-title">
Add a plot output to your UI
</div>
<p class="small-text">
Next, we need to create a placeholder in our UI for our trout scatterplot to live. Because we’ll be creating a reactive plot, we can use the <code>plotOutput()</code> function to do so.
</p>
<div class="fragment">
<p class="small-text topbr">
<strong>Reminder:</strong> When we we designed our UI layout, we added a <code>mainPanel</code> to our <strong>Trout</strong> tab with the placeholder text <code>"trout plot output goes here"</code>. Replace that text with the code for your <code>plotOuput()</code>:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text topbr">
Save and run your app – it won’t look different at first glance, but inspecting your app in a browser window (using Chrome, right click &gt; Inspect) will reveal a placeholder box for your plot output to eventually live:
</p>
<center>
<img src="images/trout_plotOutput.png" alt="The Trout tab of our app, which contains only a pickerInput with the variables, cascade and pool, selected. There is no visible plot yet, however using Google Chrome's developer tools shows a div (i.e. a box) placeholder where our plot will eventually appear." width="600">
</center>
</div>
</section><section id="trout-plot" class="slide level2" data-menu-title="Trout Reactive Plot"><h2></h2>
<div class="slide-title-smaller">
Tell the server how to assemble <code>pickerInput</code> values into your <code>plotOutput</code>
</div>
<p class="small-text">
<strong>Remember the three rules for building reactive outputs:</strong> <strong>(1)</strong> save objects you want to display to <code>output$&lt;id&gt;</code>, <strong>(2)</strong> build reactive objects using a <code>render*()</code> function, and <strong>(3)</strong> access input values with <code>input$&lt;id&gt;</code>. When complete, your server should contain the following code:
</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="3-25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb42-2"><a href="#cb42-2"></a>  </span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb42-5"><a href="#cb42-5"></a>    </span>
<span id="cb42-6"><a href="#cb42-6"></a>    clean_trout <span class="sc">|&gt;</span></span>
<span id="cb42-7"><a href="#cb42-7"></a>      <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input))</span>
<span id="cb42-8"><a href="#cb42-8"></a>    </span>
<span id="cb42-9"><a href="#cb42-9"></a>  })</span>
<span id="cb42-10"><a href="#cb42-10"></a>  </span>
<span id="cb42-11"><a href="#cb42-11"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb42-12"><a href="#cb42-12"></a>  output<span class="sc">$</span>trout_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb42-13"><a href="#cb42-13"></a>    </span>
<span id="cb42-14"><a href="#cb42-14"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb42-15"><a href="#cb42-15"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb42-16"><a href="#cb42-16"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb42-17"><a href="#cb42-17"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb42-18"><a href="#cb42-18"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb42-19"><a href="#cb42-19"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb42-20"><a href="#cb42-20"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb42-21"><a href="#cb42-21"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb42-22"><a href="#cb42-22"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb42-23"><a href="#cb42-23"></a>      myCustomTheme</span>
<span id="cb42-24"><a href="#cb42-24"></a>    </span>
<span id="cb42-25"><a href="#cb42-25"></a>  }) </span>
<span id="cb42-26"><a href="#cb42-26"></a>  </span>
<span id="cb42-27"><a href="#cb42-27"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<p class="body-text">
<strong>A couple notes/reminders:</strong>
</p>
<p class="smaller-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> If needed, reference your <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/app2-plots">practice script</a> to remind yourself how you planned to filter and plot your data
</p>
<p class="smaller-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Reactive data frames need a set of parentheses, <code>()</code>, following the name of the df (see <code>ggplot(trout_filtered_df() ...)</code>)
</p>
<p class="smaller-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> For a cohesive appearance, save your ggplot theme parameters to a named object in <code>global.R</code> (here, <code>myCustomTheme</code>), then apply to all plots in your app. See the <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/ggplot-theme">following slide</a> for code.
</p>
</div>
</div>
</section><section id="ggplot-theme" class="slide level2" data-menu-title="Save theme to global.R"><h2></h2>
<div class="slide-title-smaller">
Save a custom <code>ggplot</code> theme to <code>global.R</code>
</div>
<p class="small-text">
Rather than re-typing your ggplot theme parameters out for every plot in your app, do so once in <code>global.R</code>, and save to an object name. You can then easily add your custom theme as a layer to each of your ggplots. <strong>Bonus:</strong> If you decide to modify your plot theme, you only have to do so in one place!
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43" data-code-line-numbers="27-34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb43-7"><a href="#cb43-7"></a></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb43-9"><a href="#cb43-9"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb43-10"><a href="#cb43-10"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb43-11"><a href="#cb43-11"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb43-12"><a href="#cb43-12"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb43-13"><a href="#cb43-13"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb43-14"><a href="#cb43-14"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb43-15"><a href="#cb43-15"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb43-16"><a href="#cb43-16"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb43-17"><a href="#cb43-17"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb43-18"><a href="#cb43-18"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb43-19"><a href="#cb43-19"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb43-20"><a href="#cb43-20"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb43-21"><a href="#cb43-21"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb43-22"><a href="#cb43-22"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb43-23"><a href="#cb43-23"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb43-24"><a href="#cb43-24"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb43-25"><a href="#cb43-25"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb43-26"><a href="#cb43-26"></a></span>
<span id="cb43-27"><a href="#cb43-27"></a><span class="co"># GGPLOT THEME ----</span></span>
<span id="cb43-28"><a href="#cb43-28"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb43-29"><a href="#cb43-29"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb43-30"><a href="#cb43-30"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb43-31"><a href="#cb43-31"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb43-32"><a href="#cb43-32"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb43-33"><a href="#cb43-33"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb43-34"><a href="#cb43-34"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="run-app2v1-first-widget" class="slide level2" data-menu-title="Run the App (trout pickerInput)"><h2></h2>
<div class="slide-title">
Run your app and try out your <code>pickerInput</code> widget!
</div>
<center>
<img src="images/app2_plot1_widget1.gif" alt="A user navigates to the 'Explore the Data' tab of our app, 'LTER Animal Data Explorer.' There is a scatterplot with Trout Length (mm) on the x-axis, and Trout Weight (g) on the y-axis. Points are colored and shaped by channel type. There is a pickerWidget to the left of the plot with the channel_types 'cascade' and 'pool' already selected. The user clicks other channel types on/off to see how the data points on the plot change." width="750">
</center>
</section><section id="second-input-ui" class="slide level2" data-menu-title="Add a second input"><h2></h2>
<div class="slide-title">
Add a second input that will update the same output
</div>
<p class="small-text">
You can have more than one input control the same output. Let’s now add a <code>checkboxGroupButtons</code> widget to our <strong>UI</strong> for selecting forest <code>section</code> (either clear cut forest or old growth forest). Check out the <a href="https://dreamrs.github.io/shinyWidgets/reference/checkboxGroupButtons.html">function documentation</a> for more information on how to customize the appearance of your buttons.
</p>
<p class="small-text">
Be sure to add the widget to the same <code>sidebarPanel</code> as our <code>pickerInput</code> (and separate them with a comma, <code>,</code>!:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44" data-code-line-numbers="11-16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">sidebarPanel</span>(</span>
<span id="cb44-3"><a href="#cb44-3"></a>  </span>
<span id="cb44-4"><a href="#cb44-4"></a>  <span class="co"># channel type pickerInput ----</span></span>
<span id="cb44-5"><a href="#cb44-5"></a>  <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb44-6"><a href="#cb44-6"></a>              <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb44-7"><a href="#cb44-7"></a>              <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-8"><a href="#cb44-8"></a>              <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb44-9"><a href="#cb44-9"></a>              <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb44-10"><a href="#cb44-10"></a></span>
<span id="cb44-11"><a href="#cb44-11"></a>  <span class="co"># section checkboxGroupInput ----</span></span>
<span id="cb44-12"><a href="#cb44-12"></a>  <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb44-13"><a href="#cb44-13"></a>                       <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb44-14"><a href="#cb44-14"></a>                       <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb44-15"><a href="#cb44-15"></a>                       <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb44-16"><a href="#cb44-16"></a>                       <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb44-17"><a href="#cb44-17"></a>                   </span>
<span id="cb44-18"><a href="#cb44-18"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="second-input-server" class="slide level2" data-menu-title="Update reactive trout df"><h2></h2>
<div class="slide-title-smaller">
Update your reactive df to <em>also</em> filter based on the new <code>checkboxGroupInput</code>
</div>
<p class="small-text">
Return to your <strong>server</strong> to modify <code>trout_filtered_df</code> – our data frame needs to be updated based on both the <code>pickerInput</code>, which selects for <code>channel_type</code>, <em>and</em> the <code>checkboxGrouptInput</code>, which selects for forest <code>section</code>:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># filter for channel types ----</span></span>
<span id="cb45-2"><a href="#cb45-2"></a>trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb45-3"><a href="#cb45-3"></a></span>
<span id="cb45-4"><a href="#cb45-4"></a>    clean_trout <span class="sc">|&gt;</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>      <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>      <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb45-7"><a href="#cb45-7"></a>      </span>
<span id="cb45-8"><a href="#cb45-8"></a>  })</span>
<span id="cb45-9"><a href="#cb45-9"></a></span>
<span id="cb45-10"><a href="#cb45-10"></a><span class="co"># trout scatterplot ----</span></span>
<span id="cb45-11"><a href="#cb45-11"></a>output<span class="sc">$</span>trout_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb45-12"><a href="#cb45-12"></a></span>
<span id="cb45-13"><a href="#cb45-13"></a>  <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb45-14"><a href="#cb45-14"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb45-15"><a href="#cb45-15"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb45-16"><a href="#cb45-16"></a>                                  <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb45-17"><a href="#cb45-17"></a>                                  <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb45-18"><a href="#cb45-18"></a>    <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb45-19"><a href="#cb45-19"></a>                                  <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb45-20"><a href="#cb45-20"></a>                                  <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb45-21"><a href="#cb45-21"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb45-22"><a href="#cb45-22"></a>    myCustomTheme</span>
<span id="cb45-23"><a href="#cb45-23"></a></span>
<span id="cb45-24"><a href="#cb45-24"></a> })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="run-app2v1-second-widget" class="slide level2" data-menu-title="Run the App"><h2></h2>
<div class="slide-title-smaller">
Run your app and try out your <code>pickerInput</code> &amp; <code>checkboxGrouptInput</code> widgets!
</div>
<center>
<img src="images/app2_plot1_widget2.gif" alt="Our updated app, which includes the same trout scatterplot, but this time, two inputs: one selectInput that allows the user to filter for channel_type, and one checkboxGroupInput, which includes two buttons to select/deselect data collected from the clear cut forest section and the old growth forest section." width="750">
</center>
</section><section id="mini-break1" class="slide level2" data-menu-title="# Mini break 1 #" data-background="#047C90"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
Mini Break
</p>
<p class="caption-text">
<em>Up next: your turn to add a reactive penguin plot to our “Penguin” tab!</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_99444560" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls">
<button class="countdown-bump-down">−</button><button class="countdown-bump-up">&amp;plus;</button>
</div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section><section id="second-penguins" class="slide level2" data-menu-title="Next up, penguins"><h2></h2>
<p class="slide-title">
Add data viz: Next up, penguins
</p>
<p class="small-text bottombr">
We’ll be using the <code>penguins</code> dataset from the <a href="https://allisonhorst.github.io/palmerpenguins/"><code>{palmerpenguins}</code> package</a> to create our second reactive plot. These data contain penguin (genus <em>Pygoscelis</em>) body size measurements collected from three islands in the Palmer Archipelago, Antarctica, as part of the <a href="">Palmer Station LTER</a>. Original data can be found on the EDI Data Portal (<a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.219.5">Adélie data</a>, <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.220.5">Gentoo data</a>, and <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.221.6">Chinstrap data</a>).
</p>
<p><br></p>
<center>
<img src="images/meet_the_penguins.png" alt="A cartoon drawing of Chinstrap (atop a purple background), Gentoo (atop a green background) and Adélie (atop an orange background) penguins." width="600">
</center>
<center>
<p class="small-text gray-text">
Artwork by <a href="https://allisonhorst.com/"><span class="citation" data-cites="allison_horst">@allison_horst</span></a>
</p>
</center></section><section id="exercise3-prompt" class="slide level2" data-menu-title="** Exercise 3 Prompt **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> Exercise 3: Add a reactive plot to the ‘Penguins’ tab
</div>
<p class="small-text">
Working alone or in groups, add a reactive histogram of penguin flipper lengths (using the <code>penguins</code> data set from the <a href="https://allisonhorst.github.io/palmerpenguins/"><code>{palmerpenguins}</code> package</a>) to the <strong>Penguins</strong> tab. Your plot should have the following features and look like the example below, when complete:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> data colored by penguin <code>species</code>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> a <code><a href="https://dreamrs.github.io/shinyWidgets/reference/pickerInput.html">shinyWidgets::pickerInput</a></code> that allows users to filter data based on <code>island</code>, and that includes buttons to <strong>Select All</strong> / <strong>Deselect All</strong> island options at once
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> a <code><a href="https://shiny.rstudio.com/reference/shiny/latest/sliderInput.html">shiny::sliderInput</a></code> that allows users to change the number of histogram bins and that by default, displays a histogram with <strong>25</strong> bins
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> the two widgets should be placed in the <code>sidebarPanel</code> and the reactive histogram should be placed in the <code>mainPanel</code> of the <strong>Penguins</strong> tab
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/penguin_plot.gif" alt="A user navigates to the Penguins tab of our app to reveal a histogram of penguins flipper lengths. Data are colored by species (Adelie = orange, Chinstrap = purple, Gentoo = green). The user uses a pickerInput to filter data based on the island where they were collected. The user also adjust the bin number using a sliderInput." width="750">
</center>
</div>
</div>
<center>
<p class="medium-body-text">
See next slide for some tips on getting started!
</p>
</center>
</section><section id="exercise3-tips" class="slide level2" data-menu-title="** Exercise 3 Tips **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Lightbulb" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Lightbulb</title>
<path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"></path></svg> Exercise 3: Tips
</div>
<p class="body-text topbr">
<strong>Tips:</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Remember to load the <code>palmerpenguins</code> package at the top of <code>global.R</code> so that your app can find the data
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Add your widgets to the <code>sidebarPanel</code> and your plot output to the <code>mainPanel</code> of the <strong>Penguins</strong> tab – look for that placeholder text we added earlier to help place your new code in the correct spot within your UI!
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Try changing the histogram bin number in your practice code script first, before attempting to make it reactive
</p>
<p class="body-text topbr">
<strong>And remember</strong> to follow the our three steps for building reactive outputs (review <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/reactive-plot-app1">slide 27</a>, if necessary)!
</p>
<p><br><br><br></p>
<center>
<p class="medium-body-text">
See next slide for a solution!
</p>
</center>
</section><section id="exercise3-solution" class="slide level2" data-menu-title="** Exercise 3 Solution **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Exercise 3: A solution
</div>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-3-1"><code>global.R</code></a></li>
<li><a href="#tabset-3-2"><code>ui.R</code></a></li>
<li><a href="#tabset-3-3"><code>server.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb46" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb46-7"><a href="#cb46-7"></a></span>
<span id="cb46-8"><a href="#cb46-8"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb46-9"><a href="#cb46-9"></a></span>
<span id="cb46-10"><a href="#cb46-10"></a><span class="co"># trout data</span></span>
<span id="cb46-11"><a href="#cb46-11"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb46-12"><a href="#cb46-12"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-13"><a href="#cb46-13"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb46-14"><a href="#cb46-14"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-15"><a href="#cb46-15"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb46-16"><a href="#cb46-16"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb46-17"><a href="#cb46-17"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb46-18"><a href="#cb46-18"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb46-19"><a href="#cb46-19"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb46-20"><a href="#cb46-20"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb46-21"><a href="#cb46-21"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb46-22"><a href="#cb46-22"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb46-23"><a href="#cb46-23"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-24"><a href="#cb46-24"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb46-25"><a href="#cb46-25"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb46-26"><a href="#cb46-26"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb46-27"><a href="#cb46-27"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb46-28"><a href="#cb46-28"></a></span>
<span id="cb46-29"><a href="#cb46-29"></a><span class="co"># GGPLOT THEME ----</span></span>
<span id="cb46-30"><a href="#cb46-30"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb46-31"><a href="#cb46-31"></a>  <span class="fu">theme</span>(<span class="co">#text = element_text(family = "mono"), </span></span>
<span id="cb46-32"><a href="#cb46-32"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb46-33"><a href="#cb46-33"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb46-34"><a href="#cb46-34"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb46-35"><a href="#cb46-35"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb46-36"><a href="#cb46-36"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb46-37"><a href="#cb46-37"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb47" data-code-line-numbers="61-82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb47-2"><a href="#cb47-2"></a>  </span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb47-4"><a href="#cb47-4"></a>  </span>
<span id="cb47-5"><a href="#cb47-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb47-7"><a href="#cb47-7"></a>           </span>
<span id="cb47-8"><a href="#cb47-8"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb47-9"><a href="#cb47-9"></a>  </span>
<span id="cb47-10"><a href="#cb47-10"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb47-11"><a href="#cb47-11"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb47-12"><a href="#cb47-12"></a>           </span>
<span id="cb47-13"><a href="#cb47-13"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb47-14"><a href="#cb47-14"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb47-15"><a href="#cb47-15"></a>             </span>
<span id="cb47-16"><a href="#cb47-16"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb47-17"><a href="#cb47-17"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb47-18"><a href="#cb47-18"></a>                      </span>
<span id="cb47-19"><a href="#cb47-19"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb47-20"><a href="#cb47-20"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb47-21"><a href="#cb47-21"></a>                        </span>
<span id="cb47-22"><a href="#cb47-22"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb47-23"><a href="#cb47-23"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb47-24"><a href="#cb47-24"></a>                          </span>
<span id="cb47-25"><a href="#cb47-25"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb47-26"><a href="#cb47-26"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb47-27"><a href="#cb47-27"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb47-28"><a href="#cb47-28"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-29"><a href="#cb47-29"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb47-30"><a href="#cb47-30"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb47-31"><a href="#cb47-31"></a>                          </span>
<span id="cb47-32"><a href="#cb47-32"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb47-33"><a href="#cb47-33"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb47-34"><a href="#cb47-34"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb47-35"><a href="#cb47-35"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb47-36"><a href="#cb47-36"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb47-37"><a href="#cb47-37"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb47-38"><a href="#cb47-38"></a>                          </span>
<span id="cb47-39"><a href="#cb47-39"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb47-40"><a href="#cb47-40"></a>                        </span>
<span id="cb47-41"><a href="#cb47-41"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb47-42"><a href="#cb47-42"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb47-43"><a href="#cb47-43"></a>                          </span>
<span id="cb47-44"><a href="#cb47-44"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot"</span>)</span>
<span id="cb47-45"><a href="#cb47-45"></a>                          </span>
<span id="cb47-46"><a href="#cb47-46"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb47-47"><a href="#cb47-47"></a>                        </span>
<span id="cb47-48"><a href="#cb47-48"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb47-49"><a href="#cb47-49"></a>                      </span>
<span id="cb47-50"><a href="#cb47-50"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb47-51"><a href="#cb47-51"></a>             </span>
<span id="cb47-52"><a href="#cb47-52"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb47-53"><a href="#cb47-53"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb47-54"><a href="#cb47-54"></a>                      </span>
<span id="cb47-55"><a href="#cb47-55"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb47-56"><a href="#cb47-56"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb47-57"><a href="#cb47-57"></a>                        </span>
<span id="cb47-58"><a href="#cb47-58"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb47-59"><a href="#cb47-59"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb47-60"><a href="#cb47-60"></a>                          </span>
<span id="cb47-61"><a href="#cb47-61"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb47-62"><a href="#cb47-62"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island"</span>, <span class="at">label =</span> <span class="st">"Select an island:"</span>,</span>
<span id="cb47-63"><a href="#cb47-63"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb47-64"><a href="#cb47-64"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb47-65"><a href="#cb47-65"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb47-66"><a href="#cb47-66"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb47-67"><a href="#cb47-67"></a>                          </span>
<span id="cb47-68"><a href="#cb47-68"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb47-69"><a href="#cb47-69"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb47-70"><a href="#cb47-70"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb47-71"><a href="#cb47-71"></a>                          </span>
<span id="cb47-72"><a href="#cb47-72"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb47-73"><a href="#cb47-73"></a>                        </span>
<span id="cb47-74"><a href="#cb47-74"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb47-75"><a href="#cb47-75"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb47-76"><a href="#cb47-76"></a>                          </span>
<span id="cb47-77"><a href="#cb47-77"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram"</span>) </span>
<span id="cb47-78"><a href="#cb47-78"></a>                          </span>
<span id="cb47-79"><a href="#cb47-79"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb47-80"><a href="#cb47-80"></a>                        </span>
<span id="cb47-81"><a href="#cb47-81"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb47-82"><a href="#cb47-82"></a>                      </span>
<span id="cb47-83"><a href="#cb47-83"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb47-84"><a href="#cb47-84"></a>             </span>
<span id="cb47-85"><a href="#cb47-85"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb47-86"><a href="#cb47-86"></a>           </span>
<span id="cb47-87"><a href="#cb47-87"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb47-88"><a href="#cb47-88"></a>  </span>
<span id="cb47-89"><a href="#cb47-89"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb48" data-code-line-numbers="28-47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb48-2"><a href="#cb48-2"></a>  </span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb48-5"><a href="#cb48-5"></a></span>
<span id="cb48-6"><a href="#cb48-6"></a>      clean_trout <span class="sc">|&gt;</span></span>
<span id="cb48-7"><a href="#cb48-7"></a>        <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb48-8"><a href="#cb48-8"></a>        <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb48-9"><a href="#cb48-9"></a>        </span>
<span id="cb48-10"><a href="#cb48-10"></a>    })</span>
<span id="cb48-11"><a href="#cb48-11"></a></span>
<span id="cb48-12"><a href="#cb48-12"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb48-13"><a href="#cb48-13"></a>  output<span class="sc">$</span>trout_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb48-14"><a href="#cb48-14"></a></span>
<span id="cb48-15"><a href="#cb48-15"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb48-16"><a href="#cb48-16"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb48-17"><a href="#cb48-17"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb48-18"><a href="#cb48-18"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb48-19"><a href="#cb48-19"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb48-20"><a href="#cb48-20"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb48-21"><a href="#cb48-21"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb48-22"><a href="#cb48-22"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb48-23"><a href="#cb48-23"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb48-24"><a href="#cb48-24"></a>      myCustomTheme</span>
<span id="cb48-25"><a href="#cb48-25"></a></span>
<span id="cb48-26"><a href="#cb48-26"></a>  })</span>
<span id="cb48-27"><a href="#cb48-27"></a>  </span>
<span id="cb48-28"><a href="#cb48-28"></a>  <span class="co"># filter for island ----</span></span>
<span id="cb48-29"><a href="#cb48-29"></a>  island_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb48-30"><a href="#cb48-30"></a></span>
<span id="cb48-31"><a href="#cb48-31"></a>    penguins <span class="sc">%&gt;%</span></span>
<span id="cb48-32"><a href="#cb48-32"></a>      <span class="fu">filter</span>(island <span class="sc">%in%</span> input<span class="sc">$</span>penguin_island)</span>
<span id="cb48-33"><a href="#cb48-33"></a></span>
<span id="cb48-34"><a href="#cb48-34"></a>  })</span>
<span id="cb48-35"><a href="#cb48-35"></a></span>
<span id="cb48-36"><a href="#cb48-36"></a>  <span class="co"># render the flipper length histogram ----</span></span>
<span id="cb48-37"><a href="#cb48-37"></a>  output<span class="sc">$</span>flipperLength_histogram <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb48-38"><a href="#cb48-38"></a></span>
<span id="cb48-39"><a href="#cb48-39"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">island_df</span>()), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb48-40"><a href="#cb48-40"></a>      <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin_num) <span class="sc">+</span></span>
<span id="cb48-41"><a href="#cb48-41"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb48-42"><a href="#cb48-42"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb48-43"><a href="#cb48-43"></a>           <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb48-44"><a href="#cb48-44"></a>      myCustomTheme</span>
<span id="cb48-45"><a href="#cb48-45"></a>    </span>
<span id="cb48-46"><a href="#cb48-46"></a>  })</span>
<span id="cb48-47"><a href="#cb48-47"></a>  </span>
<span id="cb48-48"><a href="#cb48-48"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="mini-break2" class="slide level2" data-menu-title="# Mini break 2 #" data-background="#047C90"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
Mini Break
</p>
<p class="caption-text">
<em>Next, we’ll finish up v1 of our app by adding some intro text to the landing page</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_7cfde14a" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls">
<button class="countdown-bump-down">−</button><button class="countdown-bump-up">&amp;plus;</button>
</div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section><section id="lastly-text" class="slide level2" data-menu-title="Lastly, text"><h2></h2>
<div class="slide-title-smaller">
Lastly: add background/other important information text
</div>
<p class="body-text">
It’s usually valuable (and important) to provide some background information/context for your app – the landing page of your app can be a great place for this. We’re going to add text to our app’s landing page (i.e.&nbsp;the <strong>About this App</strong> page) so that it looks like the example below:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<img src="images/landing-text.png" alt="The landing page (i.e. the 'About this App' page) of ourapp, which includes a large h1 title that says 'Welcome to the LTER Animal Data Explorer!' followed by two subsections titled, 'Why did we build this app?' and 'Where's the data?'. A faint gray horizontal divider line separates these sections from the footer at the bottom of the page, which tells the user that the app is maintained by Samantha Csik, is updated as needed for teaching purposes, to report issues at a link, and that source code is found on GitHub." width="600">
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<br><p class="body-text bottombr">
<strong>Some important pieces for information to consider adding:</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> motivation for building the app
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> brief instructions for exploring the data
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> who maintains the app, where the code lives, how to submit issues/suggestions
</p>
</div>
</div>
</section><section id="unruly-text" class="slide level2" data-menu-title="Unruly text in the UI"><h2></h2>
<div class="slide-title-smaller">
Adding long text to the UI can get unruly
</div>
<p class="small-text">
For example, I’ve added and formatted my landing page’s text directly in the <strong>UI</strong> using lots of nested <code>tags</code> – I’ve done this inside the <code>tabPanel</code> titled <strong>About this App</strong> (<strong>Note:</strong> I’ve formatted the layout of this page a bit using <code>fluidRow</code> and <code>column</code>s to create some white space around the edges. I’ve also created a faint gray horizontal line, using <code>hr()</code>, beneath which I added a footnote):
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="8-24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb49-2"><a href="#cb49-2"></a>  </span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb49-4"><a href="#cb49-4"></a>  </span>
<span id="cb49-5"><a href="#cb49-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb49-6"><a href="#cb49-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb49-7"><a href="#cb49-7"></a>           </span>
<span id="cb49-8"><a href="#cb49-8"></a>           <span class="fu">fluidRow</span>(</span>
<span id="cb49-9"><a href="#cb49-9"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb49-10"><a href="#cb49-10"></a>             <span class="fu">column</span>(<span class="dv">10</span>,</span>
<span id="cb49-11"><a href="#cb49-11"></a>                    tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Welcome to the LTER Animal Data Explorer!"</span>),</span>
<span id="cb49-12"><a href="#cb49-12"></a>                    tags<span class="sc">$</span><span class="fu">br</span>(),</span>
<span id="cb49-13"><a href="#cb49-13"></a>                    tags<span class="sc">$</span><span class="fu">h4</span>(<span class="st">"Why did we build this app?"</span>),</span>
<span id="cb49-14"><a href="#cb49-14"></a>                    tags<span class="sc">$</span><span class="fu">p</span>(<span class="st">"This shiny app was built, in part, to provide users a way of exploring morphological characteristics of the different animal species found within NSF's"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://lternet.edu/"</span>, <span class="st">"Long Term Ecological Research (LTER)"</span>), <span class="st">"sites...but primarily, it was built as a teaching tool for"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://bren.ucsb.edu/courses/eds-430"</span>, <span class="st">"EDS 430 (Intro to Shiny)"</span>), <span class="st">"-- this workshop, taught through the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://ucsb-meds.github.io/"</span>, <span class="st">"Master of Environmental Data Science (MEDS) program"</span>), <span class="st">"at the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://bren.ucsb.edu/"</span>, <span class="st">"Bren School of Environmental Science and Management"</span>), <span class="st">"is a two-day coding-intensive course meant to meant to provide a introductory foundation in shiny app development."</span>),</span>
<span id="cb49-15"><a href="#cb49-15"></a>                    tags<span class="sc">$</span><span class="fu">br</span>(),</span>
<span id="cb49-16"><a href="#cb49-16"></a>                    tags<span class="sc">$</span><span class="fu">h4</span>(<span class="st">"Where's the data?"</span>),</span>
<span id="cb49-17"><a href="#cb49-17"></a>                    tags<span class="sc">$</span><span class="fu">p</span>(<span class="st">"Check out the"</span>, tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Explore the Data"</span>), <span class="st">"page to find interactive data visualizations looking at Cutthroat trout of the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://andrewsforest.oregonstate.edu/"</span>, <span class="st">"Andrews Forest LTER"</span>), <span class="st">"and Adélie, Gentoo &amp; Chinstrap penguins of the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://pallter.marine.rutgers.edu/"</span>, <span class="st">"Palmer Station LTER."</span>))</span>
<span id="cb49-18"><a href="#cb49-18"></a>             ),</span>
<span id="cb49-19"><a href="#cb49-19"></a>             <span class="fu">column</span>(<span class="dv">1</span>)</span>
<span id="cb49-20"><a href="#cb49-20"></a>           ), <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb49-21"><a href="#cb49-21"></a>           </span>
<span id="cb49-22"><a href="#cb49-22"></a>           <span class="fu">hr</span>(),</span>
<span id="cb49-23"><a href="#cb49-23"></a>           </span>
<span id="cb49-24"><a href="#cb49-24"></a>           <span class="fu">em</span>(<span class="st">"This app is maintained by"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://samanthacsik.github.io/"</span>, <span class="st">"Samantha Csik"</span>), <span class="st">"and is updated as needed for teaching purposes. Please report any issues"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://github.com/samanthacsik/EDS430-shiny-app/issues"</span>, <span class="st">"here."</span>), <span class="st">"Source code can be found on"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://github.com/samanthacsik/EDS430-shiny-app"</span>, <span class="st">"GitHub."</span>))</span>
<span id="cb49-25"><a href="#cb49-25"></a>           </span>
<span id="cb49-26"><a href="#cb49-26"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb49-27"><a href="#cb49-27"></a>  </span>
<span id="cb49-28"><a href="#cb49-28"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb49-29"><a href="#cb49-29"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb49-30"><a href="#cb49-30"></a>           </span>
<span id="cb49-31"><a href="#cb49-31"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb49-32"><a href="#cb49-32"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb49-33"><a href="#cb49-33"></a>             </span>
<span id="cb49-34"><a href="#cb49-34"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb49-35"><a href="#cb49-35"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb49-36"><a href="#cb49-36"></a>                      </span>
<span id="cb49-37"><a href="#cb49-37"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb49-38"><a href="#cb49-38"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb49-39"><a href="#cb49-39"></a>                        </span>
<span id="cb49-40"><a href="#cb49-40"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb49-41"><a href="#cb49-41"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb49-42"><a href="#cb49-42"></a>                          </span>
<span id="cb49-43"><a href="#cb49-43"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb49-44"><a href="#cb49-44"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb49-45"><a href="#cb49-45"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb49-46"><a href="#cb49-46"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-47"><a href="#cb49-47"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb49-48"><a href="#cb49-48"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb49-49"><a href="#cb49-49"></a>                          </span>
<span id="cb49-50"><a href="#cb49-50"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb49-51"><a href="#cb49-51"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb49-52"><a href="#cb49-52"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb49-53"><a href="#cb49-53"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb49-54"><a href="#cb49-54"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb49-55"><a href="#cb49-55"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb49-56"><a href="#cb49-56"></a>                          </span>
<span id="cb49-57"><a href="#cb49-57"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb49-58"><a href="#cb49-58"></a>                        </span>
<span id="cb49-59"><a href="#cb49-59"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb49-60"><a href="#cb49-60"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb49-61"><a href="#cb49-61"></a>                          </span>
<span id="cb49-62"><a href="#cb49-62"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot"</span>) </span>
<span id="cb49-63"><a href="#cb49-63"></a>                          </span>
<span id="cb49-64"><a href="#cb49-64"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb49-65"><a href="#cb49-65"></a>                        </span>
<span id="cb49-66"><a href="#cb49-66"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb49-67"><a href="#cb49-67"></a>                      </span>
<span id="cb49-68"><a href="#cb49-68"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb49-69"><a href="#cb49-69"></a>             </span>
<span id="cb49-70"><a href="#cb49-70"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb49-71"><a href="#cb49-71"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb49-72"><a href="#cb49-72"></a>                      </span>
<span id="cb49-73"><a href="#cb49-73"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb49-74"><a href="#cb49-74"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb49-75"><a href="#cb49-75"></a>                        </span>
<span id="cb49-76"><a href="#cb49-76"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb49-77"><a href="#cb49-77"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb49-78"><a href="#cb49-78"></a>                          </span>
<span id="cb49-79"><a href="#cb49-79"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb49-80"><a href="#cb49-80"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island"</span>, <span class="at">label =</span> <span class="st">"Select an island:"</span>,</span>
<span id="cb49-81"><a href="#cb49-81"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb49-82"><a href="#cb49-82"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb49-83"><a href="#cb49-83"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb49-84"><a href="#cb49-84"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb49-85"><a href="#cb49-85"></a>                          </span>
<span id="cb49-86"><a href="#cb49-86"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb49-87"><a href="#cb49-87"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb49-88"><a href="#cb49-88"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb49-89"><a href="#cb49-89"></a>                          </span>
<span id="cb49-90"><a href="#cb49-90"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb49-91"><a href="#cb49-91"></a>                        </span>
<span id="cb49-92"><a href="#cb49-92"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb49-93"><a href="#cb49-93"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb49-94"><a href="#cb49-94"></a>                          </span>
<span id="cb49-95"><a href="#cb49-95"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram"</span>) </span>
<span id="cb49-96"><a href="#cb49-96"></a>                          </span>
<span id="cb49-97"><a href="#cb49-97"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb49-98"><a href="#cb49-98"></a>                        </span>
<span id="cb49-99"><a href="#cb49-99"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb49-100"><a href="#cb49-100"></a>                      </span>
<span id="cb49-101"><a href="#cb49-101"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb49-102"><a href="#cb49-102"></a>             </span>
<span id="cb49-103"><a href="#cb49-103"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb49-104"><a href="#cb49-104"></a>           </span>
<span id="cb49-105"><a href="#cb49-105"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb49-106"><a href="#cb49-106"></a>  </span>
<span id="cb49-107"><a href="#cb49-107"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="includeMarkdown" class="slide level2" data-menu-title="includeMarkdown()"><h2></h2>
<div class="slide-title-smaller">
Instead, use <code>includeMarkdown()</code> to read in text from separate <code>.md</code> files
</div>
<p class="small-text">
To maintain readability and an overall tidier-looking UI, you can write and style long bodies of text in separate markdown (<code>.md</code>) files that you then read into your UI using the <code>includeMarkdown()</code> function (<strong>Important:</strong> the <code>includeMarkdown()</code> function requires the <a href="https://github.com/rstudio/markdown">markdown</a> package – be sure to add <code><a href="https://github.com/rstudio/markdown">library(markdown)</a></code> to your <code>global.R</code> file!).
</p>
<p class="small-text">
I recommend saving those <code>.md</code> files in a subdirectory named <code>/text</code> within your app’s directory (e.g.&nbsp;<code>~/two-file-app/text/mytext.md</code>). See how I simplified my UI by saving my long landing page text to two new files, <code>about.md</code> and <code>footer.md</code>, then imported them into my UI using <code>includeMarkdown()</code>.
</p>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-4-1"><code>ui.R</code></a></li>
<li><a href="#tabset-4-2"><code>text/about.md</code></a></li>
<li><a href="#tabset-4-3"><code>text/footer.md</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb50" data-code-line-numbers="8-21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb50-2"><a href="#cb50-2"></a>  </span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb50-4"><a href="#cb50-4"></a>  </span>
<span id="cb50-5"><a href="#cb50-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb50-6"><a href="#cb50-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb50-7"><a href="#cb50-7"></a>           </span>
<span id="cb50-8"><a href="#cb50-8"></a>           <span class="co"># intro text fluidRow ----</span></span>
<span id="cb50-9"><a href="#cb50-9"></a>           <span class="fu">fluidRow</span>(</span>
<span id="cb50-10"><a href="#cb50-10"></a>             </span>
<span id="cb50-11"><a href="#cb50-11"></a>             <span class="co"># use columns to create white space on sides</span></span>
<span id="cb50-12"><a href="#cb50-12"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb50-13"><a href="#cb50-13"></a>             <span class="fu">column</span>(<span class="dv">10</span>, <span class="fu">includeMarkdown</span>(<span class="st">"text/about.md"</span>)),</span>
<span id="cb50-14"><a href="#cb50-14"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb50-15"><a href="#cb50-15"></a>             </span>
<span id="cb50-16"><a href="#cb50-16"></a>           ), <span class="co"># </span><span class="re">END</span><span class="co"> intro text fluidRow</span></span>
<span id="cb50-17"><a href="#cb50-17"></a>           </span>
<span id="cb50-18"><a href="#cb50-18"></a>           <span class="fu">hr</span>(), <span class="co"># creates light gray horizontal line</span></span>
<span id="cb50-19"><a href="#cb50-19"></a>           </span>
<span id="cb50-20"><a href="#cb50-20"></a>           <span class="co"># footer text ----</span></span>
<span id="cb50-21"><a href="#cb50-21"></a>           <span class="fu">includeMarkdown</span>(<span class="st">"text/footer.md"</span>)</span>
<span id="cb50-22"><a href="#cb50-22"></a>           </span>
<span id="cb50-23"><a href="#cb50-23"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb50-24"><a href="#cb50-24"></a>  </span>
<span id="cb50-25"><a href="#cb50-25"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb50-26"><a href="#cb50-26"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb50-27"><a href="#cb50-27"></a>           </span>
<span id="cb50-28"><a href="#cb50-28"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb50-29"><a href="#cb50-29"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb50-30"><a href="#cb50-30"></a>             </span>
<span id="cb50-31"><a href="#cb50-31"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb50-32"><a href="#cb50-32"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb50-33"><a href="#cb50-33"></a>                      </span>
<span id="cb50-34"><a href="#cb50-34"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb50-35"><a href="#cb50-35"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb50-36"><a href="#cb50-36"></a>                        </span>
<span id="cb50-37"><a href="#cb50-37"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb50-38"><a href="#cb50-38"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb50-39"><a href="#cb50-39"></a>                          </span>
<span id="cb50-40"><a href="#cb50-40"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb50-41"><a href="#cb50-41"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb50-42"><a href="#cb50-42"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb50-43"><a href="#cb50-43"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-44"><a href="#cb50-44"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb50-45"><a href="#cb50-45"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb50-46"><a href="#cb50-46"></a>                          </span>
<span id="cb50-47"><a href="#cb50-47"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb50-48"><a href="#cb50-48"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb50-49"><a href="#cb50-49"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb50-50"><a href="#cb50-50"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb50-51"><a href="#cb50-51"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb50-52"><a href="#cb50-52"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb50-53"><a href="#cb50-53"></a>                          </span>
<span id="cb50-54"><a href="#cb50-54"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb50-55"><a href="#cb50-55"></a>                        </span>
<span id="cb50-56"><a href="#cb50-56"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb50-57"><a href="#cb50-57"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb50-58"><a href="#cb50-58"></a>                          </span>
<span id="cb50-59"><a href="#cb50-59"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot"</span>) <span class="co"># |&gt; withSpinner(color = "#006792", type = 1)</span></span>
<span id="cb50-60"><a href="#cb50-60"></a>                          </span>
<span id="cb50-61"><a href="#cb50-61"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb50-62"><a href="#cb50-62"></a>                        </span>
<span id="cb50-63"><a href="#cb50-63"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb50-64"><a href="#cb50-64"></a>                      </span>
<span id="cb50-65"><a href="#cb50-65"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel</span></span>
<span id="cb50-66"><a href="#cb50-66"></a>             </span>
<span id="cb50-67"><a href="#cb50-67"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb50-68"><a href="#cb50-68"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb50-69"><a href="#cb50-69"></a>                      </span>
<span id="cb50-70"><a href="#cb50-70"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb50-71"><a href="#cb50-71"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb50-72"><a href="#cb50-72"></a>                        </span>
<span id="cb50-73"><a href="#cb50-73"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb50-74"><a href="#cb50-74"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb50-75"><a href="#cb50-75"></a>                          </span>
<span id="cb50-76"><a href="#cb50-76"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb50-77"><a href="#cb50-77"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island"</span>, <span class="at">label =</span> <span class="st">"Select an island:"</span>,</span>
<span id="cb50-78"><a href="#cb50-78"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb50-79"><a href="#cb50-79"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-80"><a href="#cb50-80"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb50-81"><a href="#cb50-81"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb50-82"><a href="#cb50-82"></a>                          </span>
<span id="cb50-83"><a href="#cb50-83"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb50-84"><a href="#cb50-84"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb50-85"><a href="#cb50-85"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb50-86"><a href="#cb50-86"></a>                          </span>
<span id="cb50-87"><a href="#cb50-87"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb50-88"><a href="#cb50-88"></a>                        </span>
<span id="cb50-89"><a href="#cb50-89"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb50-90"><a href="#cb50-90"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb50-91"><a href="#cb50-91"></a>                          </span>
<span id="cb50-92"><a href="#cb50-92"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram"</span>)</span>
<span id="cb50-93"><a href="#cb50-93"></a>                          </span>
<span id="cb50-94"><a href="#cb50-94"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb50-95"><a href="#cb50-95"></a>                        </span>
<span id="cb50-96"><a href="#cb50-96"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb50-97"><a href="#cb50-97"></a>                      </span>
<span id="cb50-98"><a href="#cb50-98"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb50-99"><a href="#cb50-99"></a>             </span>
<span id="cb50-100"><a href="#cb50-100"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb50-101"><a href="#cb50-101"></a>           </span>
<span id="cb50-102"><a href="#cb50-102"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb50-103"><a href="#cb50-103"></a>  </span>
<span id="cb50-104"><a href="#cb50-104"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">## Welcome to the LTER Animal Data Explorer!</span></span>
<span id="cb51-2"><a href="#cb51-2"></a></span>
<span id="cb51-3"><a href="#cb51-3"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb51-4"><a href="#cb51-4"></a></span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="fu">#### Why did we build this app?</span></span>
<span id="cb51-6"><a href="#cb51-6"></a></span>
<span id="cb51-7"><a href="#cb51-7"></a>This shiny app was built, in part, to provide users a way of exploring morphological characteristics of the different animal species found within NSF's <span class="co">[</span><span class="ot">Long Term Ecological Research (LTER)</span><span class="co">](https://lternet.edu/)</span> sites...but primarily, it was built as a teaching tool for <span class="co">[</span><span class="ot">EDS 430 (Intro to Shiny)</span><span class="co">](https://bren.ucsb.edu/courses/eds-430)</span> -- this workshop, taught through the <span class="co">[</span><span class="ot">Master of Environmental Data Science (MEDS) program</span><span class="co">](https://ucsb-meds.github.io/)</span> at the <span class="co">[</span><span class="ot">Bren School of Environmental Science and Management</span><span class="co">](https://bren.ucsb.edu/)</span>, is a two-day coding-intensive course meant to meant to provide a introductory foundation in shiny app development.</span>
<span id="cb51-8"><a href="#cb51-8"></a></span>
<span id="cb51-9"><a href="#cb51-9"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb51-10"><a href="#cb51-10"></a></span>
<span id="cb51-11"><a href="#cb51-11"></a><span class="fu">#### Where's the data? </span></span>
<span id="cb51-12"><a href="#cb51-12"></a></span>
<span id="cb51-13"><a href="#cb51-13"></a>Check out the **Explore the Data** page to find interactive data visualizations looking at Cutthroat trout of the <span class="co">[</span><span class="ot">Andrews Forest LTER</span><span class="co">](https://andrewsforest.oregonstate.edu/)</span> and Adelie, Gentoo &amp; Chinstrap penguins of the <span class="co">[</span><span class="ot">Palmer Station LTER</span><span class="co">](https://pallter.marine.rutgers.edu/)</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb52-1"><a href="#cb52-1"></a>*This app is maintained by [Samantha Csik](https://samanthacsik.github.io/) and is updated as needed for teaching purposes. Please report any issues [here](https://github.com/samanthacsik/EDS430-shiny-app/issues). Source code can be found on [GitHub](https://github.com/samanthacsik/EDS430-shiny-app).*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="last-run" class="slide level2" data-menu-title="Check out your full app!"><h2></h2>
<div class="slide-title-smaller">
Run your app one more time to admire your beautiful creation!
</div>
<center>
<img src="images/app2_v1.gif" alt="An app titled 'LTER Animal Data Explorer'. The user starts on the 'About this App' page, which includes a couple paragraphs of intro text. The user then clicks on the 'Explore the Data' page which has two tabs: Trout and Penguins. On the Trout tab, we see a scatterplot with Trout Length (mm) on the x-axis and Trout Weight (g) on the y-axis. The user first filters data by Channel Type using a drop down list selector widget, then by Forest Section using two buttons that toggle on data from clear cut vs. old growth forest. In the Penguin tab, we see a histogram displaying Flipper Lengths (mm) of three penguin species. The user uses a drop down list selector widget to filter data by Island, then uses a slider widget to adjust the number of histogram bins." width="750">
</center>
<p class="smaller-text">
Again, we have some UX/UI quirks to fix (most notably, blank plots when all widget options are deselected), which we’ll handle soon. But for now, we have a functioning app that we can practice deploying for the first time!
</p>
</section><section id="app2-code" class="slide level2" data-menu-title="App #2 code (so far)"><h2></h2>
<div class="slide-title-smaller">
Code recap for app #2v1, so far:
</div>
<p class="small-text">
Additionally, you should have a <code>/text</code> folder within your app’s directory (<code>/two-file-app</code>, if you named it as I did) that contains two markdown files, <code>about.md</code> and <code>footer.md</code>.
</p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-5-1"><code>global.R</code></a></li>
<li><a href="#tabset-5-2"><code>ui.R</code></a></li>
<li><a href="#tabset-5-3"><code>server.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb53-3"><a href="#cb53-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb53-5"><a href="#cb53-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb53-6"><a href="#cb53-6"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb53-7"><a href="#cb53-7"></a><span class="fu">library</span>(markdown)</span>
<span id="cb53-8"><a href="#cb53-8"></a></span>
<span id="cb53-9"><a href="#cb53-9"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb53-10"><a href="#cb53-10"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb53-11"><a href="#cb53-11"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb53-12"><a href="#cb53-12"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb53-13"><a href="#cb53-13"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-14"><a href="#cb53-14"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb53-15"><a href="#cb53-15"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb53-16"><a href="#cb53-16"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb53-17"><a href="#cb53-17"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb53-18"><a href="#cb53-18"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb53-19"><a href="#cb53-19"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb53-20"><a href="#cb53-20"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb53-21"><a href="#cb53-21"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb53-22"><a href="#cb53-22"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-23"><a href="#cb53-23"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb53-24"><a href="#cb53-24"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb53-25"><a href="#cb53-25"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb53-26"><a href="#cb53-26"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb53-27"><a href="#cb53-27"></a></span>
<span id="cb53-28"><a href="#cb53-28"></a><span class="co"># GGPLOT THEME ----</span></span>
<span id="cb53-29"><a href="#cb53-29"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb53-30"><a href="#cb53-30"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb53-31"><a href="#cb53-31"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb53-32"><a href="#cb53-32"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb53-33"><a href="#cb53-33"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb53-34"><a href="#cb53-34"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb53-35"><a href="#cb53-35"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb54-2"><a href="#cb54-2"></a>  </span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb54-4"><a href="#cb54-4"></a>  </span>
<span id="cb54-5"><a href="#cb54-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb54-7"><a href="#cb54-7"></a>           </span>
<span id="cb54-8"><a href="#cb54-8"></a>           <span class="co"># intro text fluidRow ----</span></span>
<span id="cb54-9"><a href="#cb54-9"></a>           <span class="fu">fluidRow</span>(</span>
<span id="cb54-10"><a href="#cb54-10"></a>             </span>
<span id="cb54-11"><a href="#cb54-11"></a>             <span class="co"># use columns to create white space on sides</span></span>
<span id="cb54-12"><a href="#cb54-12"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb54-13"><a href="#cb54-13"></a>             <span class="fu">column</span>(<span class="dv">10</span>, <span class="fu">includeMarkdown</span>(<span class="st">"text/about.md"</span>)),</span>
<span id="cb54-14"><a href="#cb54-14"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb54-15"><a href="#cb54-15"></a>             </span>
<span id="cb54-16"><a href="#cb54-16"></a>           ), <span class="co"># </span><span class="re">END</span><span class="co"> intro text fluidRow</span></span>
<span id="cb54-17"><a href="#cb54-17"></a>           </span>
<span id="cb54-18"><a href="#cb54-18"></a>           <span class="fu">hr</span>(), <span class="co"># creates light gray horizontal line</span></span>
<span id="cb54-19"><a href="#cb54-19"></a>           </span>
<span id="cb54-20"><a href="#cb54-20"></a>           <span class="co"># footer text ----</span></span>
<span id="cb54-21"><a href="#cb54-21"></a>           <span class="fu">includeMarkdown</span>(<span class="st">"text/footer.md"</span>)</span>
<span id="cb54-22"><a href="#cb54-22"></a>           </span>
<span id="cb54-23"><a href="#cb54-23"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb54-24"><a href="#cb54-24"></a>  </span>
<span id="cb54-25"><a href="#cb54-25"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb54-26"><a href="#cb54-26"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb54-27"><a href="#cb54-27"></a>           </span>
<span id="cb54-28"><a href="#cb54-28"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb54-29"><a href="#cb54-29"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb54-30"><a href="#cb54-30"></a>             </span>
<span id="cb54-31"><a href="#cb54-31"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb54-32"><a href="#cb54-32"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb54-33"><a href="#cb54-33"></a>                      </span>
<span id="cb54-34"><a href="#cb54-34"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb54-35"><a href="#cb54-35"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb54-36"><a href="#cb54-36"></a>                        </span>
<span id="cb54-37"><a href="#cb54-37"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb54-38"><a href="#cb54-38"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb54-39"><a href="#cb54-39"></a>                          </span>
<span id="cb54-40"><a href="#cb54-40"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb54-41"><a href="#cb54-41"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb54-42"><a href="#cb54-42"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb54-43"><a href="#cb54-43"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb54-44"><a href="#cb54-44"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb54-45"><a href="#cb54-45"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb54-46"><a href="#cb54-46"></a>                          </span>
<span id="cb54-47"><a href="#cb54-47"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb54-48"><a href="#cb54-48"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb54-49"><a href="#cb54-49"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb54-50"><a href="#cb54-50"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb54-51"><a href="#cb54-51"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb54-52"><a href="#cb54-52"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb54-53"><a href="#cb54-53"></a>                          </span>
<span id="cb54-54"><a href="#cb54-54"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb54-55"><a href="#cb54-55"></a>                        </span>
<span id="cb54-56"><a href="#cb54-56"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb54-57"><a href="#cb54-57"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb54-58"><a href="#cb54-58"></a>                          </span>
<span id="cb54-59"><a href="#cb54-59"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot"</span>) <span class="co"># |&gt; withSpinner(color = "#006792", type = 1)</span></span>
<span id="cb54-60"><a href="#cb54-60"></a>                          </span>
<span id="cb54-61"><a href="#cb54-61"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb54-62"><a href="#cb54-62"></a>                        </span>
<span id="cb54-63"><a href="#cb54-63"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb54-64"><a href="#cb54-64"></a>                      </span>
<span id="cb54-65"><a href="#cb54-65"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb54-66"><a href="#cb54-66"></a>             </span>
<span id="cb54-67"><a href="#cb54-67"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb54-68"><a href="#cb54-68"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb54-69"><a href="#cb54-69"></a>                      </span>
<span id="cb54-70"><a href="#cb54-70"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb54-71"><a href="#cb54-71"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb54-72"><a href="#cb54-72"></a>                        </span>
<span id="cb54-73"><a href="#cb54-73"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb54-74"><a href="#cb54-74"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb54-75"><a href="#cb54-75"></a>                          </span>
<span id="cb54-76"><a href="#cb54-76"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb54-77"><a href="#cb54-77"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island"</span>, <span class="at">label =</span> <span class="st">"Select an island:"</span>,</span>
<span id="cb54-78"><a href="#cb54-78"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb54-79"><a href="#cb54-79"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb54-80"><a href="#cb54-80"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb54-81"><a href="#cb54-81"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb54-82"><a href="#cb54-82"></a>                          </span>
<span id="cb54-83"><a href="#cb54-83"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb54-84"><a href="#cb54-84"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb54-85"><a href="#cb54-85"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb54-86"><a href="#cb54-86"></a>                          </span>
<span id="cb54-87"><a href="#cb54-87"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb54-88"><a href="#cb54-88"></a>                        </span>
<span id="cb54-89"><a href="#cb54-89"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb54-90"><a href="#cb54-90"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb54-91"><a href="#cb54-91"></a>                          </span>
<span id="cb54-92"><a href="#cb54-92"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram"</span>) </span>
<span id="cb54-93"><a href="#cb54-93"></a>                          </span>
<span id="cb54-94"><a href="#cb54-94"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb54-95"><a href="#cb54-95"></a>                        </span>
<span id="cb54-96"><a href="#cb54-96"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb54-97"><a href="#cb54-97"></a>                      </span>
<span id="cb54-98"><a href="#cb54-98"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb54-99"><a href="#cb54-99"></a>             </span>
<span id="cb54-100"><a href="#cb54-100"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb54-101"><a href="#cb54-101"></a>           </span>
<span id="cb54-102"><a href="#cb54-102"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb54-103"><a href="#cb54-103"></a>  </span>
<span id="cb54-104"><a href="#cb54-104"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb55-2"><a href="#cb55-2"></a>  </span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb55-5"><a href="#cb55-5"></a></span>
<span id="cb55-6"><a href="#cb55-6"></a>      clean_trout <span class="sc">|&gt;</span></span>
<span id="cb55-7"><a href="#cb55-7"></a>        <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb55-8"><a href="#cb55-8"></a>        <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb55-9"><a href="#cb55-9"></a>        </span>
<span id="cb55-10"><a href="#cb55-10"></a>    })</span>
<span id="cb55-11"><a href="#cb55-11"></a></span>
<span id="cb55-12"><a href="#cb55-12"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb55-13"><a href="#cb55-13"></a>  output<span class="sc">$</span>trout_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb55-14"><a href="#cb55-14"></a></span>
<span id="cb55-15"><a href="#cb55-15"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb55-16"><a href="#cb55-16"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb55-17"><a href="#cb55-17"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb55-18"><a href="#cb55-18"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb55-19"><a href="#cb55-19"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb55-20"><a href="#cb55-20"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb55-21"><a href="#cb55-21"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb55-22"><a href="#cb55-22"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb55-23"><a href="#cb55-23"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb55-24"><a href="#cb55-24"></a>      myCustomTheme</span>
<span id="cb55-25"><a href="#cb55-25"></a></span>
<span id="cb55-26"><a href="#cb55-26"></a>  })</span>
<span id="cb55-27"><a href="#cb55-27"></a>  </span>
<span id="cb55-28"><a href="#cb55-28"></a>  <span class="co"># filter for island ----</span></span>
<span id="cb55-29"><a href="#cb55-29"></a>  island_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb55-30"><a href="#cb55-30"></a></span>
<span id="cb55-31"><a href="#cb55-31"></a>    penguins <span class="sc">%&gt;%</span></span>
<span id="cb55-32"><a href="#cb55-32"></a>      <span class="fu">filter</span>(island <span class="sc">%in%</span> input<span class="sc">$</span>penguin_island)</span>
<span id="cb55-33"><a href="#cb55-33"></a></span>
<span id="cb55-34"><a href="#cb55-34"></a>  })</span>
<span id="cb55-35"><a href="#cb55-35"></a></span>
<span id="cb55-36"><a href="#cb55-36"></a>  <span class="co"># render the flipper length histogram ----</span></span>
<span id="cb55-37"><a href="#cb55-37"></a>  output<span class="sc">$</span>flipperLength_histogram <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb55-38"><a href="#cb55-38"></a></span>
<span id="cb55-39"><a href="#cb55-39"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">island_df</span>()), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb55-40"><a href="#cb55-40"></a>      <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin_num) <span class="sc">+</span></span>
<span id="cb55-41"><a href="#cb55-41"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb55-42"><a href="#cb55-42"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb55-43"><a href="#cb55-43"></a>           <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb55-44"><a href="#cb55-44"></a>      myCustomTheme</span>
<span id="cb55-45"><a href="#cb55-45"></a>    </span>
<span id="cb55-46"><a href="#cb55-46"></a>  })</span>
<span id="cb55-47"><a href="#cb55-47"></a>  </span>
<span id="cb55-48"><a href="#cb55-48"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="deploying-apps" class="slide level2" data-menu-title="Deploying apps with shinyapps.io" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Upload" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Upload</title>
<path d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"></path></svg> Deploying apps with <a href="https://www.shinyapps.io/">shinyapps.io</a>
</p>
<p class="caption-text">
<em>Sharing your Shiny app with others isn’t so easy when it just lives on your computer (and your R session has to act as the server that powers it). We’ll now learn how to host your app using <a href="https://www.shinyapps.io/">shinyapps.io</a>, a free service for sharing your Shiny apps online.</em>
</p>
</div>
</section><section id="shinyapps-account" class="slide level2" data-menu-title="Set up shinyapps.io account"><h2></h2>
<div class="slide-title-smaller">
Connect your shinyapps.io account to RStudio
</div>
<p class="small-text">
Go to <a href="https://www.shinyapps.io/">shinyapps.io</a> and login or create an account (if you don’t already have one) – I created my account and login with GitHub. To use shinyapps.io, you first need to link your account with RStudio on your computer. Follow the instructions on shinyapps.io when you first create your account to install the <a href="https://github.com/rstudio/rsconnect"><code>{rsconnect}</code> package</a> and authorize your account:
</p>
<center>
<img src="images/shinyapps_setup.png" alt="shinyapps.io displays setup instructions: (1) INSTALL RSCONNECT: The `rsconnect` package can be installed directly from CRAN. To make sure you have the latest version run following code in your R console: `install.packages('rsconnect')`. (2) AUTHORIZE ACCOUNT: The `rsconnect` package must be authorized to your account using a token and secret. To do this, click the copy button below and we'll copy the whole command you need to your clipboard. Just paste it into your console to authorize your account. Once you've entered the command successfully in R, that computer is now authorized to deploy applications to your shinyapps.io account. (3) DEPLOY: Once the `rsconnect` package has been configured, you're ready to deploy your first application. If you haven't written any applications yet, you can also checkout the Getting Started Guide for instruction son how to deploy our demo application. Run the following code in your R console: `library(rsconnect)`, then `rsconnect::deployApp('path/to/your/app')`." width="750">
</center>
</section><section id="deploy-app" class="slide level2" data-menu-title="~~~ Deploy your app ~~~"><h2></h2>
<div class="slide-title-smaller">
Deploy your app to shinyapps.io
</div>
<p class="small-text">
Once your account has been authorized, run <code>rsconnect::deployApp("&lt;app_directory_name&gt;")</code> in your console to deploy your app to shinyapps.io. Here, we’ll run <code>rsconnect::deployApp("two-file-app")</code> to deploy the app we’ve been working on.
</p>
<p class="small-text">
Once deployed, a browser will open to your application. The URL will take the form: <strong>https://username.shinyapps.io/your_app_directory_name</strong>. You should also now see an <code>/rsconnect</code> folder within your app’s directory – this is generated when an application bundle is successfully deployed and contains a DCF file with information on the deployed content (i.e.&nbsp;the name, title, server address, account, URL, and time). <strong>This <code>/rsconnect</code> folder should be added and committed into version control (i.e.&nbsp;push it to GitHub!)</strong> so that future re-deployments target the same endpoint (i.e.&nbsp;your app’s URL).
</p>
<center>
<img src="images/deployed_v1.gif" alt="Our shiny app, now hosted at the URL https://samanthacsik.shinyapps.io/two-file-app which functions the same as when it was hosted locally." width="650">
</center>
</section><section id="shinyapps-dashboard" class="slide level2" data-menu-title="shinyapps.io dashboard"><h2></h2>
<div class="slide-title-smaller">
The shinyapps.io dashboard
</div>
<p class="small-text">
Your shinyapps.io dashboard provides tons of information about your application metrics, instance (the virtualized server that your app is hosted on) and worker (a special type of R process that an Application Instance runs to service requests to an application) settings, plan management, and more. The free plan (the plan we’re using here today) allows you to deploy <strong>five</strong> Shiny apps. You are able to archive and/or delete once-deployed apps to make space for new ones.
</p>
<center>
<img src="images/shinapps_dashboard.png" alt="The shinyapps.io dashboard displaying information about our two-file-app, now hosted at https://samanthacsik.shinyapps.io/two-file-app/. You can select different menu items from the navbar at the top of the page, including Overview, Metrics, URLs, Settings, Users, Logs, Restart, Archive, and Trash." width="750">
</center>
<p class="small-text">
Check out the <a href="https://docs.posit.co/shinyapps.io/index.html">shinyapps.io user guide</a> for more information on hosting your apps on shinyapps.io.
</p>
</section><section id="other-hosting-options" class="slide level2" data-menu-title="Alternative ways to host apps"><h2></h2>
<div class="slide-title-smaller">
Other ways to host your Shiny apps
</div>
<p class="small-text">
<a href="https://www.shinyapps.io/">shinyapps.io</a> is not the only Shiny app hosting service (though it’s the easiest to get started with and the only one we’ll be covering in detail in this workshop).
</p>
<p class="body-text topbr">
<strong>Posit also offers the following:</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://posit.co/products/open-source/shinyserver/">Shiny server</a> is an open source server which you can deploy for free on your own hardware. It requires more setup and configuration, but can be used without a fee. The Bren and NCEAS servers are configured with Shiny Server for hosting in-house apps (like those created by MEDS capstone groups). <strong><em>If you’re client plans to deploy/host your Shiny application, but does not yet have a their own server configured to do so, we recommend directing them to the <a href="https://posit.co/download/shiny-server/">online instructions</a> for getting started with Shiny Server.</em></strong>
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://posit.co/products/enterprise/connect/">Posit connect</a> is a paid product that provides an advanced suite of services for hosting Shiny apps, Quarto and R Markdown reports, APIs, and more.
</p>
<div class="fragment">
<p class="small-text important-text-bg topbr">
<strong>IMPORTANT:</strong> Hosting on a server means that shiny applications will be prone to breaking as updates to server software are made. It is important to have an <strong>application maintenance plan</strong> in place. This may mean identifying who is responsible for maintaining code, or even deciding to decommission applications and archive the code repository when appropriate.
</p>
</div>
</section><section id="improving-app2" class="slide level2" data-menu-title="~~~ Improving App #2 UX ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Users" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Users</title>
<path d="M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"></path></svg> Improving user experience
</p>
<p class="caption-text">
<em>Our two-file-app is looking pretty good! It’s functional and deployed via shinyapps.io. Next, we’ll focus on making some minor tweaks that can help to improve usability</em>
</p>
</div>
</section><section id="LO-app2v2" class="slide level2" data-menu-title="Learning Objectives - App #2v2"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - App #2v2 (two-file app)
</div>
<p class="medium-body-text bottombr">
By the end of this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand how to provide users with helpful error messages using <code>validate()</code>
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> know how to add customizable loading animations to alert users when reactive objects are re-rendering
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> know how to add alternate (alt) text to rendered plots
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand how to <em>republish</em> an app using <a href="https://www.shinyapps.io/">shinyapps.io</a>
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
New packages used:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://github.com/daattali/shinycssloaders">shinycssloaders</a>: add loading animations to shiny outputs
</p>
</div>
</section><section id="roadmap-app2v2" class="slide level2" data-menu-title="Roadmap App #2v2"><h2></h2>
<div class="slide-title-smaller">
Roadmap for App #2v2
</div>
<p class="body-text bottombr">
We’ll be refining our <strong>two-file app</strong> with a focus on creating a more user-friendly experience. When finished with v2, we’ll have added:
</p>
<div class="columns">
<div class="column" style="width:25%;">
<p><br></p>
<p class="small-text">
<strong>(a)</strong> user-friendly validation error messages that appear when widgets are used to deselect all data
</p>
<p class="small-text">
<strong>(b)</strong> loading animations for both two reactive plots
</p>
<p class="small-text">
<strong>(c)</strong> alternate (alt) text for all data visualizations
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:65%;">
<center>
<img src="images/app2_v2.gif" alt="Our most up to date app, which includes loading animations that signal to the user whenever a plot output is re-rendering, validation error messages that alert users to what is necessary to display data (in the case that they 'Deselect All' data using the available widgets), and alt text for both data visualizations." width="750">
</center>
</div>
</div>
</section><section id="no-guesswork" class="slide level2" data-menu-title="No guesswork!"><h2></h2>
<div class="slide-title">
Take out any guesswork for your app’s users
</div>
<p class="body-text">
<em>It’s important to remove any possible points of confusion for successfully using your app.</em>
</p>
<p class="small-text topbr">
In version 1 of our published app, you’ll notice that users are able to <strong>(1) Deselect All</strong> data using the <code>pickerInput</code>s for both the trout and penguin plots, and <strong>(2) “uncheck” both</strong> clear cut forest and old growth forest sampling section buttons using the <code>checkboxGroupInput</code>. When any of these actions are taken by the user, all data are removed from the plot, leaving a completely blank box behind.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p class="small-text topbr">
While this response is expected (and normal), we can generate a user-friendly <a href="https://shiny.rstudio.com/articles/validation.html">validation error</a> message to provide clear guidance to our users on what is expected by the app in order to display data.
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/confusing_sign.png" alt="A sign hanging on a glass door that is divided vertically -- the left-hand side is colored blue and reads 'Don't Push' with the words stacked on top of one another. The right-hand side is colored red and reads 'Pull Only' with the words stacked on top of one another. However, when the sign is read left to right, top to bottom, it appears to say 'Don't Pull Push Only'." width="450">
</center>
</div>
</div>
</section><section id="using-validate" class="slide level2" data-menu-title="Using validate()"><h2></h2>
<div class="slide-title">
Writing validation tests
</div>
<p class="small-text">
<code>validate()</code> tests a condition and returns an error if that conditions fails. It’s used in conjunction with <code>need()</code>, which takes an expression that returns <code>TRUE</code> or <code>FALSE</code>, along with a character string to return if the condition is <code>FALSE</code>.
</p>
<p class="small-text">
Place your validation test(s) at the start of any <code>reactive()</code> or <code>render*()</code> expression that calls <code>input$data</code>. For example, we can add two validation tests inside the reactive that generates our <code>trout_filtered_df</code> – we’ll need two separate validation tests, one for each of our inputs where users can deselect all data.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="6-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb56-2"><a href="#cb56-2"></a>  </span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb56-5"><a href="#cb56-5"></a></span>
<span id="cb56-6"><a href="#cb56-6"></a>    <span class="fu">validate</span>(</span>
<span id="cb56-7"><a href="#cb56-7"></a>      <span class="fu">need</span>(<span class="fu">length</span>(input<span class="sc">$</span>channel_type_input) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"Please select at least one channel type to visualize data for."</span>)</span>
<span id="cb56-8"><a href="#cb56-8"></a>    )</span>
<span id="cb56-9"><a href="#cb56-9"></a></span>
<span id="cb56-10"><a href="#cb56-10"></a>    <span class="fu">validate</span>(</span>
<span id="cb56-11"><a href="#cb56-11"></a>      <span class="fu">need</span>(<span class="fu">length</span>(input<span class="sc">$</span>section_input) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"Please select at least one section (clear cut forest or old growth forest) to visualize data for."</span>)</span>
<span id="cb56-12"><a href="#cb56-12"></a>    )</span>
<span id="cb56-13"><a href="#cb56-13"></a></span>
<span id="cb56-14"><a href="#cb56-14"></a>      clean_trout <span class="sc">|&gt;</span></span>
<span id="cb56-15"><a href="#cb56-15"></a>        <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb56-16"><a href="#cb56-16"></a>        <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb56-17"><a href="#cb56-17"></a>        </span>
<span id="cb56-18"><a href="#cb56-18"></a>    })</span>
<span id="cb56-19"><a href="#cb56-19"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="exercise4-prompt-tips" class="slide level2" data-menu-title="** Exercise 4 Prompt &amp; Tips **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> &amp; <svg aria-label="Lightbulb" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Lightbulb</title>
<path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"></path></svg> Exercise 4: Add a validation test for your penguin histogram
</div>
<p><br></p>
<p class="body-text">
<strong>To Do:</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Construct a validation test that displays a clear but succinct message when a user deselects all islands using the <code>pickerWidget</code>
</p>
<p><br></p>
<p class="body-text">
<strong>Tips:</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Despite having <strong>two</strong> inputs, we only need <strong>one</strong> validation test for our Penguins plot. Why is this?
</p>
<p><br><br></p>
<center>
<p class="medium-body-text">
See next slide for a solution!
</p>
</center>
</section><section id="exercise4-solution" class="slide level2" data-menu-title="** Exercise 4 Solution **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Exercise 4: A solution
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57" data-code-line-numbers="39-41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb57-2"><a href="#cb57-2"></a>  </span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb57-5"><a href="#cb57-5"></a></span>
<span id="cb57-6"><a href="#cb57-6"></a>    <span class="fu">validate</span>(</span>
<span id="cb57-7"><a href="#cb57-7"></a>      <span class="fu">need</span>(<span class="fu">length</span>(input<span class="sc">$</span>channel_type_input) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"Please select at least one channel type to visualize data for."</span>)</span>
<span id="cb57-8"><a href="#cb57-8"></a>    )</span>
<span id="cb57-9"><a href="#cb57-9"></a></span>
<span id="cb57-10"><a href="#cb57-10"></a>    <span class="fu">validate</span>(</span>
<span id="cb57-11"><a href="#cb57-11"></a>      <span class="fu">need</span>(<span class="fu">length</span>(input<span class="sc">$</span>section_input) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"Please select at least one section (clear cut forest or old growth forest) to visualize data for."</span>)</span>
<span id="cb57-12"><a href="#cb57-12"></a>    )</span>
<span id="cb57-13"><a href="#cb57-13"></a></span>
<span id="cb57-14"><a href="#cb57-14"></a>      clean_trout <span class="sc">|&gt;</span></span>
<span id="cb57-15"><a href="#cb57-15"></a>        <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb57-16"><a href="#cb57-16"></a>        <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb57-17"><a href="#cb57-17"></a>        </span>
<span id="cb57-18"><a href="#cb57-18"></a>    })</span>
<span id="cb57-19"><a href="#cb57-19"></a></span>
<span id="cb57-20"><a href="#cb57-20"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb57-21"><a href="#cb57-21"></a>  output<span class="sc">$</span>trout_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb57-22"><a href="#cb57-22"></a></span>
<span id="cb57-23"><a href="#cb57-23"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb57-24"><a href="#cb57-24"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb57-25"><a href="#cb57-25"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb57-26"><a href="#cb57-26"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb57-27"><a href="#cb57-27"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb57-28"><a href="#cb57-28"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb57-29"><a href="#cb57-29"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb57-30"><a href="#cb57-30"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb57-31"><a href="#cb57-31"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb57-32"><a href="#cb57-32"></a>      myCustomTheme</span>
<span id="cb57-33"><a href="#cb57-33"></a></span>
<span id="cb57-34"><a href="#cb57-34"></a>  })</span>
<span id="cb57-35"><a href="#cb57-35"></a>  </span>
<span id="cb57-36"><a href="#cb57-36"></a>  <span class="co"># filter for island ----</span></span>
<span id="cb57-37"><a href="#cb57-37"></a>  island_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb57-38"><a href="#cb57-38"></a></span>
<span id="cb57-39"><a href="#cb57-39"></a>    <span class="fu">validate</span>(</span>
<span id="cb57-40"><a href="#cb57-40"></a>      <span class="fu">need</span>(<span class="fu">length</span>(input<span class="sc">$</span>penguin_island) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"Please select at least one island to visualize data for."</span>)</span>
<span id="cb57-41"><a href="#cb57-41"></a>    )</span>
<span id="cb57-42"><a href="#cb57-42"></a></span>
<span id="cb57-43"><a href="#cb57-43"></a>    penguins <span class="sc">%&gt;%</span></span>
<span id="cb57-44"><a href="#cb57-44"></a>      <span class="fu">filter</span>(island <span class="sc">%in%</span> input<span class="sc">$</span>penguin_island)</span>
<span id="cb57-45"><a href="#cb57-45"></a></span>
<span id="cb57-46"><a href="#cb57-46"></a>  })</span>
<span id="cb57-47"><a href="#cb57-47"></a></span>
<span id="cb57-48"><a href="#cb57-48"></a>  <span class="co"># render the flipper length histogram ----</span></span>
<span id="cb57-49"><a href="#cb57-49"></a>  output<span class="sc">$</span>flipperLength_histogram <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb57-50"><a href="#cb57-50"></a></span>
<span id="cb57-51"><a href="#cb57-51"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">island_df</span>()), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb57-52"><a href="#cb57-52"></a>      <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin_num) <span class="sc">+</span></span>
<span id="cb57-53"><a href="#cb57-53"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb57-54"><a href="#cb57-54"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb57-55"><a href="#cb57-55"></a>           <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb57-56"><a href="#cb57-56"></a>      myCustomTheme</span>
<span id="cb57-57"><a href="#cb57-57"></a>    </span>
<span id="cb57-58"><a href="#cb57-58"></a>  })</span>
<span id="cb57-59"><a href="#cb57-59"></a>  </span>
<span id="cb57-60"><a href="#cb57-60"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="loading-animations" class="slide level2" data-menu-title="Add loading animations"><h2></h2>
<div class="slide-title-smaller">
Add loading animations to re-rendering outputs
</div>
<p class="small-text">
The <a href="https://github.com/daattali/shinycssloaders">`{shinycssloaders} package</a> makes it easy to add visual indicators to outputs as they’re loading or re-rendering. This can be particularly helpful if you have outputs that take a few seconds to render – it alerts users that their updated inputs were recognized and that the app is working to re-render outputs.
</p>
<p class="small-text">
Check out the <a href="https://daattali.com/shiny/shinycssloaders-demo/">demo app</a> to start designing your own “spinner” (choose style, color, size).
</p>
<p class="small-text">
We can pipe the <code>withSpinner()</code> function directly into our <code>plotOutput</code>s in <code>ui.R</code> – here, we define the spinner color and style (there are 8 different spinner <code>type</code>s to choose from) and adjust the size of the penguin plot spinner.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># in ui.R</span></span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="fu">withSpinner</span>(<span class="at">color =</span> <span class="st">"#006792"</span>, <span class="at">type =</span> <span class="dv">1</span>)</span>
<span id="cb58-4"><a href="#cb58-4"></a></span>
<span id="cb58-5"><a href="#cb58-5"></a><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-6"><a href="#cb58-6"></a>  <span class="fu">withSpinner</span>(<span class="at">color =</span> <span class="st">"#4BA4A4"</span>, <span class="at">type =</span> <span class="dv">4</span>, <span class="at">size =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/spinners.gif" alt="Loading animations appear each time an input value is changed and plot outputs are re-rendered. The trout plot has a blue animation of three perpendicular vertical bars that undulate in length. The penguin plot has a green trailing circular pattern of small circles that grow and shrink in size as they rotate." width="550">
</center>
</div>
</div>
</section><section id="include-alt-text" class="slide level2" data-menu-title="Include alt text"><h2></h2>
<div class="slide-title-smaller">
Include alt text for all data visualizations
</div>
<p class="small-text">
Alt text are <strong>written descriptions</strong> added to images, and importantly, to data visualizations, to <strong>help more users understand the content</strong>. Assistive technologies (e.g.&nbsp;screen readers) read alt text out loud for users to hear. When alt text is successfully added, the <code>alt</code> tag (along your text) should appear in the HTML (right click on your app’s data viz to <strong>Inpsect</strong> and ensure that it was added).
</p>
<div class="columns">
<div class="column" style="width:35%;">
<p><br><br></p>
<p class="small-text">
We’ll talk a bit more about alt text <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/alt-text">later on</a>, but for now we can add alt text easily to our data visuzliations using the <code>alt</code> argument. Place this <em>outside</em> of the <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> but inside the <code>()</code> of <code>renderPlot{()}</code>. For example, we can add alt text to our trout and penguin plots in <code>server.R</code>:
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="18|35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="co"># in server.R</span></span>
<span id="cb59-2"><a href="#cb59-2"></a><span class="co"># render trout scatterplot ----</span></span>
<span id="cb59-3"><a href="#cb59-3"></a>output<span class="sc">$</span>trout_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb59-4"><a href="#cb59-4"></a></span>
<span id="cb59-5"><a href="#cb59-5"></a>  <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb59-8"><a href="#cb59-8"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb59-9"><a href="#cb59-9"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb59-10"><a href="#cb59-10"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb59-11"><a href="#cb59-11"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb59-12"><a href="#cb59-12"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb59-13"><a href="#cb59-13"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb59-14"><a href="#cb59-14"></a>      myCustomTheme</span>
<span id="cb59-15"><a href="#cb59-15"></a></span>
<span id="cb59-16"><a href="#cb59-16"></a> },</span>
<span id="cb59-17"><a href="#cb59-17"></a>  </span>
<span id="cb59-18"><a href="#cb59-18"></a>  <span class="at">alt =</span> <span class="st">"A scatterplot of the relationship between cutthroat trout lengths (mm) (x-axis) and weights (g) (y-axis), with data points colored and shaped based on the water channel type from which they were collected. Trout tend to be longer, but weight less in waterways within the old growth forest. Trout tend to be shorter, but weight more in waterways within the clear cut forest."</span></span>
<span id="cb59-19"><a href="#cb59-19"></a>  </span>
<span id="cb59-20"><a href="#cb59-20"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> render trout scatterplot</span></span>
<span id="cb59-21"><a href="#cb59-21"></a></span>
<span id="cb59-22"><a href="#cb59-22"></a></span>
<span id="cb59-23"><a href="#cb59-23"></a><span class="co"># render flipperLength hisogram ----</span></span>
<span id="cb59-24"><a href="#cb59-24"></a>output<span class="sc">$</span>flipperLength_histogram <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb59-25"><a href="#cb59-25"></a></span>
<span id="cb59-26"><a href="#cb59-26"></a>  <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">island_df</span>()), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb59-27"><a href="#cb59-27"></a>    <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin_num) <span class="sc">+</span></span>
<span id="cb59-28"><a href="#cb59-28"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb59-29"><a href="#cb59-29"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb59-30"><a href="#cb59-30"></a>         <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb59-31"><a href="#cb59-31"></a>    myCustomTheme</span>
<span id="cb59-32"><a href="#cb59-32"></a>    </span>
<span id="cb59-33"><a href="#cb59-33"></a> },</span>
<span id="cb59-34"><a href="#cb59-34"></a>  </span>
<span id="cb59-35"><a href="#cb59-35"></a>  <span class="at">alt =</span> <span class="st">"A histogram of penguin flipper lengths (mm), with data colored by penguin species. Flipper lengths tend to be smallest on Adélie penguins and largest on Gentoo penguins."</span></span>
<span id="cb59-36"><a href="#cb59-36"></a>  </span>
<span id="cb59-37"><a href="#cb59-37"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> render flipperLength histogram</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="redeploying-apps" class="slide level2" data-menu-title="~~~ Redeploying apps ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Upload" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Upload</title>
<path d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"></path></svg> Redeploying apps with <a href="https://www.shinyapps.io/">shinyapps.io</a>
</p>
<p class="caption-text">
<em>Now that we’ve added some updates to our app, it’s time to redeploy our newest version.</em>
</p>
</div>
</section><section id="howto-redeploy" class="slide level2" data-menu-title="How to Redeploy"><h2></h2>
<div class="slide-title-smaller bottombr">
Redeploying is similar to deploying for the first time
</div>
<p class="body-text bottombr">
Just a few quick steps before your updates are live at your URL from earlier:
</p>
<p class="small-text">
<strong>1.</strong> double check to make sure any required packages are being imported in <code>global.R</code>
</p>
<p class="small-text topbr">
<strong>2.</strong> Rerun <code>rsconnect::deployApp("&lt;app-directory-nam"&gt;</code> in your console and type <code>Y</code> when you see the prompt <code>Update application currently deployed at https://githubUserName.shinyapps.io/yourAppName? [Y/n]</code>
</p>
<p class="small-text topbr">
<strong>3.</strong> Give it a minute (or few) to deploy. Your deployed app will open in a browser window once processed
</p>
<p class="small-text topbr">
<strong>4.</strong> Push all your files (including the <code>/rsconnect</code> directory) to GitHub
</p>
<p><br></p>
<center>
<p class="medium-body-text">
Check out my deployed app at <a href="https://samanthacsik.shinyapps.io/two-file-app/" class="uri">https://samanthacsik.shinyapps.io/two-file-app/</a>
</p>
</center>
</section><section id="building-dashboards" class="slide level2" data-menu-title="~~~ Building Dashboards ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Gauge med" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Gauge med</title>
<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM320 352c0-26.9-16.5-49.9-40-59.3V88c0-13.3-10.7-24-24-24s-24 10.7-24 24V292.7c-23.5 9.5-40 32.5-40 59.3c0 35.3 28.7 64 64 64s64-28.7 64-64zM144 176c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32zm-16 80c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm288 32c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32zM400 144c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"></path></svg> Building dashboards with <a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a>
</p>
<p class="caption-text">
<em><a href="https://shiny.rstudio.com/">shiny</a> alone is powerful and flexible, however it can take a lot of work to create a sleek/modern UI. <a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a> provides a “template” for quickly building visually appealing dashboard apps.</em>
</p>
</div>
</section><section id="LO-app3" class="slide level2" data-menu-title="Learning Objectives - App #3"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - App #3 (shinydashboard)
</div>
<p class="medium-body-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand the general workflow for pre-processing, saving &amp; reading data into an app
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> be comfortable building out a dashboard UI using <a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a> layout functions
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand how to add static images to your app
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> feel comfortable creating a basic reactive <code>leaflet</code> map
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
New packages used:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a>: provides an alternative UI framework for easily building dashboard-style shiny applications
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://rstudio.github.io/leaflet/">leaflet</a>: for building interactive maps
</p>
</div>
</section><section id="roadmap-dashboard" class="slide level2" data-menu-title="Roadmap App #3"><h2></h2>
<div class="slide-title">
Roadmap for App #3
</div>
<p class="body-text">
In this section, we’ll be building a <strong>shinydashboard</strong> using data downloaded from the <a href="">Arctic Data Center</a>. We’ll be building out the following features:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<p class="small-text">
<strong>(a)</strong> a <code>dashboardHeader</code> with the name of your app
</p>
<p class="small-text">
<strong>(b)</strong> a <code>dashboardSidebar</code> with two <code>menuItem</code>s
</p>
<p class="small-text">
<strong>(c)</strong> a landing page with background information about your app
</p>
<p class="small-text">
<strong>(d)</strong> an interactive <em>and</em> reactive <code>leaflet</code> map
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/final-dashboard.gif" alt="A completed shinydashboard with intro text on the welcome (landing) page, dividing among boxes on the screen, and a map of the area of interest. On the dashboard page, we see three slider widgets in a box on the left-hand side of the page, and a reactive leaflet map on the right-hand side." width="750">
</center>
</div>
</div>
</section><section id="what-is-a-dashboard" class="slide level2" data-menu-title="What is a dashboard?"><h2></h2>
<div class="slide-title-smaller">
But first, what do we mean by a shiny “dashboard”?
</div>
<p class="body-text">
<a href="https://rstudio.github.io/shinydashboard/"><code>shinydashboard</code></a> is just an alternative framework for building shiny apps. In other words, shiny dashboards are just shiny apps, but with some different UI elements that make building apps with a classic “dashboard” feel to them a little bit easier.
</p>
<center>
<img src="images/simple_dashboard.png" alt="A simple shinydashboard with two boxes (one containing a histogram and one containing a sliderInput) in the body. The header reads 'Basic tabs' and the sidebar has two menu items: Dashboard and Widgets." width="700">
</center>
</section><section id="dashboardPage" class="slide level2" data-menu-title="dashboardPage()"><h2></h2>
<div class="slide-title-smaller">
The most basic shinydashboard is made up of a header, a sidebar, and a body
</div>
<p class="small-text">
The main difference between a <strong>shiny app</strong> and a <strong>shinydashboard</strong> are the UI elements. Rather than a <code>fluidPage()</code> (as used in our previous shiny apps), we’ll create a <code>dashboardPage()</code>, which expects three main parts: a header, a sidebar, and a body. Below is the most minimal possible UI for a <a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a> page (you can run this code in an <code>app.R</code> file, if you wish).
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb60-3"><a href="#cb60-3"></a><span class="fu">library</span>(shinydashboard)</span>
<span id="cb60-4"><a href="#cb60-4"></a></span>
<span id="cb60-5"><a href="#cb60-5"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>ui <span class="ot">&lt;-</span> <span class="fu">dashboardPage</span>(</span>
<span id="cb60-7"><a href="#cb60-7"></a>  </span>
<span id="cb60-8"><a href="#cb60-8"></a>  <span class="fu">dashboardHeader</span>(), </span>
<span id="cb60-9"><a href="#cb60-9"></a>  <span class="fu">dashboardSidebar</span>(), </span>
<span id="cb60-10"><a href="#cb60-10"></a>  <span class="fu">dashboardBody</span>() </span>
<span id="cb60-11"><a href="#cb60-11"></a>  </span>
<span id="cb60-12"><a href="#cb60-12"></a>) </span>
<span id="cb60-13"><a href="#cb60-13"></a></span>
<span id="cb60-14"><a href="#cb60-14"></a><span class="co">#.............................server.............................</span></span>
<span id="cb60-15"><a href="#cb60-15"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb60-16"><a href="#cb60-16"></a></span>
<span id="cb60-17"><a href="#cb60-17"></a><span class="co">#......................combine ui &amp; server.......................</span></span>
<span id="cb60-18"><a href="#cb60-18"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/basic_dashboard.png" alt="The most basic shinydashboard UI, with the default coloring -- a dashboardHeader in light blue, a dashboardSidebar in dark blue, and a dashboardBody in off-white." width="750">
</center>
</div>
</div>
</section><section id="shinydashboard-examples" class="slide level2" data-menu-title="Examples of shinydashboards"><h2></h2>
<div class="slide-title bottombr">
Example shiny dashboards built by some familiar folks <svg aria-label="Face Smile" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Face Smile</title>
<path d="M256 352C293.2 352 319.2 334.5 334.4 318.1C343.3 308.4 358.5 307.7 368.3 316.7C378 325.7 378.6 340.9 369.6 350.6C347.7 374.5 309.7 400 256 400C202.3 400 164.3 374.5 142.4 350.6C133.4 340.9 133.1 325.7 143.7 316.7C153.5 307.7 168.7 308.4 177.6 318.1C192.8 334.5 218.8 352 256 352zM208.4 208C208.4 225.7 194 240 176.4 240C158.7 240 144.4 225.7 144.4 208C144.4 190.3 158.7 176 176.4 176C194 176 208.4 190.3 208.4 208zM304.4 208C304.4 190.3 318.7 176 336.4 176C354 176 368.4 190.3 368.4 208C368.4 225.7 354 240 336.4 240C318.7 240 304.4 225.7 304.4 208zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"></path></svg>
</div>
<p class="small-text">
<svg aria-label="School" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>School</title>
<path d="M337.8 5.4C327-1.8 313-1.8 302.2 5.4l-139 92.7L37.6 126C15.6 130.9 0 150.3 0 172.8V464c0 26.5 21.5 48 48 48H592c26.5 0 48-21.5 48-48V172.8c0-22.5-15.6-42-37.6-46.9L476.8 98.1 337.8 5.4zM256 416c0-35.3 28.7-64 64-64s64 28.7 64 64v96H256V416zM96 192h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V208c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H512c-8.8 0-16-7.2-16-16V208zM96 320h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V336c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H512c-8.8 0-16-7.2-16-16V336zM408 176c0 48.6-39.4 88-88 88s-88-39.4-88-88s39.4-88 88-88s88 39.4 88 88zm-88-48c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H336V144c0-8.8-7.2-16-16-16z"></path></svg><a href="https://shinyapps.bren.ucsb.edu/student-data-explorer/">Bren Student Data Explorer</a> (<a href="https://github.com/UCSB-MEDS/shiny-dashboard"><strong>source code</strong></a>), <em>by MEDS 2022 alum, <a href="https://www.linkedin.com/in/halinadolinh/">Halina Do-Linh</a>, during her Bren Summer Fellowship (and continued by future MEDS students!)</em> – explore Bren school student demographics and career outcomes
</p>
<p class="small-text topbr">
<svg aria-label="Person hiking" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Person hiking</title>
<path d="M288 48c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM243.3 230.7L224.2 307l49.7 49.7c9 9 14.1 21.2 14.1 33.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V397.3l-73.9-73.9c-15.8-15.8-22.2-38.6-16.9-60.3l20.4-84c8.3-34.1 42.7-54.9 76.7-46.4c19 4.8 35.6 16.4 46.4 32.7L305.1 208H336V184c0-13.3 10.7-24 24-24s24 10.7 24 24v55.8c0 .1 0 .2 0 .2s0 .2 0 .2V488c0 13.3-10.7 24-24 24s-24-10.7-24-24V272H296.6c-16 0-31-8-39.9-21.4l-13.3-20zM81.1 471.9L117.3 334c3 4.2 6.4 8.2 10.1 11.9l41.9 41.9L142.9 488.1c-4.5 17.1-22 27.3-39.1 22.8s-27.3-22-22.8-39.1zm55.5-346L101.4 266.5c-3 12.1-14.9 19.9-27.2 17.9l-47.9-8c-14-2.3-22.9-16.3-19.2-30L31.9 155c9.5-34.8 41.1-59 77.2-59h4.2c15.6 0 27.1 14.7 23.3 29.8z"></path></svg><a href="https://samanthacsik.shinyapps.io/strava_dashboard/">Sam’s Strava Stats</a> (<a href="https://github.com/samanthacsik/strava-dashboard"><strong>source code</strong></a>), <em>by yours truly, <a href="https://samanthacsik.github.io/">Sam Csik</a></em> – a new and ongoing side project exploring my Strava hiking/biking/walking data
</p>
<p class="small-text topbr">
<svg aria-label="Fish" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Fish</title>
<path d="M180.5 141.5C219.7 108.5 272.6 80 336 80s116.3 28.5 155.5 61.5c39.1 33 66.9 72.4 81 99.8c4.7 9.2 4.7 20.1 0 29.3c-14.1 27.4-41.9 66.8-81 99.8C452.3 403.5 399.4 432 336 432s-116.3-28.5-155.5-61.5c-16.2-13.7-30.5-28.5-42.7-43.1L48.1 379.6c-12.5 7.3-28.4 5.3-38.7-4.9S-3 348.7 4.2 336.1L50 256 4.2 175.9c-7.2-12.6-5-28.4 5.3-38.6s26.1-12.2 38.7-4.9l89.7 52.3c12.2-14.6 26.5-29.4 42.7-43.1zM448 256c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"></path></svg><a href="http://34.94.133.101/">Channel Islands National Park’s Kelp Forest Monitoring Program</a> (<a href="https://github.com/cullen-molitor/KFM_Shiny_App"><strong>source code</strong></a>), <em>by MEDS 2022 alum, <a href="https://cullen-molitor.github.io/">Cullen Molitor</a></em> – explore subtidal monitoring data collected from our closest National Park
</p>
<p class="small-text topbr">
<svg aria-label="Campground" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Campground</title>
<path d="M377 52c11-13.8 8.8-33.9-5-45s-33.9-8.8-45 5L288 60.8 249 12c-11-13.8-31.2-16-45-5s-16 31.2-5 45l48 60L12.3 405.4C4.3 415.4 0 427.7 0 440.4V464c0 26.5 21.5 48 48 48H288 528c26.5 0 48-21.5 48-48V440.4c0-12.7-4.3-25.1-12.3-35L329 112l48-60zM288 448H168.5L288 291.7 407.5 448H288z"></path></svg><a href="https://shinyapps.bren.ucsb.edu/oe_app/">The Outdoor Equity App</a> (<a href="https://github.com/outdoor-equity/outdoor-equity"><strong>source code</strong></a>), <em>developed by MEDS 2022 alumni <a href="https://www.linkedin.com/in/halinadolinh/">Halina Do-Linh</a> &amp; <a href="https://cboyajian.github.io/">Clarissa Boyajian</a> as part of their MEDS capstone project</em> – analyze patterns in the access and demand of visitors at reservable overnight sites
</p>
<p class="small-text topbr">
<svg aria-label="Fish Fins" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Fish Fins</title>
<path d="M275.2 38.4c-10.6-8-25-8.5-36.3-1.5S222 57.3 224.6 70.3l9.7 48.6c-19.4 9-36.9 19.9-52.4 31.5c-15.3 11.5-29 23.9-40.7 36.3L48.1 132.4c-12.5-7.3-28.4-5.3-38.7 4.9S-3 163.3 4.2 175.9L50 256 4.2 336.1c-7.2 12.6-5 28.4 5.3 38.6s26.1 12.2 38.7 4.9l93.1-54.3c11.8 12.3 25.4 24.8 40.7 36.3c15.5 11.6 33 22.5 52.4 31.5l-9.7 48.6c-2.6 13 3.1 26.3 14.3 33.3s25.6 6.5 36.3-1.5l77.6-58.2c54.9-4 101.5-27 137.2-53.8c39.2-29.4 67.2-64.7 81.6-89.5c5.8-9.9 5.8-22.2 0-32.1c-14.4-24.8-42.5-60.1-81.6-89.5c-35.8-26.8-82.3-49.8-137.2-53.8L275.2 38.4zM448 256c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"></path></svg><a href="http://ohi-science.nceas.ucsb.edu/visualizing_human_impacts/">Visualizing human impacts on at-risk marine biodiversity</a> (<a href="https://github.com/BrennieDev/CHI_shiny_app"><strong>source code</strong></a>, <em>developed by MESM 2022 alum, <a href="https://github.com/BrennieDev">Ian Brunjes</a> &amp; <a href="http://oharascience.com/index.html">Dr.&nbsp;Casey O’Hara</a>)</em> – explore how human activities and climate change impact marine biodiversity worldwide
</p>
</section><section id="setup-dashboard-directory" class="slide level2" data-menu-title="Dashboard Setup"><h2></h2>
<div class="slide-title-smaller">
Setup begins the same as our previous apps
</div>
<p class="body-text bottombr">
First, create a subdirectory called <code>/shinydashboard</code> and add a <code>ui.R</code>, <code>server.R</code>, and <code>global.R</code> file.
</p>
<p class="body-text bottombr">
Load the following libraries at the top of your <code>global.R</code> file, to start (we’ll continue adding to this as we build out our app):
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb61-3"><a href="#cb61-3"></a><span class="fu">library</span>(shinydashboard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p class="body-text topbr">
We’ll put the app aside for a moment now while we work on downloading and pre-processing our data, as well as practice creating our data visualization <em>outside</em> of our app.
</p>
</div>
</section><section id="begin-with-data" class="slide level2" data-menu-title="Begin with Data"><h2></h2>
<div class="slide-title">
As always, let’s start with the data
</div>
<p class="body-text bottombr">
Building an app doesn’t make much sense if we don’t know what we’re going to put in it. So, just like the last two apps, we’ll start with some data wrangling and practice data visualization.
</p>
<p class="body-text bottombr">
<em>Unlike</em> our last two apps, however, we’ll be working with tabular data from the <a href="https://arcticdata.io/">Arctic Data Center</a>, which we’ll download, process, save, then finally, read into our application. This process will likely be more similar to what you’ll encounter when working on your own applications moving forward. <strong>Take a few minutes to review the metadata record for the following data set:</strong>
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<center>
<p class="small-text bottombr">
Christopher Arp, Matthew Whitman, Katie Drew, and Allen Bondurant. 2022. Water depth, surface elevation, and water temperature of lakes in the Fish Creek Watershed in northern Alaska, USA, 2011-2022. Arctic Data Center. <a href="https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2JH3D41P">doi:10.18739/A2JH3D41P</a>.
</p>
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/adc_logo.png" alt="The NSF Arctic Data Center Logo, which is a drawing depicting a blue mountain scape with green Northern Lights overhead." width="750">
</center>
</div>
</div>
</section><section id="processing-storing-data" class="slide level2" data-menu-title="Processing &amp; Storing Data"><h2></h2>
<div class="slide-title-smaller">
Pre-processing data is critical
</div>
<p class="small-text">
Where you choose to store the data used by your Shiny app will depend largely on the type and size of the file(s) and who “owns” those data. It is likely that you’ll be working with data stored in a database or on a server. This is outside the scope of this workshop, but I suggest reading Dean Attali’s article, <a href="https://shiny.rstudio.com/articles/persistent-data-storage.html">Persistent data storage in Shiny apps</a> to start. Because we are going to be working with a relatively small data set, we’ll be downloading and storing our data locally (i.e.&nbsp;on our machines and in our GitHub repo).
</p>
<p class="small-text topbr">
Regardless of where you choose to store your data, you can help your application more quickly process inputs/outputs by providing it <em>only as much data as needed to run</em>. This means <strong>pre-processing</strong> your data.
</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:35%;">
<p class="smaller-text topbr">
<a href="https://arcticdata.io/metacat/d1/mn/v2/object/urn%3Auuid%3A73800a2e-7617-470a-83aa-b530a01f32e3"><code>FCWO_lakemonitoringdata_2011_2022_daily.csv</code></a> contains <strong>8 attributes</strong> (variables) and <strong>18,894 observations</strong> collected from a set of <strong>11 lakes</strong> located in the Fish Creek Watershed in northern Alaska between 2011-2022. We’ll download and save the file to a <code>raw_data/</code> folder in the root directory of our repository. We’ll then pre-process the data in a separate script saved to <code>R/</code> and save a cleaned/processed version of the data to our app’s directory, <code>/shinydashboard/data/lake_data_processed.csv</code>. Your repository structure should look similar to example on the right:
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<center>
<img src="images/shinydashboard-directory-structure.png" alt="A schematic of the repository structure, as described." width="450">
</center>
</div>
</div>
</div>
</section><section id="lake-data-goal" class="slide level2" data-menu-title="Lake Data End Goal"><h2></h2>
<div class="slide-title">
The Goal:
</div>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<img src="images/leaflet.gif" alt="An interactive leaflet map with 11 markers placed on different lakes throughout Northeast Alaska. Clicking on a marker reveals details about the lake including the name, elevation, average depth, and average lake bed temperature." width="750">
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<p class="body-text bottombr">
Our goal is to create a <code>leaflet</code> map with makers placed on each of the 11 unique lakes where data were collected. When clicked, a marker should reveal the <strong>lake name</strong>, <strong>elevation</strong> (in meters, above sea level), <strong>average depth</strong> of the lake (in meters), and <strong>average lake bed temperature</strong> (in degrees Celsius). <em>To do so, we’ll need a data frame that looks like the example below:</em>
</p>
<p><img src="images/lakes_df.png" alt="An example of our desired final data frame, with 6 attributes (Site, Latitude, Longitude, Elevation, AvgDepth, AvgTemp) and 11 rows of observations, one for each lake surveyed." width="550"></p>
</div>
</div>
</section><section id="process-lake-data" class="slide level2" data-menu-title="Process Lake Data"><h2></h2>
<div class="slide-title-smaller">
Process lake data &amp; save new file
</div>
<p class="small-text important-text-bg">
<strong>NOTE:</strong> In this example exercise, I’ve removed all rows with missing values (i.e.&nbsp;<code>NaN</code>s in the <code>Depth</code> column &amp; <code>NA</code>s in the <code>BedTemperature</code> column) before calculating averages. <em>This is NOT good practice – exploring and thinking critically about missing data is an important part of data analysis, and in a real-life scenario, you should consider the most appropriate method for handling them.</em>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co">#....................SETUP &amp; DATA PROCESSING.....................</span></span>
<span id="cb62-2"><a href="#cb62-2"></a></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="co"># load packages ----</span></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb62-5"><a href="#cb62-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb62-6"><a href="#cb62-6"></a></span>
<span id="cb62-7"><a href="#cb62-7"></a><span class="co"># read in raw data ----</span></span>
<span id="cb62-8"><a href="#cb62-8"></a>lake_monitoring_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"FCWO_lakemonitoringdata_2011_2022_daily.csv"</span>))</span>
<span id="cb62-9"><a href="#cb62-9"></a></span>
<span id="cb62-10"><a href="#cb62-10"></a><span class="co"># calculate avg depth &amp; temp ----</span></span>
<span id="cb62-11"><a href="#cb62-11"></a>avg_depth_temp <span class="ot">&lt;-</span> lake_monitoring_data <span class="sc">|&gt;</span> </span>
<span id="cb62-12"><a href="#cb62-12"></a>  <span class="fu">select</span>(Site, Depth, BedTemperature) <span class="sc">|&gt;</span> </span>
<span id="cb62-13"><a href="#cb62-13"></a>  <span class="fu">filter</span>(Depth <span class="sc">!=</span> <span class="st">"NaN"</span>) <span class="sc">|&gt;</span>  <span class="co"># remove NaN (missing data) from Depth</span></span>
<span id="cb62-14"><a href="#cb62-14"></a>  <span class="fu">drop_na</span>(BedTemperature) <span class="sc">|&gt;</span> <span class="co"># remove NAs (missing data) from BedTemperature</span></span>
<span id="cb62-15"><a href="#cb62-15"></a>  <span class="fu">group_by</span>(Site) <span class="sc">|&gt;</span> </span>
<span id="cb62-16"><a href="#cb62-16"></a>  <span class="fu">summarize</span>(</span>
<span id="cb62-17"><a href="#cb62-17"></a>    <span class="at">AvgDepth =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Depth), <span class="dv">1</span>),</span>
<span id="cb62-18"><a href="#cb62-18"></a>    <span class="at">AvgTemp =</span> <span class="fu">round</span>(<span class="fu">mean</span>(BedTemperature), <span class="dv">1</span>)</span>
<span id="cb62-19"><a href="#cb62-19"></a>  )</span>
<span id="cb62-20"><a href="#cb62-20"></a></span>
<span id="cb62-21"><a href="#cb62-21"></a><span class="co"># join avg depth &amp; temp to original data (match rows based on 'Site') ---</span></span>
<span id="cb62-22"><a href="#cb62-22"></a>lake_monitoring_data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(lake_monitoring_data, avg_depth_temp)</span>
<span id="cb62-23"><a href="#cb62-23"></a></span>
<span id="cb62-24"><a href="#cb62-24"></a><span class="co"># get unique lakes observations (with corresponding lat, lon, elev, avgDepth, avgTemp) for mapping ----</span></span>
<span id="cb62-25"><a href="#cb62-25"></a>unique_lakes <span class="ot">&lt;-</span> lake_monitoring_data <span class="sc">|&gt;</span> </span>
<span id="cb62-26"><a href="#cb62-26"></a>  <span class="fu">select</span>(Site, Latitude, Longitude, Elevation, AvgDepth, AvgTemp) <span class="sc">|&gt;</span> </span>
<span id="cb62-27"><a href="#cb62-27"></a>  <span class="fu">distinct</span>()</span>
<span id="cb62-28"><a href="#cb62-28"></a></span>
<span id="cb62-29"><a href="#cb62-29"></a><span class="co"># save processed data to your app's data directory ----</span></span>
<span id="cb62-30"><a href="#cb62-30"></a><span class="fu">write_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"shinydashboard"</span>, <span class="st">"data"</span>, <span class="st">"lake_data_processed.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="file-types" class="slide level2" data-menu-title="File Types"><h2></h2>
<div class="slide-title-smaller">
A note on file types
</div>
<p class="small-text">
If you are working with tabular data (as we are in this example), you may choose to save your processed data frame as a <code>.rds</code> file (R’s own data file format which stores a single R object). Not only are <code>.rds</code> file are relatively small (and therefore take up little storage space), but they also preserve data types and classes (e.g.&nbsp;factors and dates), eliminating the need to redefine data types after loading the file.
</p>
<p>COME BACK TO THIS</p>
</section><section id="draft-leaflet" class="slide level2" data-menu-title="Draft Leaflet"><h2></h2>
<div class="slide-title-smaller">
Draft <code>leaflet</code> map
</div>
<p class="small-text">
There are lots of ways to customize <code>leaflet</code> maps. We’ll be keeping ours relatively simple, but check out the <a href="https://rstudio.github.io/leaflet/">Leaflet for R</a> documentation for more ways to get creative with your maps.
</p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-6-1">leaflet map</a></li>
<li><a href="#tabset-6-2">code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c2c6b92d8c466287f755" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c2c6b92d8c466287f755">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"maxNativeZoom":19,"maxZoom":100}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,true,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]},{"method":"addMarkers","args":[[70.032,70.236,70.17,70.233,70.27,70.267,70.032,70.097,70.247,70.113,70.246],[-152.194,-152.186,-152.785,-151.339,-151.355,-151.387,-152.194,-152.074,-151.478,-152.077,-152.141],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Site Name: HarryPotter <br> Elevation: 12.3 meters (above SL) <br> Avg Depth: 2.3 meters <br> Avg Lake Bed Temperature: 5.6 deg Celsius","Site Name: Hipbone <br> Elevation: 21 meters (above SL) <br> Avg Depth: 2 meters <br> Avg Lake Bed Temperature: 10.7 deg Celsius","Site Name: Iceshove <br> Elevation: 20.3 meters (above SL) <br> Avg Depth: 1.8 meters <br> Avg Lake Bed Temperature: 10.9 deg Celsius","Site Name: L9817 <br> Elevation: 16.1 meters (above SL) <br> Avg Depth: 2.6 meters <br> Avg Lake Bed Temperature: 5.9 deg Celsius","Site Name: L9819 <br> Elevation: 8.2 meters (above SL) <br> Avg Depth: 1.7 meters <br> Avg Lake Bed Temperature: 5.6 deg Celsius","Site Name: L9820 <br> Elevation: 9.5 meters (above SL) <br> Avg Depth: 1.1 meters <br> Avg Lake Bed Temperature: 5.5 deg Celsius","Site Name: LittleAlaska <br> Elevation: 28.9 meters (above SL) <br> Avg Depth: 1.2 meters <br> Avg Lake Bed Temperature: 5.2 deg Celsius","Site Name: LowerSnowman <br> Elevation: 27.4 meters (above SL) <br> Avg Depth: 1.2 meters <br> Avg Lake Bed Temperature: 7.2 deg Celsius","Site Name: M9925 <br> Elevation: 14.7 meters (above SL) <br> Avg Depth: 0.9 meters <br> Avg Lake Bed Temperature: 7 deg Celsius","Site Name: MiddleSnowman <br> Elevation: 26.3 meters (above SL) <br> Avg Depth: 1.1 meters <br> Avg Lake Bed Temperature: 6.4 deg Celsius","Site Name: Serenity <br> Elevation: 12 meters (above SL) <br> Avg Depth: 3.9 meters <br> Avg Lake Bed Temperature: 10.7 deg Celsius"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[70.249234,-152.048442],6,[]],"limits":{"lat":[70.032,70.27],"lng":[-152.785,-151.339]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-6-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="co">#....................SETUP &amp; DATA PROCESSING.....................</span></span>
<span id="cb63-2"><a href="#cb63-2"></a></span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="co"># omitted for brevity (see slide 112 for code)</span></span>
<span id="cb63-4"><a href="#cb63-4"></a></span>
<span id="cb63-5"><a href="#cb63-5"></a><span class="co">#..........................PRACTICE VIZ..........................</span></span>
<span id="cb63-6"><a href="#cb63-6"></a></span>
<span id="cb63-7"><a href="#cb63-7"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span> </span>
<span id="cb63-8"><a href="#cb63-8"></a>  </span>
<span id="cb63-9"><a href="#cb63-9"></a>  <span class="co"># add tiles</span></span>
<span id="cb63-10"><a href="#cb63-10"></a>  <span class="fu">addProviderTiles</span>(<span class="st">"Esri.WorldImagery"</span>, </span>
<span id="cb63-11"><a href="#cb63-11"></a>                   <span class="at">options =</span> <span class="fu">providerTileOptions</span>(<span class="at">maxNativeZoom =</span> <span class="dv">19</span>, <span class="at">maxZoom =</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb63-12"><a href="#cb63-12"></a>  </span>
<span id="cb63-13"><a href="#cb63-13"></a>  <span class="co"># add mini map</span></span>
<span id="cb63-14"><a href="#cb63-14"></a>  <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-15"><a href="#cb63-15"></a>  </span>
<span id="cb63-16"><a href="#cb63-16"></a>  <span class="co"># set view over AK</span></span>
<span id="cb63-17"><a href="#cb63-17"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-18"><a href="#cb63-18"></a>  </span>
<span id="cb63-19"><a href="#cb63-19"></a>  <span class="co"># add markers</span></span>
<span id="cb63-20"><a href="#cb63-20"></a>  <span class="fu">addMarkers</span>(<span class="at">data =</span>  unique_lakes,</span>
<span id="cb63-21"><a href="#cb63-21"></a>             <span class="at">lng =</span> unique_lakes<span class="sc">$</span>Longitude, <span class="at">lat =</span> unique_lakes<span class="sc">$</span>Latitude,</span>
<span id="cb63-22"><a href="#cb63-22"></a>             <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, unique_lakes<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb63-23"><a href="#cb63-23"></a>                           <span class="st">"Elevation:"</span>, unique_lakes<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb63-24"><a href="#cb63-24"></a>                           <span class="st">"Avg Depth:"</span>, unique_lakes<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb63-25"><a href="#cb63-25"></a>                           <span class="st">"Avg Lake Bed Temperature:"</span>, unique_lakes<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="filter-leaflet" class="slide level2" data-menu-title="Filter Leaflet"><h2></h2>
<div class="slide-title-smaller">
Practice filtering <code>leaflet</code> observations
</div>
<p class="small-text">
We’ll eventually build three <code>sliderInput</code>s to filter lake makers by <code>Elevation</code>, <code>AvgDepth</code>, and <code>AvgTemp</code>. Practice filtering here first (and be sure to update the data frame name in your leaflet code!):
</p>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-7-1">leaflet map (filtered)</a></li>
<li><a href="#tabset-7-2">code</a></li>
</ul>
<div class="tab-content">
<div id="tabset-7-1">
<div class="cell">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-18a5771d45c21d9c30af" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-18a5771d45c21d9c30af">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"maxNativeZoom":19,"maxZoom":100}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,true,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]},{"method":"addMarkers","args":[[70.032,70.233],[-152.194,-151.339],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Site Name: HarryPotter <br> Elevation: 12.3 meters (above SL) <br> Avg Depth: 2.3 meters <br> Avg Lake Bed Temperature: 5.6 deg Celsius","Site Name: L9817 <br> Elevation: 16.1 meters (above SL) <br> Avg Depth: 2.6 meters <br> Avg Lake Bed Temperature: 5.9 deg Celsius"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[70.249234,-152.048442],6,[]],"limits":{"lat":[70.032,70.233],"lng":[-152.194,-151.339]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb64" data-code-line-numbers="5-10|26-32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co">#....................SETUP &amp; DATA PROCESSING.....................</span></span>
<span id="cb64-2"><a href="#cb64-2"></a></span>
<span id="cb64-3"><a href="#cb64-3"></a><span class="co"># omitted for brevity (see slide 112 for code)</span></span>
<span id="cb64-4"><a href="#cb64-4"></a></span>
<span id="cb64-5"><a href="#cb64-5"></a><span class="co">#.......................PRACTICE FILTERING.......................</span></span>
<span id="cb64-6"><a href="#cb64-6"></a></span>
<span id="cb64-7"><a href="#cb64-7"></a>filtered_lakes <span class="ot">&lt;-</span> unique_lakes <span class="sc">|&gt;</span> </span>
<span id="cb64-8"><a href="#cb64-8"></a>  <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> <span class="dv">8</span> <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb64-9"><a href="#cb64-9"></a>  <span class="fu">filter</span>(AvgDepth <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> AvgDepth <span class="sc">&lt;=</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb64-10"><a href="#cb64-10"></a>  <span class="fu">filter</span>(AvgTemp <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> AvgTemp <span class="sc">&lt;=</span> <span class="dv">6</span>)</span>
<span id="cb64-11"><a href="#cb64-11"></a></span>
<span id="cb64-12"><a href="#cb64-12"></a><span class="co">#..........................PRACTICE VIZ..........................</span></span>
<span id="cb64-13"><a href="#cb64-13"></a></span>
<span id="cb64-14"><a href="#cb64-14"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span> </span>
<span id="cb64-15"><a href="#cb64-15"></a>  </span>
<span id="cb64-16"><a href="#cb64-16"></a>  <span class="co"># add tiles</span></span>
<span id="cb64-17"><a href="#cb64-17"></a>  <span class="fu">addProviderTiles</span>(<span class="st">"Esri.WorldImagery"</span>, <span class="co"># make note of using appropriate tiles</span></span>
<span id="cb64-18"><a href="#cb64-18"></a>                   <span class="at">options =</span> <span class="fu">providerTileOptions</span>(<span class="at">maxNativeZoom =</span> <span class="dv">19</span>, <span class="at">maxZoom =</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb64-19"><a href="#cb64-19"></a>  </span>
<span id="cb64-20"><a href="#cb64-20"></a>  <span class="co"># add mini map</span></span>
<span id="cb64-21"><a href="#cb64-21"></a>  <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb64-22"><a href="#cb64-22"></a>  </span>
<span id="cb64-23"><a href="#cb64-23"></a>  <span class="co"># set view over AK</span></span>
<span id="cb64-24"><a href="#cb64-24"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span> </span>
<span id="cb64-25"><a href="#cb64-25"></a>  </span>
<span id="cb64-26"><a href="#cb64-26"></a>  <span class="co"># add markers</span></span>
<span id="cb64-27"><a href="#cb64-27"></a>  <span class="fu">addMarkers</span>(<span class="at">data =</span>  filtered_lakes,</span>
<span id="cb64-28"><a href="#cb64-28"></a>             <span class="at">lng =</span> filtered_lakes<span class="sc">$</span>Longitude, <span class="at">lat =</span> filtered_lakes<span class="sc">$</span>Latitude,</span>
<span id="cb64-29"><a href="#cb64-29"></a>             <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, filtered_lakes<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb64-30"><a href="#cb64-30"></a>                           <span class="st">"Elevation:"</span>, filtered_lakes<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb64-31"><a href="#cb64-31"></a>                           <span class="st">"Avg Depth:"</span>, filtered_lakes<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb64-32"><a href="#cb64-32"></a>                           <span class="st">"Avg Lake Bed Temperature:"</span>, filtered_lakes<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="sketch-ui" class="slide level2" data-menu-title="Sketch the UI"><h2></h2>
<div class="slide-title-smaller">
Sketch out our dashboard UI
</div>
<p class="small-text">
I want my dashboard to have two menu items: a welcome page with some background information, and a dashboard page with my reactive map. All elements will be placed inside <code>box</code>es, the primary building blocks of shinydashboards (more on that soon).
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<center>
<img src="images/welcome_sketch.png" alt="A rough sketch of our dashboard welcome page. A header has a place for the app's title in the top left corner and there's a sidebar on the left-hand side of the page with our two pages (welcome and dashboard). The welcome page has a box on the left-hand side that will contain background info and maybe a photo. The right-hand side of the page has two stacked boxes. The top box will contain data citation information and the bottom box will contain a disclaimer." width="750">
</center>
</div><div class="column" style="width:50%;">
<center>
<img src="images/dashboard_sketch.png" alt="A sketch of the dashboard page of our app, which will have two side-by-side boxes. The left-hand box will contain three sliderInputs and the right-hand box will contain our reactive leaflet map." width="750">
</center>
</div>
</div>
</section><section id="build-dashboard-ui" class="slide level2" data-menu-title="Build Dashboard UI"><h2></h2>
<div class="slide-title-smaller">
Writing our dashboard UI code
</div>
<p class="small-text">
Now that we have a better sense of what our app will include, let’s start coding it up.
</p>
<p class="small-text">
Add the server function to <code>server.R</code> and the three main UI components (header, sidebar, and body) to our dashboard page. You can do so just as the example on <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/build-dashboard-ui">this slide</a>, but alternatively, you can split the UI into separate pieces, then combine them into a <code>dashboardPage</code> the end of <code>ui.R</code> (as shown below) – this can help with organization as you app grows in complexity.
</p>
<p class="small-text">
Run your app to make sure it works – you should see a super basic dashboard. If it doesn’t look quite right, try expanding your preview window (sometimes the sidebar collapses in small viewing windows).
</p>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-8-1"><code>ui.R</code></a></li>
<li><a href="#tabset-8-2"><code>server.R</code></a></li>
<li><a href="#tabset-8-3"><code>global.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>()</span>
<span id="cb65-3"><a href="#cb65-3"></a></span>
<span id="cb65-4"><a href="#cb65-4"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb65-5"><a href="#cb65-5"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>()</span>
<span id="cb65-6"><a href="#cb65-6"></a></span>
<span id="cb65-7"><a href="#cb65-7"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb65-8"><a href="#cb65-8"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>()</span>
<span id="cb65-9"><a href="#cb65-9"></a></span>
<span id="cb65-10"><a href="#cb65-10"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb65-11"><a href="#cb65-11"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-8-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="fu">library</span>(shinydashboard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="title-menuItems" class="slide level2" data-menu-title="Title &amp; menuItems"><h2></h2>
<div class="slide-title-smaller">
Add a <code>title</code> &amp; <code>menuItem</code>s
</div>
<p class="small-text">
First, add a title to <code>dashboardHeader()</code> and make more space using <code>titleWidth</code>, if necessary.
</p>
<p class="small-text">
Next, we’ll build our <code>dashboardSidebar()</code>. Add a <code>sidebarMenu()</code> that contains two <code>menuItem</code>s. Be sure to provide each <code>menuItem()</code> with <code>text</code> as you’d like it to appear in your app (for me, that’s <strong>Welcome</strong> and <strong>Dashboard</strong>), and a <code>tabName</code> which will be used to place <code>dashboardBody()</code> content in the appropriate <code>menuItem()</code>. Optionally, you can provide an icon. By default, <code>icon()</code> uses icons from <a href="https://fontawesome.com/">FontAwesome</a>.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68" data-code-line-numbers="4-6|13-19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb68-3"><a href="#cb68-3"></a>  </span>
<span id="cb68-4"><a href="#cb68-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb68-5"><a href="#cb68-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb68-6"><a href="#cb68-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb68-7"><a href="#cb68-7"></a>  </span>
<span id="cb68-8"><a href="#cb68-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb68-9"><a href="#cb68-9"></a></span>
<span id="cb68-10"><a href="#cb68-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb68-11"><a href="#cb68-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb68-12"><a href="#cb68-12"></a>  </span>
<span id="cb68-13"><a href="#cb68-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb68-14"><a href="#cb68-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb68-15"><a href="#cb68-15"></a>    </span>
<span id="cb68-16"><a href="#cb68-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb68-17"><a href="#cb68-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb68-18"><a href="#cb68-18"></a>    </span>
<span id="cb68-19"><a href="#cb68-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb68-20"><a href="#cb68-20"></a>  </span>
<span id="cb68-21"><a href="#cb68-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb68-22"><a href="#cb68-22"></a></span>
<span id="cb68-23"><a href="#cb68-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb68-24"><a href="#cb68-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>()</span>
<span id="cb68-25"><a href="#cb68-25"></a></span>
<span id="cb68-26"><a href="#cb68-26"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb68-27"><a href="#cb68-27"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="tabItems" class="slide level2" data-menu-title="tabItems"><h2></h2>
<div class="slide-title-smaller">
Add <code>tabItems</code> to your <code>dashboardBody</code>
</div>
<p class="small-text">
Next, we’ll create <code>tabItems</code> in our <code>dashboardBody</code> – we’ll make a <code>tabItem</code> (singular) for each <code>menuItem</code> in our <code>dashboardSidebar</code>. In order to match a <code>menuItem</code> and a <code>tabItem</code>, ensure that they have matching a <code>tabName</code> (e.g.&nbsp;any content added to the <strong>dashboard</strong> <code>tabItem</code> will appear under the <strong>dashboard</strong> <code>menuItem</code>).
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69" data-code-line-numbers="26-43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb69-3"><a href="#cb69-3"></a>  </span>
<span id="cb69-4"><a href="#cb69-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb69-5"><a href="#cb69-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb69-6"><a href="#cb69-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb69-7"><a href="#cb69-7"></a>  </span>
<span id="cb69-8"><a href="#cb69-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb69-9"><a href="#cb69-9"></a></span>
<span id="cb69-10"><a href="#cb69-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb69-11"><a href="#cb69-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb69-12"><a href="#cb69-12"></a>  </span>
<span id="cb69-13"><a href="#cb69-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb69-14"><a href="#cb69-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb69-15"><a href="#cb69-15"></a>    </span>
<span id="cb69-16"><a href="#cb69-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb69-17"><a href="#cb69-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb69-18"><a href="#cb69-18"></a>    </span>
<span id="cb69-19"><a href="#cb69-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb69-20"><a href="#cb69-20"></a>  </span>
<span id="cb69-21"><a href="#cb69-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb69-22"><a href="#cb69-22"></a></span>
<span id="cb69-23"><a href="#cb69-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb69-24"><a href="#cb69-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb69-25"><a href="#cb69-25"></a>  </span>
<span id="cb69-26"><a href="#cb69-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb69-27"><a href="#cb69-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb69-28"><a href="#cb69-28"></a>    </span>
<span id="cb69-29"><a href="#cb69-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb69-30"><a href="#cb69-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb69-31"><a href="#cb69-31"></a>            </span>
<span id="cb69-32"><a href="#cb69-32"></a>            <span class="st">"background info here"</span></span>
<span id="cb69-33"><a href="#cb69-33"></a>            </span>
<span id="cb69-34"><a href="#cb69-34"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb69-35"><a href="#cb69-35"></a>    </span>
<span id="cb69-36"><a href="#cb69-36"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb69-37"><a href="#cb69-37"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb69-38"><a href="#cb69-38"></a>            </span>
<span id="cb69-39"><a href="#cb69-39"></a>            <span class="st">"dashboard content here"</span></span>
<span id="cb69-40"><a href="#cb69-40"></a>            </span>
<span id="cb69-41"><a href="#cb69-41"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb69-42"><a href="#cb69-42"></a>    </span>
<span id="cb69-43"><a href="#cb69-43"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb69-44"><a href="#cb69-44"></a>  </span>
<span id="cb69-45"><a href="#cb69-45"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb69-46"><a href="#cb69-46"></a></span>
<span id="cb69-47"><a href="#cb69-47"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb69-48"><a href="#cb69-48"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="boxes" class="slide level2" data-menu-title="boxes"><h2></h2>
<div class="slide-title-smaller">
Add <code>box</code>es to contain UI content (part 1)
</div>
<p class="small-text">
<a href="https://rstudio.github.io/shinydashboard/structure.html#boxes">Boxes</a> are the primary building blocks of shinydashboards and can contain almost any Shiny UI element (e.g.&nbsp;text, inputs, outputs). Start by adding two side-by-side boxes to our <strong>dashboard</strong> tab inside a <code>fluidRow()</code>. Together, their widths will add up to 12 (the total width of a browser page). These boxes will eventually contain our <code>sliderInput</code>s and our <code>leafletOutput</code>.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70" data-code-line-numbers="39-56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb70-2"><a href="#cb70-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb70-3"><a href="#cb70-3"></a>  </span>
<span id="cb70-4"><a href="#cb70-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb70-5"><a href="#cb70-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb70-6"><a href="#cb70-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb70-7"><a href="#cb70-7"></a>  </span>
<span id="cb70-8"><a href="#cb70-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb70-9"><a href="#cb70-9"></a></span>
<span id="cb70-10"><a href="#cb70-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb70-11"><a href="#cb70-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb70-12"><a href="#cb70-12"></a>  </span>
<span id="cb70-13"><a href="#cb70-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb70-14"><a href="#cb70-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb70-15"><a href="#cb70-15"></a>    </span>
<span id="cb70-16"><a href="#cb70-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb70-17"><a href="#cb70-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb70-18"><a href="#cb70-18"></a>    </span>
<span id="cb70-19"><a href="#cb70-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb70-20"><a href="#cb70-20"></a>  </span>
<span id="cb70-21"><a href="#cb70-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb70-22"><a href="#cb70-22"></a></span>
<span id="cb70-23"><a href="#cb70-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb70-24"><a href="#cb70-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb70-25"><a href="#cb70-25"></a>  </span>
<span id="cb70-26"><a href="#cb70-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb70-27"><a href="#cb70-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb70-28"><a href="#cb70-28"></a>    </span>
<span id="cb70-29"><a href="#cb70-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb70-30"><a href="#cb70-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb70-31"><a href="#cb70-31"></a>            </span>
<span id="cb70-32"><a href="#cb70-32"></a>            <span class="st">"background info here"</span></span>
<span id="cb70-33"><a href="#cb70-33"></a>            </span>
<span id="cb70-34"><a href="#cb70-34"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem </span></span>
<span id="cb70-35"><a href="#cb70-35"></a>    </span>
<span id="cb70-36"><a href="#cb70-36"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb70-37"><a href="#cb70-37"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb70-38"><a href="#cb70-38"></a>            </span>
<span id="cb70-39"><a href="#cb70-39"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb70-40"><a href="#cb70-40"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb70-41"><a href="#cb70-41"></a>              </span>
<span id="cb70-42"><a href="#cb70-42"></a>              <span class="co"># input box ----</span></span>
<span id="cb70-43"><a href="#cb70-43"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb70-44"><a href="#cb70-44"></a>                  </span>
<span id="cb70-45"><a href="#cb70-45"></a>                  <span class="st">"sliderInputs here"</span></span>
<span id="cb70-46"><a href="#cb70-46"></a>                  </span>
<span id="cb70-47"><a href="#cb70-47"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb70-48"><a href="#cb70-48"></a>              </span>
<span id="cb70-49"><a href="#cb70-49"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb70-50"><a href="#cb70-50"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>, </span>
<span id="cb70-51"><a href="#cb70-51"></a>                  </span>
<span id="cb70-52"><a href="#cb70-52"></a>                  <span class="st">"leafletOutput here"</span></span>
<span id="cb70-53"><a href="#cb70-53"></a>                  </span>
<span id="cb70-54"><a href="#cb70-54"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb70-55"><a href="#cb70-55"></a>              </span>
<span id="cb70-56"><a href="#cb70-56"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb70-57"><a href="#cb70-57"></a>            </span>
<span id="cb70-58"><a href="#cb70-58"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb70-59"><a href="#cb70-59"></a>    </span>
<span id="cb70-60"><a href="#cb70-60"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb70-61"><a href="#cb70-61"></a>  </span>
<span id="cb70-62"><a href="#cb70-62"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb70-63"><a href="#cb70-63"></a></span>
<span id="cb70-64"><a href="#cb70-64"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb70-65"><a href="#cb70-65"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="columns" class="slide level2" data-menu-title="Columns"><h2></h2>
<div class="slide-title-smaller">
Add <code>box</code>es to contain UI content (part 2)
</div>
<p class="small-text">
Lastly, add boxes to our <strong>welcome</strong> tab We’ll use <code>column</code>s to place one box on the left-hand side of our page, and two stacked boxes on the right-hand side. Each <code>column</code> will take up half the page (<strong>Note:</strong> <em>For column-based layouts, use <code>NULL</code> for the box width, as the width is set by the column that contains the box</em>). We can create two <code>fluidRow</code>s within the right-hand column to stack two boxes vertically.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71" data-code-line-numbers="32-71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb71-2"><a href="#cb71-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb71-3"><a href="#cb71-3"></a>  </span>
<span id="cb71-4"><a href="#cb71-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb71-5"><a href="#cb71-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb71-6"><a href="#cb71-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb71-7"><a href="#cb71-7"></a>  </span>
<span id="cb71-8"><a href="#cb71-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb71-9"><a href="#cb71-9"></a></span>
<span id="cb71-10"><a href="#cb71-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb71-11"><a href="#cb71-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb71-12"><a href="#cb71-12"></a>  </span>
<span id="cb71-13"><a href="#cb71-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb71-14"><a href="#cb71-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb71-15"><a href="#cb71-15"></a>    </span>
<span id="cb71-16"><a href="#cb71-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb71-17"><a href="#cb71-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb71-18"><a href="#cb71-18"></a>    </span>
<span id="cb71-19"><a href="#cb71-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb71-20"><a href="#cb71-20"></a>  </span>
<span id="cb71-21"><a href="#cb71-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb71-22"><a href="#cb71-22"></a></span>
<span id="cb71-23"><a href="#cb71-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb71-24"><a href="#cb71-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb71-25"><a href="#cb71-25"></a>  </span>
<span id="cb71-26"><a href="#cb71-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb71-27"><a href="#cb71-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb71-28"><a href="#cb71-28"></a>    </span>
<span id="cb71-29"><a href="#cb71-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb71-30"><a href="#cb71-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb71-31"><a href="#cb71-31"></a>            </span>
<span id="cb71-32"><a href="#cb71-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb71-33"><a href="#cb71-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb71-34"><a href="#cb71-34"></a>                   </span>
<span id="cb71-35"><a href="#cb71-35"></a>                   <span class="co"># box ----</span></span>
<span id="cb71-36"><a href="#cb71-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb71-37"><a href="#cb71-37"></a>                       </span>
<span id="cb71-38"><a href="#cb71-38"></a>                       <span class="st">"background info here"</span></span>
<span id="cb71-39"><a href="#cb71-39"></a>                       </span>
<span id="cb71-40"><a href="#cb71-40"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> box</span></span>
<span id="cb71-41"><a href="#cb71-41"></a>                   </span>
<span id="cb71-42"><a href="#cb71-42"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb71-43"><a href="#cb71-43"></a>            </span>
<span id="cb71-44"><a href="#cb71-44"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb71-45"><a href="#cb71-45"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb71-46"><a href="#cb71-46"></a>                   </span>
<span id="cb71-47"><a href="#cb71-47"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb71-48"><a href="#cb71-48"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb71-49"><a href="#cb71-49"></a>                     </span>
<span id="cb71-50"><a href="#cb71-50"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb71-51"><a href="#cb71-51"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb71-52"><a href="#cb71-52"></a>                         </span>
<span id="cb71-53"><a href="#cb71-53"></a>                         <span class="st">"data citation here"</span></span>
<span id="cb71-54"><a href="#cb71-54"></a>                         </span>
<span id="cb71-55"><a href="#cb71-55"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb71-56"><a href="#cb71-56"></a>                     </span>
<span id="cb71-57"><a href="#cb71-57"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb71-58"><a href="#cb71-58"></a>                   </span>
<span id="cb71-59"><a href="#cb71-59"></a>                   <span class="co"># second fluiRow ----</span></span>
<span id="cb71-60"><a href="#cb71-60"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb71-61"><a href="#cb71-61"></a>                     </span>
<span id="cb71-62"><a href="#cb71-62"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb71-63"><a href="#cb71-63"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb71-64"><a href="#cb71-64"></a>                         </span>
<span id="cb71-65"><a href="#cb71-65"></a>                         <span class="st">"disclaimer here"</span></span>
<span id="cb71-66"><a href="#cb71-66"></a>                         </span>
<span id="cb71-67"><a href="#cb71-67"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb71-68"><a href="#cb71-68"></a>                     </span>
<span id="cb71-69"><a href="#cb71-69"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb71-70"><a href="#cb71-70"></a>                   </span>
<span id="cb71-71"><a href="#cb71-71"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb71-72"><a href="#cb71-72"></a>            </span>
<span id="cb71-73"><a href="#cb71-73"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb71-74"><a href="#cb71-74"></a>    </span>
<span id="cb71-75"><a href="#cb71-75"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb71-76"><a href="#cb71-76"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb71-77"><a href="#cb71-77"></a>            </span>
<span id="cb71-78"><a href="#cb71-78"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb71-79"><a href="#cb71-79"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb71-80"><a href="#cb71-80"></a>              </span>
<span id="cb71-81"><a href="#cb71-81"></a>              <span class="co"># input box ----</span></span>
<span id="cb71-82"><a href="#cb71-82"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb71-83"><a href="#cb71-83"></a>                  </span>
<span id="cb71-84"><a href="#cb71-84"></a>                  <span class="st">"sliderInputs here"</span></span>
<span id="cb71-85"><a href="#cb71-85"></a>                  </span>
<span id="cb71-86"><a href="#cb71-86"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb71-87"><a href="#cb71-87"></a>              </span>
<span id="cb71-88"><a href="#cb71-88"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb71-89"><a href="#cb71-89"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb71-90"><a href="#cb71-90"></a>                  </span>
<span id="cb71-91"><a href="#cb71-91"></a>                  <span class="st">"leaflet output here"</span></span>
<span id="cb71-92"><a href="#cb71-92"></a>                  </span>
<span id="cb71-93"><a href="#cb71-93"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb71-94"><a href="#cb71-94"></a>              </span>
<span id="cb71-95"><a href="#cb71-95"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb71-96"><a href="#cb71-96"></a>            </span>
<span id="cb71-97"><a href="#cb71-97"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb71-98"><a href="#cb71-98"></a>    </span>
<span id="cb71-99"><a href="#cb71-99"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb71-100"><a href="#cb71-100"></a>  </span>
<span id="cb71-101"><a href="#cb71-101"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb71-102"><a href="#cb71-102"></a></span>
<span id="cb71-103"><a href="#cb71-103"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb71-104"><a href="#cb71-104"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="import-data" class="slide level2" data-menu-title="Read in data"><h2></h2>
<div class="slide-title-smaller">
Read data into <code>global.R</code> &amp; add necessary packages
</div>
<p class="body-text">
Remember to load your <em>pre-processed</em> data, which should live in the <code>/data</code> folder within your app’s directory.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72" data-code-line-numbers="4-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb72-3"><a href="#cb72-3"></a><span class="fu">library</span>(shinydashboard)</span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb72-5"><a href="#cb72-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb72-6"><a href="#cb72-6"></a><span class="fu">library</span>(shinycssloaders)</span>
<span id="cb72-7"><a href="#cb72-7"></a></span>
<span id="cb72-8"><a href="#cb72-8"></a><span class="co"># READ IN DATA ----</span></span>
<span id="cb72-9"><a href="#cb72-9"></a>lake_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/lake_data_processed.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="add-sliderInput-leafletMap" class="slide level2" data-menu-title="Add Widget &amp; Leaflet Map"><h2></h2>
<div class="slide-title-smaller">
Add a <code>sliderInput</code> &amp; <code>leafletOutput</code> to the UI
</div>
<p class="small-text">
Start by adding just one <code>sliderInput</code> (for selecting a range of lake <code>Elevation</code>s) to the left-hand box in the <strong>dashboard</strong> tab. Then, add a <code>leafletOutput</code> to create a placeholder space for our map, along with a Spinner animation (from the <a href="https://github.com/daattali/shinycssloaders">shinycssloaders</a> package). While we’re here, we can also add <code>title</code>s to each box.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73" data-code-line-numbers="84-89|96-99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb73-3"><a href="#cb73-3"></a>  </span>
<span id="cb73-4"><a href="#cb73-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb73-5"><a href="#cb73-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb73-6"><a href="#cb73-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb73-7"><a href="#cb73-7"></a>  </span>
<span id="cb73-8"><a href="#cb73-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb73-9"><a href="#cb73-9"></a></span>
<span id="cb73-10"><a href="#cb73-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb73-11"><a href="#cb73-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb73-12"><a href="#cb73-12"></a>  </span>
<span id="cb73-13"><a href="#cb73-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb73-14"><a href="#cb73-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb73-15"><a href="#cb73-15"></a></span>
<span id="cb73-16"><a href="#cb73-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb73-17"><a href="#cb73-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb73-18"><a href="#cb73-18"></a></span>
<span id="cb73-19"><a href="#cb73-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb73-20"><a href="#cb73-20"></a></span>
<span id="cb73-21"><a href="#cb73-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb73-22"><a href="#cb73-22"></a></span>
<span id="cb73-23"><a href="#cb73-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb73-24"><a href="#cb73-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb73-25"><a href="#cb73-25"></a>  </span>
<span id="cb73-26"><a href="#cb73-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb73-27"><a href="#cb73-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb73-28"><a href="#cb73-28"></a></span>
<span id="cb73-29"><a href="#cb73-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb73-30"><a href="#cb73-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb73-31"><a href="#cb73-31"></a></span>
<span id="cb73-32"><a href="#cb73-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb73-33"><a href="#cb73-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb73-34"><a href="#cb73-34"></a></span>
<span id="cb73-35"><a href="#cb73-35"></a>                   <span class="co"># box ----</span></span>
<span id="cb73-36"><a href="#cb73-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb73-37"><a href="#cb73-37"></a>                       </span>
<span id="cb73-38"><a href="#cb73-38"></a>                       <span class="st">"background info here"</span></span>
<span id="cb73-39"><a href="#cb73-39"></a></span>
<span id="cb73-40"><a href="#cb73-40"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> box</span></span>
<span id="cb73-41"><a href="#cb73-41"></a></span>
<span id="cb73-42"><a href="#cb73-42"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb73-43"><a href="#cb73-43"></a></span>
<span id="cb73-44"><a href="#cb73-44"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb73-45"><a href="#cb73-45"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb73-46"><a href="#cb73-46"></a></span>
<span id="cb73-47"><a href="#cb73-47"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb73-48"><a href="#cb73-48"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb73-49"><a href="#cb73-49"></a></span>
<span id="cb73-50"><a href="#cb73-50"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb73-51"><a href="#cb73-51"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb73-52"><a href="#cb73-52"></a>                         </span>
<span id="cb73-53"><a href="#cb73-53"></a>                         <span class="st">"data citation here"</span></span>
<span id="cb73-54"><a href="#cb73-54"></a></span>
<span id="cb73-55"><a href="#cb73-55"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb73-56"><a href="#cb73-56"></a></span>
<span id="cb73-57"><a href="#cb73-57"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb73-58"><a href="#cb73-58"></a></span>
<span id="cb73-59"><a href="#cb73-59"></a>                   <span class="co"># second fluiRow ----</span></span>
<span id="cb73-60"><a href="#cb73-60"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb73-61"><a href="#cb73-61"></a></span>
<span id="cb73-62"><a href="#cb73-62"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb73-63"><a href="#cb73-63"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb73-64"><a href="#cb73-64"></a>                         </span>
<span id="cb73-65"><a href="#cb73-65"></a>                         <span class="st">"disclaimer here"</span></span>
<span id="cb73-66"><a href="#cb73-66"></a></span>
<span id="cb73-67"><a href="#cb73-67"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb73-68"><a href="#cb73-68"></a></span>
<span id="cb73-69"><a href="#cb73-69"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb73-70"><a href="#cb73-70"></a></span>
<span id="cb73-71"><a href="#cb73-71"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb73-72"><a href="#cb73-72"></a></span>
<span id="cb73-73"><a href="#cb73-73"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb73-74"><a href="#cb73-74"></a></span>
<span id="cb73-75"><a href="#cb73-75"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb73-76"><a href="#cb73-76"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb73-77"><a href="#cb73-77"></a></span>
<span id="cb73-78"><a href="#cb73-78"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb73-79"><a href="#cb73-79"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb73-80"><a href="#cb73-80"></a></span>
<span id="cb73-81"><a href="#cb73-81"></a>              <span class="co"># input box ----</span></span>
<span id="cb73-82"><a href="#cb73-82"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb73-83"><a href="#cb73-83"></a>                  </span>
<span id="cb73-84"><a href="#cb73-84"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb73-85"><a href="#cb73-85"></a></span>
<span id="cb73-86"><a href="#cb73-86"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb73-87"><a href="#cb73-87"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb73-88"><a href="#cb73-88"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb73-89"><a href="#cb73-89"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation)))</span>
<span id="cb73-90"><a href="#cb73-90"></a></span>
<span id="cb73-91"><a href="#cb73-91"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb73-92"><a href="#cb73-92"></a></span>
<span id="cb73-93"><a href="#cb73-93"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb73-94"><a href="#cb73-94"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb73-95"><a href="#cb73-95"></a></span>
<span id="cb73-96"><a href="#cb73-96"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb73-97"><a href="#cb73-97"></a></span>
<span id="cb73-98"><a href="#cb73-98"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb73-99"><a href="#cb73-99"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb73-100"><a href="#cb73-100"></a></span>
<span id="cb73-101"><a href="#cb73-101"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb73-102"><a href="#cb73-102"></a></span>
<span id="cb73-103"><a href="#cb73-103"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb73-104"><a href="#cb73-104"></a></span>
<span id="cb73-105"><a href="#cb73-105"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb73-106"><a href="#cb73-106"></a></span>
<span id="cb73-107"><a href="#cb73-107"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb73-108"><a href="#cb73-108"></a>  </span>
<span id="cb73-109"><a href="#cb73-109"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb73-110"><a href="#cb73-110"></a></span>
<span id="cb73-111"><a href="#cb73-111"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb73-112"><a href="#cb73-112"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="build-map-server" class="slide level2" data-menu-title="Build map in server.R"><h2></h2>
<div class="slide-title-smaller">
Assemble inputs &amp; outputs in <code>server.R</code>
</div>
<p class="small-text">
Remember to reference your practice data viz script and to follow our three steps for creating reactive outputs!
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74" data-code-line-numbers="3-36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb74-2"><a href="#cb74-2"></a>  </span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="co"># filter lake data ----</span></span>
<span id="cb74-4"><a href="#cb74-4"></a>  filtered_lakes <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb74-5"><a href="#cb74-5"></a>    </span>
<span id="cb74-6"><a href="#cb74-6"></a>    lake_data <span class="sc">|&gt;</span></span>
<span id="cb74-7"><a href="#cb74-7"></a>      <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> input<span class="sc">$</span>elevation_slider[<span class="dv">1</span>] <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> input<span class="sc">$</span>elevation_slider[<span class="dv">2</span>])</span>
<span id="cb74-8"><a href="#cb74-8"></a>    </span>
<span id="cb74-9"><a href="#cb74-9"></a>  })</span>
<span id="cb74-10"><a href="#cb74-10"></a>  </span>
<span id="cb74-11"><a href="#cb74-11"></a>  </span>
<span id="cb74-12"><a href="#cb74-12"></a>  </span>
<span id="cb74-13"><a href="#cb74-13"></a>  <span class="co"># build leaflet map ----</span></span>
<span id="cb74-14"><a href="#cb74-14"></a>  output<span class="sc">$</span>lake_map <span class="ot">&lt;-</span> <span class="fu">renderLeaflet</span>({</span>
<span id="cb74-15"><a href="#cb74-15"></a>    </span>
<span id="cb74-16"><a href="#cb74-16"></a>    <span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb74-17"><a href="#cb74-17"></a>      </span>
<span id="cb74-18"><a href="#cb74-18"></a>      <span class="co"># add tiles</span></span>
<span id="cb74-19"><a href="#cb74-19"></a>      <span class="fu">addProviderTiles</span>(<span class="st">"Esri.WorldImagery"</span>,</span>
<span id="cb74-20"><a href="#cb74-20"></a>                       <span class="at">options =</span> <span class="fu">providerTileOptions</span>(<span class="at">maxNativeZoom =</span> <span class="dv">19</span>, <span class="at">maxZoom =</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span></span>
<span id="cb74-21"><a href="#cb74-21"></a>      </span>
<span id="cb74-22"><a href="#cb74-22"></a>      <span class="co"># add mini map</span></span>
<span id="cb74-23"><a href="#cb74-23"></a>      <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-24"><a href="#cb74-24"></a>      </span>
<span id="cb74-25"><a href="#cb74-25"></a>      <span class="co"># set view over AK</span></span>
<span id="cb74-26"><a href="#cb74-26"></a>      <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-27"><a href="#cb74-27"></a>      </span>
<span id="cb74-28"><a href="#cb74-28"></a>      <span class="co"># add markers</span></span>
<span id="cb74-29"><a href="#cb74-29"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span>  <span class="fu">filtered_lakes</span>(),</span>
<span id="cb74-30"><a href="#cb74-30"></a>                 <span class="at">lng =</span> <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Longitude, <span class="at">lat =</span> <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Latitude,</span>
<span id="cb74-31"><a href="#cb74-31"></a>                 <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb74-32"><a href="#cb74-32"></a>                               <span class="st">"Elevation:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb74-33"><a href="#cb74-33"></a>                               <span class="st">"Avg Depth:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb74-34"><a href="#cb74-34"></a>                               <span class="st">"Avg Lake Bed Temperature:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span>
<span id="cb74-35"><a href="#cb74-35"></a>    </span>
<span id="cb74-36"><a href="#cb74-36"></a>  })</span>
<span id="cb74-37"><a href="#cb74-37"></a>  </span>
<span id="cb74-38"><a href="#cb74-38"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="working-elev-widget" class="slide level2" data-menu-title="Test Elevation Widget"><h2></h2>
<div class="slide-title-smaller">
Run your app &amp; test out your first widget
</div>
<p class="body-text">
If all is good, you should see something similar to this:
</p>
<center>
<img src="images/elev_widget.gif" alt="Our Fish Creek Watershed Lake Monitoring dashboard. The 'Welcome' page has a box on the left for background info, and two stacked boxes on the right for data citation and disclaimer info. The 'Dashboard' tab has a sliderInput in the left-hand box, where users can select a range of elevations. When a range is selected, the blue markers on the leaflet map in the right-hand box are filtered accordingly. Clicking on the markers reveals more information about the specific site, including Site Name, Elevation, Avg Depth, and AvgTemp." width="750">
</center>
</section><section id="exercise5-prompt" class="slide level2" data-menu-title="** Exercise 5 Prompt **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> Exercise 5: Add two more <code>sliderInput</code>s to filter for <code>AvgDepth</code> &amp; <code>AvgTemp</code>
</div>
<p class="body-text">
</p>
<p><strong>To Do:</strong></p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Add two more <code>sliderInput</code>s, one for <code>AvgDepth</code> and one for <code>AvgTemp</code> beneath our first Elevation <code>sliderInput</code> in the UI
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Update our reactive data frame so that all three widgets filter the leaflet map
</p>
<p><br><br><br><br></p>
<center>
<p class="medium-body-text">
See next slide for a solution!
</p>
</center>
</section><section id="exercise5-solution" class="slide level2" data-menu-title="** Exercise 5 Solution **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Exercise 5: A solution
</div>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-9-1"><code>ui.R</code></a></li>
<li><a href="#tabset-9-2"><code>server.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb75" data-code-line-numbers="91-97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb75-2"><a href="#cb75-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb75-3"><a href="#cb75-3"></a>  </span>
<span id="cb75-4"><a href="#cb75-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb75-5"><a href="#cb75-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb75-6"><a href="#cb75-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb75-7"><a href="#cb75-7"></a>  </span>
<span id="cb75-8"><a href="#cb75-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb75-9"><a href="#cb75-9"></a></span>
<span id="cb75-10"><a href="#cb75-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb75-11"><a href="#cb75-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb75-12"><a href="#cb75-12"></a>  </span>
<span id="cb75-13"><a href="#cb75-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb75-14"><a href="#cb75-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb75-15"><a href="#cb75-15"></a></span>
<span id="cb75-16"><a href="#cb75-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb75-17"><a href="#cb75-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb75-18"><a href="#cb75-18"></a></span>
<span id="cb75-19"><a href="#cb75-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb75-20"><a href="#cb75-20"></a></span>
<span id="cb75-21"><a href="#cb75-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb75-22"><a href="#cb75-22"></a></span>
<span id="cb75-23"><a href="#cb75-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb75-24"><a href="#cb75-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb75-25"><a href="#cb75-25"></a>  </span>
<span id="cb75-26"><a href="#cb75-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb75-27"><a href="#cb75-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb75-28"><a href="#cb75-28"></a></span>
<span id="cb75-29"><a href="#cb75-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb75-30"><a href="#cb75-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb75-31"><a href="#cb75-31"></a></span>
<span id="cb75-32"><a href="#cb75-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb75-33"><a href="#cb75-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb75-34"><a href="#cb75-34"></a></span>
<span id="cb75-35"><a href="#cb75-35"></a>                   <span class="co"># box ----</span></span>
<span id="cb75-36"><a href="#cb75-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb75-37"><a href="#cb75-37"></a>                       </span>
<span id="cb75-38"><a href="#cb75-38"></a>                       <span class="st">"background info here"</span></span>
<span id="cb75-39"><a href="#cb75-39"></a></span>
<span id="cb75-40"><a href="#cb75-40"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> box</span></span>
<span id="cb75-41"><a href="#cb75-41"></a></span>
<span id="cb75-42"><a href="#cb75-42"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb75-43"><a href="#cb75-43"></a></span>
<span id="cb75-44"><a href="#cb75-44"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb75-45"><a href="#cb75-45"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb75-46"><a href="#cb75-46"></a></span>
<span id="cb75-47"><a href="#cb75-47"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb75-48"><a href="#cb75-48"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb75-49"><a href="#cb75-49"></a></span>
<span id="cb75-50"><a href="#cb75-50"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb75-51"><a href="#cb75-51"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb75-52"><a href="#cb75-52"></a>                         </span>
<span id="cb75-53"><a href="#cb75-53"></a>                         <span class="st">"data citation here"</span></span>
<span id="cb75-54"><a href="#cb75-54"></a></span>
<span id="cb75-55"><a href="#cb75-55"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb75-56"><a href="#cb75-56"></a></span>
<span id="cb75-57"><a href="#cb75-57"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb75-58"><a href="#cb75-58"></a></span>
<span id="cb75-59"><a href="#cb75-59"></a>                   <span class="co"># second fluiRow ----</span></span>
<span id="cb75-60"><a href="#cb75-60"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb75-61"><a href="#cb75-61"></a></span>
<span id="cb75-62"><a href="#cb75-62"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb75-63"><a href="#cb75-63"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb75-64"><a href="#cb75-64"></a>                         </span>
<span id="cb75-65"><a href="#cb75-65"></a>                         <span class="st">"disclaimer here"</span></span>
<span id="cb75-66"><a href="#cb75-66"></a>                         </span>
<span id="cb75-67"><a href="#cb75-67"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb75-68"><a href="#cb75-68"></a></span>
<span id="cb75-69"><a href="#cb75-69"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb75-70"><a href="#cb75-70"></a></span>
<span id="cb75-71"><a href="#cb75-71"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb75-72"><a href="#cb75-72"></a></span>
<span id="cb75-73"><a href="#cb75-73"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb75-74"><a href="#cb75-74"></a></span>
<span id="cb75-75"><a href="#cb75-75"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb75-76"><a href="#cb75-76"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb75-77"><a href="#cb75-77"></a></span>
<span id="cb75-78"><a href="#cb75-78"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb75-79"><a href="#cb75-79"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb75-80"><a href="#cb75-80"></a></span>
<span id="cb75-81"><a href="#cb75-81"></a>              <span class="co"># input box ----</span></span>
<span id="cb75-82"><a href="#cb75-82"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb75-83"><a href="#cb75-83"></a>                  </span>
<span id="cb75-84"><a href="#cb75-84"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb75-85"><a href="#cb75-85"></a></span>
<span id="cb75-86"><a href="#cb75-86"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb75-87"><a href="#cb75-87"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb75-88"><a href="#cb75-88"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb75-89"><a href="#cb75-89"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb75-90"><a href="#cb75-90"></a></span>
<span id="cb75-91"><a href="#cb75-91"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb75-92"><a href="#cb75-92"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb75-93"><a href="#cb75-93"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb75-94"><a href="#cb75-94"></a></span>
<span id="cb75-95"><a href="#cb75-95"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb75-96"><a href="#cb75-96"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb75-97"><a href="#cb75-97"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb75-98"><a href="#cb75-98"></a></span>
<span id="cb75-99"><a href="#cb75-99"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb75-100"><a href="#cb75-100"></a></span>
<span id="cb75-101"><a href="#cb75-101"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb75-102"><a href="#cb75-102"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb75-103"><a href="#cb75-103"></a></span>
<span id="cb75-104"><a href="#cb75-104"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb75-105"><a href="#cb75-105"></a></span>
<span id="cb75-106"><a href="#cb75-106"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb75-107"><a href="#cb75-107"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb75-108"><a href="#cb75-108"></a></span>
<span id="cb75-109"><a href="#cb75-109"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb75-110"><a href="#cb75-110"></a></span>
<span id="cb75-111"><a href="#cb75-111"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb75-112"><a href="#cb75-112"></a></span>
<span id="cb75-113"><a href="#cb75-113"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb75-114"><a href="#cb75-114"></a></span>
<span id="cb75-115"><a href="#cb75-115"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb75-116"><a href="#cb75-116"></a>  </span>
<span id="cb75-117"><a href="#cb75-117"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb75-118"><a href="#cb75-118"></a></span>
<span id="cb75-119"><a href="#cb75-119"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb75-120"><a href="#cb75-120"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb76" data-code-line-numbers="8-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb76-2"><a href="#cb76-2"></a>  </span>
<span id="cb76-3"><a href="#cb76-3"></a>  <span class="co"># filter lake data ----</span></span>
<span id="cb76-4"><a href="#cb76-4"></a>  filtered_lakes <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb76-5"><a href="#cb76-5"></a>    </span>
<span id="cb76-6"><a href="#cb76-6"></a>    lake_data <span class="sc">|&gt;</span></span>
<span id="cb76-7"><a href="#cb76-7"></a>      <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> input<span class="sc">$</span>elevation_slider[<span class="dv">1</span>] <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> input<span class="sc">$</span>elevation_slider[<span class="dv">2</span>])  <span class="sc">|&gt;</span></span>
<span id="cb76-8"><a href="#cb76-8"></a>      <span class="fu">filter</span>(AvgDepth <span class="sc">&gt;=</span> input<span class="sc">$</span>depth_slider[<span class="dv">1</span>] <span class="sc">&amp;</span> AvgDepth <span class="sc">&lt;=</span> input<span class="sc">$</span>depth_slider[<span class="dv">2</span>]) <span class="sc">|&gt;</span></span>
<span id="cb76-9"><a href="#cb76-9"></a>      <span class="fu">filter</span>(AvgTemp <span class="sc">&gt;=</span> input<span class="sc">$</span>temp_slider[<span class="dv">1</span>] <span class="sc">&amp;</span> AvgTemp <span class="sc">&lt;=</span> input<span class="sc">$</span>temp_slider[<span class="dv">2</span>])</span>
<span id="cb76-10"><a href="#cb76-10"></a>    </span>
<span id="cb76-11"><a href="#cb76-11"></a>  })</span>
<span id="cb76-12"><a href="#cb76-12"></a>  </span>
<span id="cb76-13"><a href="#cb76-13"></a>  </span>
<span id="cb76-14"><a href="#cb76-14"></a>  </span>
<span id="cb76-15"><a href="#cb76-15"></a>  <span class="co"># build leaflet map ----</span></span>
<span id="cb76-16"><a href="#cb76-16"></a>  output<span class="sc">$</span>lake_map <span class="ot">&lt;-</span> <span class="fu">renderLeaflet</span>({</span>
<span id="cb76-17"><a href="#cb76-17"></a>    </span>
<span id="cb76-18"><a href="#cb76-18"></a>    <span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb76-19"><a href="#cb76-19"></a>      </span>
<span id="cb76-20"><a href="#cb76-20"></a>      <span class="co"># add tiles</span></span>
<span id="cb76-21"><a href="#cb76-21"></a>      <span class="fu">addProviderTiles</span>(<span class="st">"Esri.WorldImagery"</span>,</span>
<span id="cb76-22"><a href="#cb76-22"></a>                       <span class="at">options =</span> <span class="fu">providerTileOptions</span>(<span class="at">maxNativeZoom =</span> <span class="dv">19</span>, <span class="at">maxZoom =</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span></span>
<span id="cb76-23"><a href="#cb76-23"></a>      </span>
<span id="cb76-24"><a href="#cb76-24"></a>      <span class="co"># add mini map</span></span>
<span id="cb76-25"><a href="#cb76-25"></a>      <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb76-26"><a href="#cb76-26"></a>      </span>
<span id="cb76-27"><a href="#cb76-27"></a>      <span class="co"># set view over AK</span></span>
<span id="cb76-28"><a href="#cb76-28"></a>      <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span></span>
<span id="cb76-29"><a href="#cb76-29"></a>      </span>
<span id="cb76-30"><a href="#cb76-30"></a>      <span class="co"># add markers</span></span>
<span id="cb76-31"><a href="#cb76-31"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span>  <span class="fu">filtered_lakes</span>(),</span>
<span id="cb76-32"><a href="#cb76-32"></a>                 <span class="at">lng =</span> <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Longitude, <span class="at">lat =</span> <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Latitude,</span>
<span id="cb76-33"><a href="#cb76-33"></a>                 <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb76-34"><a href="#cb76-34"></a>                               <span class="st">"Elevation:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb76-35"><a href="#cb76-35"></a>                               <span class="st">"Avg Depth:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb76-36"><a href="#cb76-36"></a>                               <span class="st">"Avg Lake Bed Temperature:"</span>, <span class="fu">filtered_lakes</span>()<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span>
<span id="cb76-37"><a href="#cb76-37"></a>    </span>
<span id="cb76-38"><a href="#cb76-38"></a>  })</span>
<span id="cb76-39"><a href="#cb76-39"></a>  </span>
<span id="cb76-40"><a href="#cb76-40"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="mini-break3" class="slide level2" data-menu-title="Mini break 3" data-background="#047C90"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
Mini Break
</p>
<p class="caption-text">
<em>Up next: Adding background information and an image to our Welcome tab</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_321f59f5" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls">
<button class="countdown-bump-down">−</button><button class="countdown-bump-up">&amp;plus;</button>
</div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section><section id="exercise6-prompt-tips" class="slide level2" data-menu-title="** Exercise 6 Prompt &amp; Tips **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> &amp; <svg aria-label="Lightbulb" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Lightbulb</title>
<path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"></path></svg> Exercise 6: Add titles &amp; text to Welcome page boxes
</div>
<p class="body-text">
<strong>To Do:</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Add titles to each box
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Create a <code>/text</code> folder within your app’s directory and add three markdown (<code>.md</code>) files. Write/format text for the background info (left), data citation (top-right), and disclaimer (bottom-right) boxes. Example text below:
</p>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-10-1"><code>intro.md</code></a></li>
<li><a href="#tabset-10-2"><code>citation.md</code></a></li>
<li><a href="#tabset-10-3"><code>disclaimer.md</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-10-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb77-1"><a href="#cb77-1"></a>The <span class="co">[</span><span class="ot">Fish Creek Watershed Observatory (FCWO)</span><span class="co">](http://www.fishcreekwatershed.org/)</span> is a focal watershed within the <span class="co">[</span><span class="ot">National Petroleum Reserve in Alaska (NPR-A)</span><span class="co">](https://www.blm.gov/programs/energy-and-minerals/oil-and-gas/about/alaska/NPR-A)</span>. Targeted lake and stream monitoring within the watershed provide site-specific data prior to and after the establishment of new petroleum development, as well as insight into dynamics related to climate change and variability. Eleven lakes of interest (Harry Potter, Hipbone, Iceshove, L9817, L9819, L9820, Little Alaska, Lower Snowman, M9925, Middle Snowman, and Serenity) are featured in this dashboard.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb78-1"><a href="#cb78-1"></a>Data presented in this dashboard were collected as part of the <span class="co">[</span><span class="ot">Fish Creek Watershed Observatory</span><span class="co">](http://www.fishcreekwatershed.org/)</span> are archived and publicly accessible on the NSF <span class="co">[</span><span class="ot">Arctic Data Center</span><span class="co">](https://arcticdata.io/)</span>. **Citation:** </span>
<span id="cb78-2"><a href="#cb78-2"></a></span>
<span id="cb78-3"><a href="#cb78-3"></a>*Christopher Arp, Matthew Whitman, Katie Drew, and Allen Bondurant. 2022. Water depth, surface elevation, and water temperature of lakes in the Fish Creek Watershed in northern Alaska, USA, 2011-2022. Arctic Data Center [doi:10.18739/A2JH3D41P](https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2JH3D41P).*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb79-1"><a href="#cb79-1"></a>This app is build for demonstration/teaching purposes only and is not paid for or endorsed by the Fish Creek Watershed Observatory or affiliates in any way. The data as presented here are not intended for publication nor scientific interpretation. </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><br></p>
<p class="body-text">
<strong>Tips:</strong>
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg>Titles can include icons! For example: <code>title = tagList(icon("icon-name"), strong("title text here"))</code>
</p>
</section><section id="exercise6-solution" class="slide level2" data-menu-title="** Exercise 6 Solution **"><h2></h2>
<div class="slide-title-smaller">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Exercise 6: A solution
</div>
<p class="small-text">
Press the right arrow key to advance through the newly added lines of code.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80" data-code-line-numbers="38-39|54-55|67-68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb80-3"><a href="#cb80-3"></a>  </span>
<span id="cb80-4"><a href="#cb80-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb80-5"><a href="#cb80-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb80-6"><a href="#cb80-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb80-7"><a href="#cb80-7"></a>  </span>
<span id="cb80-8"><a href="#cb80-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb80-9"><a href="#cb80-9"></a></span>
<span id="cb80-10"><a href="#cb80-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb80-11"><a href="#cb80-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb80-12"><a href="#cb80-12"></a>  </span>
<span id="cb80-13"><a href="#cb80-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb80-14"><a href="#cb80-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb80-15"><a href="#cb80-15"></a></span>
<span id="cb80-16"><a href="#cb80-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb80-17"><a href="#cb80-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb80-18"><a href="#cb80-18"></a></span>
<span id="cb80-19"><a href="#cb80-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb80-20"><a href="#cb80-20"></a></span>
<span id="cb80-21"><a href="#cb80-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb80-22"><a href="#cb80-22"></a></span>
<span id="cb80-23"><a href="#cb80-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb80-24"><a href="#cb80-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb80-25"><a href="#cb80-25"></a>  </span>
<span id="cb80-26"><a href="#cb80-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb80-27"><a href="#cb80-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb80-28"><a href="#cb80-28"></a></span>
<span id="cb80-29"><a href="#cb80-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb80-30"><a href="#cb80-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb80-31"><a href="#cb80-31"></a></span>
<span id="cb80-32"><a href="#cb80-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb80-33"><a href="#cb80-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb80-34"><a href="#cb80-34"></a></span>
<span id="cb80-35"><a href="#cb80-35"></a>                   <span class="co"># box ----</span></span>
<span id="cb80-36"><a href="#cb80-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb80-37"><a href="#cb80-37"></a>                       </span>
<span id="cb80-38"><a href="#cb80-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb80-39"><a href="#cb80-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>),</span>
<span id="cb80-40"><a href="#cb80-40"></a></span>
<span id="cb80-41"><a href="#cb80-41"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> box</span></span>
<span id="cb80-42"><a href="#cb80-42"></a></span>
<span id="cb80-43"><a href="#cb80-43"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb80-44"><a href="#cb80-44"></a></span>
<span id="cb80-45"><a href="#cb80-45"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb80-46"><a href="#cb80-46"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb80-47"><a href="#cb80-47"></a></span>
<span id="cb80-48"><a href="#cb80-48"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb80-49"><a href="#cb80-49"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb80-50"><a href="#cb80-50"></a></span>
<span id="cb80-51"><a href="#cb80-51"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb80-52"><a href="#cb80-52"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb80-53"><a href="#cb80-53"></a>                         </span>
<span id="cb80-54"><a href="#cb80-54"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb80-55"><a href="#cb80-55"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb80-56"><a href="#cb80-56"></a></span>
<span id="cb80-57"><a href="#cb80-57"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb80-58"><a href="#cb80-58"></a></span>
<span id="cb80-59"><a href="#cb80-59"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb80-60"><a href="#cb80-60"></a></span>
<span id="cb80-61"><a href="#cb80-61"></a>                   <span class="co"># second fluiRow ----</span></span>
<span id="cb80-62"><a href="#cb80-62"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb80-63"><a href="#cb80-63"></a></span>
<span id="cb80-64"><a href="#cb80-64"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb80-65"><a href="#cb80-65"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb80-66"><a href="#cb80-66"></a></span>
<span id="cb80-67"><a href="#cb80-67"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb80-68"><a href="#cb80-68"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb80-69"><a href="#cb80-69"></a></span>
<span id="cb80-70"><a href="#cb80-70"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb80-71"><a href="#cb80-71"></a></span>
<span id="cb80-72"><a href="#cb80-72"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb80-73"><a href="#cb80-73"></a></span>
<span id="cb80-74"><a href="#cb80-74"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb80-75"><a href="#cb80-75"></a></span>
<span id="cb80-76"><a href="#cb80-76"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb80-77"><a href="#cb80-77"></a></span>
<span id="cb80-78"><a href="#cb80-78"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb80-79"><a href="#cb80-79"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb80-80"><a href="#cb80-80"></a></span>
<span id="cb80-81"><a href="#cb80-81"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb80-82"><a href="#cb80-82"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb80-83"><a href="#cb80-83"></a></span>
<span id="cb80-84"><a href="#cb80-84"></a>              <span class="co"># input box ----</span></span>
<span id="cb80-85"><a href="#cb80-85"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb80-86"><a href="#cb80-86"></a>                  </span>
<span id="cb80-87"><a href="#cb80-87"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb80-88"><a href="#cb80-88"></a></span>
<span id="cb80-89"><a href="#cb80-89"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb80-90"><a href="#cb80-90"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb80-91"><a href="#cb80-91"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb80-92"><a href="#cb80-92"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb80-93"><a href="#cb80-93"></a></span>
<span id="cb80-94"><a href="#cb80-94"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb80-95"><a href="#cb80-95"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb80-96"><a href="#cb80-96"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb80-97"><a href="#cb80-97"></a></span>
<span id="cb80-98"><a href="#cb80-98"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb80-99"><a href="#cb80-99"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb80-100"><a href="#cb80-100"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb80-101"><a href="#cb80-101"></a></span>
<span id="cb80-102"><a href="#cb80-102"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb80-103"><a href="#cb80-103"></a></span>
<span id="cb80-104"><a href="#cb80-104"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb80-105"><a href="#cb80-105"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb80-106"><a href="#cb80-106"></a></span>
<span id="cb80-107"><a href="#cb80-107"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb80-108"><a href="#cb80-108"></a></span>
<span id="cb80-109"><a href="#cb80-109"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb80-110"><a href="#cb80-110"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb80-111"><a href="#cb80-111"></a></span>
<span id="cb80-112"><a href="#cb80-112"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb80-113"><a href="#cb80-113"></a></span>
<span id="cb80-114"><a href="#cb80-114"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb80-115"><a href="#cb80-115"></a></span>
<span id="cb80-116"><a href="#cb80-116"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb80-117"><a href="#cb80-117"></a></span>
<span id="cb80-118"><a href="#cb80-118"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb80-119"><a href="#cb80-119"></a>  </span>
<span id="cb80-120"><a href="#cb80-120"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb80-121"><a href="#cb80-121"></a></span>
<span id="cb80-122"><a href="#cb80-122"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb80-123"><a href="#cb80-123"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="add-image" class="slide level2" data-menu-title="Add Static Image"><h2></h2>
<div class="slide-title-smaller">
Add a static image
</div>
<p class="small-text">
As a final touch, let’s add an image to the Welcome page, inside the left-hand box beneath our intro text. First, <strong>create a <code>/www</code> folder inside your app’s directory</strong> (refer back to <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/repo-structure">this slide</a> for a description of this special directory). Download the map of the Fish Creek Watershed from FCWO’s website <a href="http://www.fishcreekwatershed.org/images/FishCreekWatershedSiteMap_2020.jpg">here</a> and save it to your <code>/www</code> directory.
</p>
<p class="small-text">
Next, use the <code>img</code> tag to add your image. Supply a file path, relative to your <code>/www</code> directory, using the <code>src</code> argument, and alt text using the <code>alt</code> argument.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81" data-code-line-numbers="40-41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb81-2"><a href="#cb81-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb81-3"><a href="#cb81-3"></a>  </span>
<span id="cb81-4"><a href="#cb81-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb81-5"><a href="#cb81-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb81-6"><a href="#cb81-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb81-7"><a href="#cb81-7"></a>  </span>
<span id="cb81-8"><a href="#cb81-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb81-9"><a href="#cb81-9"></a></span>
<span id="cb81-10"><a href="#cb81-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb81-11"><a href="#cb81-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb81-12"><a href="#cb81-12"></a>  </span>
<span id="cb81-13"><a href="#cb81-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb81-14"><a href="#cb81-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb81-15"><a href="#cb81-15"></a></span>
<span id="cb81-16"><a href="#cb81-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb81-17"><a href="#cb81-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb81-18"><a href="#cb81-18"></a></span>
<span id="cb81-19"><a href="#cb81-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb81-20"><a href="#cb81-20"></a></span>
<span id="cb81-21"><a href="#cb81-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb81-22"><a href="#cb81-22"></a></span>
<span id="cb81-23"><a href="#cb81-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb81-24"><a href="#cb81-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb81-25"><a href="#cb81-25"></a>  </span>
<span id="cb81-26"><a href="#cb81-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb81-27"><a href="#cb81-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb81-28"><a href="#cb81-28"></a></span>
<span id="cb81-29"><a href="#cb81-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb81-30"><a href="#cb81-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb81-31"><a href="#cb81-31"></a></span>
<span id="cb81-32"><a href="#cb81-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb81-33"><a href="#cb81-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb81-34"><a href="#cb81-34"></a></span>
<span id="cb81-35"><a href="#cb81-35"></a>                   <span class="co"># box ----</span></span>
<span id="cb81-36"><a href="#cb81-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb81-37"><a href="#cb81-37"></a>                       </span>
<span id="cb81-38"><a href="#cb81-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb81-39"><a href="#cb81-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>),</span>
<span id="cb81-40"><a href="#cb81-40"></a>                       tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"FishCreekWatershedSiteMap_2020.jpeg"</span>, </span>
<span id="cb81-41"><a href="#cb81-41"></a>                           <span class="at">alt =</span> <span class="st">"A map of Northern Alaksa, showing Fish Creek Watershed located within the National Petroleum Reserve."</span>) </span>
<span id="cb81-42"><a href="#cb81-42"></a></span>
<span id="cb81-43"><a href="#cb81-43"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> box</span></span>
<span id="cb81-44"><a href="#cb81-44"></a></span>
<span id="cb81-45"><a href="#cb81-45"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb81-46"><a href="#cb81-46"></a></span>
<span id="cb81-47"><a href="#cb81-47"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb81-48"><a href="#cb81-48"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb81-49"><a href="#cb81-49"></a></span>
<span id="cb81-50"><a href="#cb81-50"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb81-51"><a href="#cb81-51"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb81-52"><a href="#cb81-52"></a></span>
<span id="cb81-53"><a href="#cb81-53"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb81-54"><a href="#cb81-54"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb81-55"><a href="#cb81-55"></a>                         </span>
<span id="cb81-56"><a href="#cb81-56"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb81-57"><a href="#cb81-57"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb81-58"><a href="#cb81-58"></a></span>
<span id="cb81-59"><a href="#cb81-59"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb81-60"><a href="#cb81-60"></a></span>
<span id="cb81-61"><a href="#cb81-61"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb81-62"><a href="#cb81-62"></a></span>
<span id="cb81-63"><a href="#cb81-63"></a>                   <span class="co"># second fluiRow ----</span></span>
<span id="cb81-64"><a href="#cb81-64"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb81-65"><a href="#cb81-65"></a></span>
<span id="cb81-66"><a href="#cb81-66"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb81-67"><a href="#cb81-67"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb81-68"><a href="#cb81-68"></a></span>
<span id="cb81-69"><a href="#cb81-69"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb81-70"><a href="#cb81-70"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb81-71"><a href="#cb81-71"></a></span>
<span id="cb81-72"><a href="#cb81-72"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb81-73"><a href="#cb81-73"></a></span>
<span id="cb81-74"><a href="#cb81-74"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb81-75"><a href="#cb81-75"></a></span>
<span id="cb81-76"><a href="#cb81-76"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb81-77"><a href="#cb81-77"></a></span>
<span id="cb81-78"><a href="#cb81-78"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb81-79"><a href="#cb81-79"></a></span>
<span id="cb81-80"><a href="#cb81-80"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb81-81"><a href="#cb81-81"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb81-82"><a href="#cb81-82"></a></span>
<span id="cb81-83"><a href="#cb81-83"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb81-84"><a href="#cb81-84"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb81-85"><a href="#cb81-85"></a></span>
<span id="cb81-86"><a href="#cb81-86"></a>              <span class="co"># input box ----</span></span>
<span id="cb81-87"><a href="#cb81-87"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb81-88"><a href="#cb81-88"></a>                  </span>
<span id="cb81-89"><a href="#cb81-89"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb81-90"><a href="#cb81-90"></a></span>
<span id="cb81-91"><a href="#cb81-91"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb81-92"><a href="#cb81-92"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb81-93"><a href="#cb81-93"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb81-94"><a href="#cb81-94"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb81-95"><a href="#cb81-95"></a></span>
<span id="cb81-96"><a href="#cb81-96"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb81-97"><a href="#cb81-97"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb81-98"><a href="#cb81-98"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb81-99"><a href="#cb81-99"></a></span>
<span id="cb81-100"><a href="#cb81-100"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb81-101"><a href="#cb81-101"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb81-102"><a href="#cb81-102"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb81-103"><a href="#cb81-103"></a></span>
<span id="cb81-104"><a href="#cb81-104"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb81-105"><a href="#cb81-105"></a></span>
<span id="cb81-106"><a href="#cb81-106"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb81-107"><a href="#cb81-107"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb81-108"><a href="#cb81-108"></a></span>
<span id="cb81-109"><a href="#cb81-109"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb81-110"><a href="#cb81-110"></a></span>
<span id="cb81-111"><a href="#cb81-111"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb81-112"><a href="#cb81-112"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb81-113"><a href="#cb81-113"></a></span>
<span id="cb81-114"><a href="#cb81-114"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb81-115"><a href="#cb81-115"></a></span>
<span id="cb81-116"><a href="#cb81-116"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb81-117"><a href="#cb81-117"></a></span>
<span id="cb81-118"><a href="#cb81-118"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb81-119"><a href="#cb81-119"></a></span>
<span id="cb81-120"><a href="#cb81-120"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb81-121"><a href="#cb81-121"></a>  </span>
<span id="cb81-122"><a href="#cb81-122"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb81-123"><a href="#cb81-123"></a></span>
<span id="cb81-124"><a href="#cb81-124"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb81-125"><a href="#cb81-125"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="large-image" class="slide level2" data-menu-title="Image is too large"><h2></h2>
<div class="slide-title-smaller">
Unfortunately, our image doesn’t look so great as-is…
</div>
<p><br></p>
<center>
<img src="images/large-img.png" alt="Our Welcome page, with a map of Fish Creek Watershed beneath the intro text. The image is extremely large, spilling out of the box and across the page." width="750">
</center>
</section><section id="adjust-image-size" class="slide level2" data-menu-title="Adjust Image Size"><h2></h2>
<div class="slide-title-smaller">
Use in-line CSS to adjust the image size
</div>
<p class="small-text">
We can use in-line CSS to style our image element, as shown below (see <code>style</code> argument). It’s okay if you don’t fully understand what’s going on here for now – we’ll talk in greater detail about how CSS (and Sass) can be used to customize the appearance of your apps in just a bit.
</p>
<p class="small-text">
I’ve also added a caption below our image that links to the image source, and used in-line CSS to center my text within the box.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82" data-code-line-numbers="42-44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb82-2"><a href="#cb82-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb82-3"><a href="#cb82-3"></a>  </span>
<span id="cb82-4"><a href="#cb82-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb82-5"><a href="#cb82-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb82-6"><a href="#cb82-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb82-7"><a href="#cb82-7"></a>  </span>
<span id="cb82-8"><a href="#cb82-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb82-9"><a href="#cb82-9"></a></span>
<span id="cb82-10"><a href="#cb82-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb82-11"><a href="#cb82-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb82-12"><a href="#cb82-12"></a>  </span>
<span id="cb82-13"><a href="#cb82-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb82-14"><a href="#cb82-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb82-15"><a href="#cb82-15"></a></span>
<span id="cb82-16"><a href="#cb82-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb82-17"><a href="#cb82-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb82-18"><a href="#cb82-18"></a></span>
<span id="cb82-19"><a href="#cb82-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb82-20"><a href="#cb82-20"></a></span>
<span id="cb82-21"><a href="#cb82-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb82-22"><a href="#cb82-22"></a></span>
<span id="cb82-23"><a href="#cb82-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb82-24"><a href="#cb82-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb82-25"><a href="#cb82-25"></a>  </span>
<span id="cb82-26"><a href="#cb82-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb82-27"><a href="#cb82-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb82-28"><a href="#cb82-28"></a></span>
<span id="cb82-29"><a href="#cb82-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb82-30"><a href="#cb82-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb82-31"><a href="#cb82-31"></a></span>
<span id="cb82-32"><a href="#cb82-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb82-33"><a href="#cb82-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb82-34"><a href="#cb82-34"></a></span>
<span id="cb82-35"><a href="#cb82-35"></a>                   <span class="co"># box ----</span></span>
<span id="cb82-36"><a href="#cb82-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb82-37"><a href="#cb82-37"></a>                       </span>
<span id="cb82-38"><a href="#cb82-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb82-39"><a href="#cb82-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>),</span>
<span id="cb82-40"><a href="#cb82-40"></a>                       tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"FishCreekWatershedSiteMap_2020.jpeg"</span>, </span>
<span id="cb82-41"><a href="#cb82-41"></a>                           <span class="at">alt =</span> <span class="st">"A map of Northern Alaksa, showing Fish Creek Watershed located within the National Petroleum Reserve."</span>,</span>
<span id="cb82-42"><a href="#cb82-42"></a>                       <span class="at">style =</span> <span class="st">"max-width: 100%;"</span>),</span>
<span id="cb82-43"><a href="#cb82-43"></a>                       tags<span class="sc">$</span><span class="fu">h6</span>(tags<span class="sc">$</span><span class="fu">em</span>(<span class="st">"Map Source:"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"http://www.fishcreekwatershed.org/"</span>, <span class="st">"FCWO"</span>)),</span>
<span id="cb82-44"><a href="#cb82-44"></a>                               <span class="at">style =</span> <span class="st">"text-align: center;"</span>)</span>
<span id="cb82-45"><a href="#cb82-45"></a></span>
<span id="cb82-46"><a href="#cb82-46"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> box</span></span>
<span id="cb82-47"><a href="#cb82-47"></a></span>
<span id="cb82-48"><a href="#cb82-48"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb82-49"><a href="#cb82-49"></a></span>
<span id="cb82-50"><a href="#cb82-50"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb82-51"><a href="#cb82-51"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb82-52"><a href="#cb82-52"></a></span>
<span id="cb82-53"><a href="#cb82-53"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb82-54"><a href="#cb82-54"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb82-55"><a href="#cb82-55"></a></span>
<span id="cb82-56"><a href="#cb82-56"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb82-57"><a href="#cb82-57"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb82-58"><a href="#cb82-58"></a>                         </span>
<span id="cb82-59"><a href="#cb82-59"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb82-60"><a href="#cb82-60"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb82-61"><a href="#cb82-61"></a></span>
<span id="cb82-62"><a href="#cb82-62"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb82-63"><a href="#cb82-63"></a></span>
<span id="cb82-64"><a href="#cb82-64"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb82-65"><a href="#cb82-65"></a></span>
<span id="cb82-66"><a href="#cb82-66"></a>                   <span class="co"># second fluiRow ----</span></span>
<span id="cb82-67"><a href="#cb82-67"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb82-68"><a href="#cb82-68"></a></span>
<span id="cb82-69"><a href="#cb82-69"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb82-70"><a href="#cb82-70"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb82-71"><a href="#cb82-71"></a></span>
<span id="cb82-72"><a href="#cb82-72"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb82-73"><a href="#cb82-73"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb82-74"><a href="#cb82-74"></a></span>
<span id="cb82-75"><a href="#cb82-75"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb82-76"><a href="#cb82-76"></a></span>
<span id="cb82-77"><a href="#cb82-77"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb82-78"><a href="#cb82-78"></a></span>
<span id="cb82-79"><a href="#cb82-79"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb82-80"><a href="#cb82-80"></a></span>
<span id="cb82-81"><a href="#cb82-81"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb82-82"><a href="#cb82-82"></a></span>
<span id="cb82-83"><a href="#cb82-83"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb82-84"><a href="#cb82-84"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb82-85"><a href="#cb82-85"></a></span>
<span id="cb82-86"><a href="#cb82-86"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb82-87"><a href="#cb82-87"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb82-88"><a href="#cb82-88"></a></span>
<span id="cb82-89"><a href="#cb82-89"></a>              <span class="co"># input box ----</span></span>
<span id="cb82-90"><a href="#cb82-90"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb82-91"><a href="#cb82-91"></a>                  </span>
<span id="cb82-92"><a href="#cb82-92"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb82-93"><a href="#cb82-93"></a></span>
<span id="cb82-94"><a href="#cb82-94"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb82-95"><a href="#cb82-95"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb82-96"><a href="#cb82-96"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb82-97"><a href="#cb82-97"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb82-98"><a href="#cb82-98"></a></span>
<span id="cb82-99"><a href="#cb82-99"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb82-100"><a href="#cb82-100"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb82-101"><a href="#cb82-101"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb82-102"><a href="#cb82-102"></a></span>
<span id="cb82-103"><a href="#cb82-103"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb82-104"><a href="#cb82-104"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb82-105"><a href="#cb82-105"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb82-106"><a href="#cb82-106"></a></span>
<span id="cb82-107"><a href="#cb82-107"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb82-108"><a href="#cb82-108"></a></span>
<span id="cb82-109"><a href="#cb82-109"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb82-110"><a href="#cb82-110"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb82-111"><a href="#cb82-111"></a></span>
<span id="cb82-112"><a href="#cb82-112"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb82-113"><a href="#cb82-113"></a></span>
<span id="cb82-114"><a href="#cb82-114"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb82-115"><a href="#cb82-115"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb82-116"><a href="#cb82-116"></a></span>
<span id="cb82-117"><a href="#cb82-117"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb82-118"><a href="#cb82-118"></a></span>
<span id="cb82-119"><a href="#cb82-119"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb82-120"><a href="#cb82-120"></a></span>
<span id="cb82-121"><a href="#cb82-121"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb82-122"><a href="#cb82-122"></a></span>
<span id="cb82-123"><a href="#cb82-123"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb82-124"><a href="#cb82-124"></a>  </span>
<span id="cb82-125"><a href="#cb82-125"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb82-126"><a href="#cb82-126"></a></span>
<span id="cb82-127"><a href="#cb82-127"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb82-128"><a href="#cb82-128"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="final-dashboard" class="slide level2" data-menu-title="Final Dashboard"><h2></h2>
<div class="slide-title-smaller">
Check out your finished dashboard!
</div>
<center>
<img src="images/final-dashboard.gif" alt="Our completed dashboard, with our image styled so that it fits within the background info box on the Welcome page, and three functional sliderInputs that update the leaflet map on the Dashboard page." width="750">
</center>
<p class="small-text">
There’s a ton more to learn about building shinydashboards. Check out the <a href="https://rstudio.github.io/shinydashboard/">documentation</a> to find instructions on adding components like <a href="https://rstudio.github.io/shinydashboard/structure.html#infobox"><code>infoBox</code>es</a> and <a href="https://rstudio.github.io/shinydashboard/structure.html#valuebox"><code>valueBox</code>es</a>, building <a href="https://rstudio.github.io/shinydashboard/structure.html#inputs-in-the-sidebar">inputs in the sidebar</a>, easy ways to update the color theme using <a href="https://rstudio.github.io/shinydashboard/appearance.html#skins">skins</a>, and more.
</p>
</section><section id="3-beautifying-ui" class="slide level2" data-menu-title="!! (3) Beautifying your UI !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 3: Beautifying your user interface (UI)
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Custom themes with <code>bslib</code>
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Custom themes with <code>fresh</code>
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Styling with CSS &amp; Sass
</p>
</section><section id="themeing-pkgs" class="slide level2" data-menu-title="~~~ Themeing Shiny Apps (with pkgs) ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Paint Roller" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Paint Roller</title>
<path d="M0 64C0 28.7 28.7 0 64 0H352c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM160 352c0-17.7 14.3-32 32-32V304c0-44.2 35.8-80 80-80H416c17.7 0 32-14.3 32-32V160 69.5c37.3 13.2 64 48.7 64 90.5v32c0 53-43 96-96 96H272c-8.8 0-16 7.2-16 16v16c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V352z"></path></svg> Creating custom themes
</p>
<p class="caption-text">
<em>We’ve built some really cool apps so far, but they all have a pretty standard and similar appearance. In this section, we’ll explore two packages for creating custom themes for your apps.</em>
</p>
</div>
</section><section id="LO-themeing" class="slide level2" data-menu-title="Learning Objectives - Themeing/Styling"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - Themeing/Styling Apps
</div>
<p class="medium-body-text bottombr">
By the end of this section, you should be equipped with:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> a number of different approaches for themeing and styling your shiny apps and dashboards
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
New packages used:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://rstudio.github.io/bslib/">bslib</a>: provides tools for customizing Bootstrap themes directly from R for shiny apps and RMarkdowns
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://github.com/dreamRs/fresh">fresh</a>: provides tools for creating custom themes for use with shiny, <code>shinydashboard</code>, and <code>bs4Dash</code> apps
</p>
</div>
</section><section id="bslib" class="slide level2" data-menu-title="{bslib}"><h2></h2>
<div class="slide-title">
Using the <a href="https://rstudio.github.io/bslib/"><code>{bslib}</code> package</a> to theme Shiny apps
</div>
<p class="body-text">
The <a href="https://rstudio.github.io/bslib/"><code>{bslib}</code> package</a> provides tools for customizing <a href="https://getbootstrap.com/docs/4.6/getting-started/theming/">Bootstrap themes</a> directly from R, making custom themeing for Shiny apps (and R Markdown docs!) quite easy.
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<p class="medium-body-text">
Pros:
</p>
</center>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> easy to use
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> includes a <a href="https://testing-apps.shinyapps.io/themer-demo/">real-time themeing widget</a> to try out themes before applying them to your own app
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> plays well with the <a href="https://rstudio.github.io/thematic/">thematic</a> package for matching plot styling to app
</p>
</div><div class="column" style="width:4%;">

</div><div class="column" style="width:45%;">
<center>
<p class="medium-body-text">
Cons:
</p>
</center>
<p class="small-text">
<svg aria-label="X Mark" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>X Mark</title>
<path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"></path></svg> does <strong>not</strong> work with <code>shinydashboard</code> (<a href="https://rstudio.github.io/bslib/">bslib</a> is only intended for use with <code>shiny</code> <em>apps</em>)
</p>
<p class="small-text">
<svg aria-label="X Mark" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>X Mark</title>
<path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"></path></svg> styling is constrained by the arguments available to <code>bs_theme()</code>
</p>
<p class="small-text">
<svg aria-label="X Mark" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>X Mark</title>
<path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"></path></svg> some <code>shinyWidgets</code> may break when a <code>bslib</code> theme is applied (e.g.&nbsp;<code>pickerInput</code>s in our <code>two-file-app</code>) (at the time of writing this, Jan 2023).
</p>
</div>
</div>
<p><br></p>
<div class="fragment">
<center>
<p class="body-text topbr">
<strong>Let’s practice applying new themes using <code>bslib</code> to our <code>one-file-app</code> (i.e.&nbsp;App #1)</strong>
</p>
</center>
</div>
</section><section id="bslib-prebuilt-themes" class="slide level2" data-menu-title="Pre-built themes with {bslib}"><h2></h2>
<div class="slide-title">
Apply a pre-built theme with {bslib}
</div>
<p class="small-text topbr">
By default, Shiny uses the Bootstrap v3 theme (which is not so exciting). Change the theme to a slightly more modern Bootstrap v5 theme by setting the <code>theme</code> argument of <code>fluidPage()</code> to <code>bslib::bs_theme(version = 5)</code>, <em>or</em> supply <code>bs_theme()</code> with a pre-built bootswatch theme, as shown below (for a list of theme names, run <code>bootswatch_themes()</code> in your console):
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb83-2"><a href="#cb83-2"></a>  </span>
<span id="cb83-3"><a href="#cb83-3"></a>  <span class="at">theme =</span> bslib<span class="sc">::</span><span class="fu">bs_theme</span>(<span class="at">bootswatch =</span> <span class="st">"solar"</span>)</span>
<span id="cb83-4"><a href="#cb83-4"></a>  </span>
<span id="cb83-5"><a href="#cb83-5"></a>  <span class="co"># ~ additional UI code omitted for brevity ~</span></span>
<span id="cb83-6"><a href="#cb83-6"></a>  </span>
<span id="cb83-7"><a href="#cb83-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/solar.png" alt="A shiny app depicting a title, subtitle sliderInput, scatterplot, checkboxGroupInput, and DT datatable, all stacked vertically. The pre-build bootswatch 'solar' theme has been applied, turning the background color dark blue and changing widget colors to dark gray or yellow. The background of the scatterplot is still white." width="550">
</center>
</div>
</div>
</section><section id="bslib-custom-themes" class="slide level2" data-menu-title="Custom themes with {bslib}"><h2></h2>
<div class="slide-title">
Create a custom theme with {bslib}
</div>
<p class="small-text">
Alternatively, you can fully customize your own theme. Explore the <a href="https://rstudio.github.io/bslib/articles/bslib.html"><code>bslib</code> vignette</a> for detailed instructions. A small example here:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb84-2"><a href="#cb84-2"></a>  </span>
<span id="cb84-3"><a href="#cb84-3"></a>  <span class="at">theme =</span> bslib<span class="sc">::</span><span class="fu">bs_theme</span>(</span>
<span id="cb84-4"><a href="#cb84-4"></a>    <span class="at">bg =</span> <span class="st">"#A36F6F"</span>, <span class="co"># background color</span></span>
<span id="cb84-5"><a href="#cb84-5"></a>    <span class="at">fg =</span> <span class="st">"#FDF7F7"</span>, <span class="co"># foreground color</span></span>
<span id="cb84-6"><a href="#cb84-6"></a>    <span class="at">primary =</span> <span class="st">"#483132"</span>, <span class="co"># primary accent color</span></span>
<span id="cb84-7"><a href="#cb84-7"></a>    <span class="at">base_font =</span> <span class="fu">font_google</span>(<span class="st">"Pacifico"</span>))</span>
<span id="cb84-8"><a href="#cb84-8"></a>  </span>
<span id="cb84-9"><a href="#cb84-9"></a>  <span class="co"># ~ additional UI code omitted for brevity ~</span></span>
<span id="cb84-10"><a href="#cb84-10"></a>  </span>
<span id="cb84-11"><a href="#cb84-11"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/custom-bslib.png" alt="A shiny app depicting a title, subtitle sliderInput, scatterplot, checkboxGroupInput, and DT datatable, all stacked vertically. A custom theme, created using bs_theme() has been applied, turning the background color pink, changing widget colors to a dark magenta, and applying a cursive white font styling to all text. The background of the scatterplot is still white." width="550">
</center>
</div>
</div>
<p class="small-text">
Be sure to check out the interactive themeing widget to test custom color/font/etc. combos by running <code>bs_theme_preview()</code> in your console, or visit the hosted version <a href="https://testing-apps.shinyapps.io/themer-demo/">here</a>. You can also call <code>bs_themer()</code> within your <code>server</code> function to open the theme customization UI alongside your own app.
</p>
</section><section id="thematic" class="slide level2" data-menu-title="{thematic} for plot themeing"><h2></h2>
<div class="slide-title-smaller">
Use {thematic} to extend your theme to plots
</div>
<p class="small-text">
You probably noticed that our scatterplot looks a little silly against the darker background of our themed app. Enter the <a href="https://rstudio.github.io/thematic/index.html"><code>{thematic}</code> package</a>, which is built to help simplify plot themeing. Call <code>thematic_shiny()</code> before launching your app to generate plots that reflect your application’s <code>bs_theme()</code>. For example:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>thematic<span class="sc">::</span><span class="fu">thematic_shiny</span>()</span>
<span id="cb85-2"><a href="#cb85-2"></a></span>
<span id="cb85-3"><a href="#cb85-3"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb85-4"><a href="#cb85-4"></a>  </span>
<span id="cb85-5"><a href="#cb85-5"></a>  <span class="at">theme =</span> bslib<span class="sc">::</span><span class="fu">bs_theme</span>(</span>
<span id="cb85-6"><a href="#cb85-6"></a>    <span class="at">bg =</span> <span class="st">"#A36F6F"</span>, <span class="co"># background color</span></span>
<span id="cb85-7"><a href="#cb85-7"></a>    <span class="at">fg =</span> <span class="st">"#FDF7F7"</span>, <span class="co"># foreground color</span></span>
<span id="cb85-8"><a href="#cb85-8"></a>    <span class="at">primary =</span> <span class="st">"#483132"</span>, <span class="co"># primary accent color</span></span>
<span id="cb85-9"><a href="#cb85-9"></a>    <span class="at">base_font =</span> <span class="fu">font_google</span>(<span class="st">"Pacifico"</span>))</span>
<span id="cb85-10"><a href="#cb85-10"></a>  </span>
<span id="cb85-11"><a href="#cb85-11"></a>  <span class="co"># ~ additional UI code omitted for brevity ~</span></span>
<span id="cb85-12"><a href="#cb85-12"></a>  </span>
<span id="cb85-13"><a href="#cb85-13"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/bslib-thematic.png" alt="A shiny app depicting a title, subtitle sliderInput, scatterplot, checkboxGroupInput, and DT datatable, all stacked vertically. A custom theme, created using bs_theme() has been applied, turning the background color pink, changing widget colors to a dark magenta, and applying a cursive white font styling to all text. The background of the scatterplot is now the same color (pink) as the background." width="550">
</center>
</div>
</div>
<p class="small-text">
Read the <a href="https://rstudio.github.io/thematic/index.html">vignette</a> to learn more about using the <code>thematic</code> package to help match plot fonts to the fonts applied across your app.
</p>
</section><section id="fresh" class="slide level2" data-menu-title="{fresh}"><h2></h2>
<div class="slide-title">
Using the <a href="https://dreamrs.github.io/fresh/"><code>{fresh}</code> package</a> to theme Shiny apps &amp; dashboards
</div>
<p class="body-text">
The <a href="https://dreamrs.github.io/fresh/"><code>{fresh}</code> package</a> provides tools for creating custom themes to use in Shiny apps <em>and</em> dashboards – set parameters of your theme using <code>create_theme()</code>, generate a stylesheet based off your specifications, and apply your stylesheet to your app.
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<p class="medium-body-text">
Pros:
</p>
</center>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> easy to use
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> supports theme creation for <em>both</em> shiny apps and dashboards (and also <a href="https://pkgs.rstudio.com/flexdashboard/">flexdashboard</a>s and <a href="https://rinterface.github.io/bs4Dash/index.html"><code>{b4dash}</code> applications</a>)
</p>
</div><div class="column" style="width:4%;">

</div><div class="column" style="width:45%;">
<center>
<p class="medium-body-text">
Cons:
</p>
</center>
<p class="small-text">
<svg aria-label="X Mark" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>X Mark</title>
<path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"></path></svg> styling is constrained by the variables available to <code>create_theme()</code>
</p>
</div>
</div>
<p><br></p>
<div class="fragment">
<center>
<p class="body-text topbr">
<strong>Let’s practice applying new themes using <code>fresh</code> to our <code>two-file-app</code> (i.e.&nbsp;App #2) and our <code>shinydashbaord</code> (i.e.&nbsp;App #3)</strong>
</p>
</center>
</div>
</section><section id="fresh-workflow" class="slide level2" data-menu-title="{fresh} workflow"><h2></h2>
<div class="slide-title">
A general workflow for using <code>fresh</code> themes
</div>
<p class="body-text topbr">
Whether you’re working on a shiny <em>app</em> or a shiny <em>dashboard</em>, you’ll need the following:
</p>
<p class="small-text topbr">
<strong>1.</strong> a <code>/www</code> folder within your app’s directory – this is where we’ll save the stylesheet (a <code>.css</code> file) that <code>fresh</code> will generate for us
</p>
<p class="small-text topbr">
<strong>2.</strong> a separate script for building our theme using the <code>create_theme()</code> function – I recommend saving this to <code>~/R</code> (it seemed to cause issues when saved anywhere within my app directory)
</p>
<div class="fragment">
<p class="body-text topbr">
Importantly, <code>create_theme()</code> takes <strong>different variables</strong> to set the parameters of your theme, depending on what type of app you’re building: for <strong>shiny apps</strong>, you’ll need to use <a href="https://dreamrs.github.io/fresh/articles/vars-shiny.html"><code>bs_vars_*</code> variables</a>, and for <strong>shiny dashboards</strong> you’ll use <a href="https://dreamrs.github.io/fresh/articles/vars-shinydashboard.html"><code>adminlte_*</code> variables</a> (examples on the following slides).
</p>
<p class="body-text topbr">
There are also a <a href="https://cran.r-project.org/web/packages/fresh/vignettes/fresh.html">couple ways</a> to apply your finished theme to your app, but we’ll use the method of generating a <code>.css</code> file, then calling that file in our app.
</p>
</div>
</section><section id="create-fresh-app-theme" class="slide level2" data-menu-title="Create {fresh} app theme"><h2></h2>
<div class="slide-title-smaller">
Creating a <code>fresh</code> theme for <code>two-file-app</code>
</div>
<p class="small-text">
In this example, we update the colors of our app’s body, navbar, and tabPanels using the appropriate <code>fresh</code> <a href="https://dreamrs.github.io/fresh/articles/vars-shiny.html">variables for shiny <em>apps</em></a>. We specify a file path, <code>two-file-app/www</code> (you’ll need to create the <code>/www</code> directory, since we don’t have one yet), where our stylesheet (e.g.&nbsp;<code>shiny_fresh_themes.css</code>, as shown here) file will be saved to.
</p>
<p class="small-text">
Of course, these color combos are <em>not</em> recommended, but chosen purely for demonstration purposes <svg aria-label="Face Smile Wink" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Face Smile Wink</title>
<path d="M256 352C293.2 352 319.2 334.5 334.4 318.1C343.3 308.4 358.5 307.7 368.3 316.7C378 325.7 378.6 340.9 369.6 350.6C347.7 374.5 309.7 400 256 400C202.3 400 164.3 374.5 142.4 350.6C133.4 340.9 133.1 325.7 143.7 316.7C153.5 307.7 168.7 308.4 177.6 318.1C192.8 334.5 218.8 352 256 352zM208.4 208C208.4 225.7 194 240 176.4 240C158.7 240 144.4 225.7 144.4 208C144.4 190.3 158.7 176 176.4 176C194 176 208.4 190.3 208.4 208zM281.9 230.6C273.9 223 273.5 210.4 281 202.3C295.6 186.8 316.3 180 335.6 180C354.1 180 375.7 186.8 390.2 202.3C397.8 210.4 397.4 223 389.3 230.6C381.2 238.1 368.6 237.7 361 229.7C355.6 223.8 346.3 220 335.6 220C324.1 220 315.7 223.8 310.2 229.7C302.7 237.7 290 238.1 281.9 230.6zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"></path></svg>.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="co"># in a separate script: ~/R/create_fresh_theme_shiny.R</span></span>
<span id="cb86-2"><a href="#cb86-2"></a><span class="co"># load library ----</span></span>
<span id="cb86-3"><a href="#cb86-3"></a><span class="fu">library</span>(fresh)</span>
<span id="cb86-4"><a href="#cb86-4"></a></span>
<span id="cb86-5"><a href="#cb86-5"></a><span class="co"># create theme -----</span></span>
<span id="cb86-6"><a href="#cb86-6"></a><span class="fu">create_theme</span>(</span>
<span id="cb86-7"><a href="#cb86-7"></a>  </span>
<span id="cb86-8"><a href="#cb86-8"></a>  <span class="co"># you can supply a bootstrap theme to begin with</span></span>
<span id="cb86-9"><a href="#cb86-9"></a>  <span class="at">theme =</span> <span class="st">"default"</span>,</span>
<span id="cb86-10"><a href="#cb86-10"></a></span>
<span id="cb86-11"><a href="#cb86-11"></a>  <span class="co"># global styling</span></span>
<span id="cb86-12"><a href="#cb86-12"></a>  <span class="fu">bs_vars_global</span>(</span>
<span id="cb86-13"><a href="#cb86-13"></a>    <span class="at">body_bg =</span> <span class="st">"#D2D0CA"</span>, <span class="co"># beige</span></span>
<span id="cb86-14"><a href="#cb86-14"></a>    <span class="at">text_color =</span> <span class="st">"#F23ACB"</span>, <span class="co"># hot pink</span></span>
<span id="cb86-15"><a href="#cb86-15"></a>    <span class="at">link_color =</span> <span class="st">"#0E4BE3"</span> <span class="co"># royal blue</span></span>
<span id="cb86-16"><a href="#cb86-16"></a>  ),</span>
<span id="cb86-17"><a href="#cb86-17"></a></span>
<span id="cb86-18"><a href="#cb86-18"></a>  <span class="fu">bs_vars_navbar</span>(</span>
<span id="cb86-19"><a href="#cb86-19"></a>    <span class="at">default_bg =</span> <span class="st">"#13CC13"</span>, <span class="co"># lime green</span></span>
<span id="cb86-20"><a href="#cb86-20"></a>    <span class="at">default_color =</span> <span class="st">"#66656C"</span> <span class="co"># gray</span></span>
<span id="cb86-21"><a href="#cb86-21"></a>  ),</span>
<span id="cb86-22"><a href="#cb86-22"></a></span>
<span id="cb86-23"><a href="#cb86-23"></a>  <span class="co"># tabPanels</span></span>
<span id="cb86-24"><a href="#cb86-24"></a>  <span class="fu">bs_vars_tabs</span>(</span>
<span id="cb86-25"><a href="#cb86-25"></a>    <span class="at">border_color =</span> <span class="st">"#F90909"</span> <span class="co"># red</span></span>
<span id="cb86-26"><a href="#cb86-26"></a>  ),</span>
<span id="cb86-27"><a href="#cb86-27"></a></span>
<span id="cb86-28"><a href="#cb86-28"></a>  <span class="co"># generate css file</span></span>
<span id="cb86-29"><a href="#cb86-29"></a>  <span class="at">output_file =</span> <span class="st">"two-file-app/www/shiny_fresh_theme.css"</span></span>
<span id="cb86-30"><a href="#cb86-30"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="apply-fresh-apps-theme" class="slide level2" data-menu-title="Apply {fresh} app theme"><h2></h2>
<div class="slide-title-smaller">
Apply a <code>fresh</code> theme to our app
</div>
<p class="body-text">
To apply our theme, provide the <code>theme</code> argument of your <code>fluidPage()</code> or <code>navbarPage()</code> with the name of our stylesheet. <strong>Note:</strong> shiny knows to look in the <code>/www</code> directory, so you can omit that from your file path, as shown below:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="co"># navbar page ----</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb87-3"><a href="#cb87-3"></a></span>
<span id="cb87-4"><a href="#cb87-4"></a>  <span class="at">theme =</span> <span class="st">"shiny_fresh_theme.css"</span></span>
<span id="cb87-5"><a href="#cb87-5"></a>  </span>
<span id="cb87-6"><a href="#cb87-6"></a>  <span class="co"># ~ additional UI code omitted for brevity ~</span></span>
<span id="cb87-7"><a href="#cb87-7"></a>  </span>
<span id="cb87-8"><a href="#cb87-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/fresh_app.gif" alt="An app with a tan-colored background, lime green navbar, bright pink text, and blue links, showcasing how different components of a shiny app can be modified using the fresh packages." width="550">
</center>
</div>
</div>
</section><section id="fresh-shinydashboard" class="slide level2" data-menu-title="{fresh} shiny dashboard"><h2></h2>
<div class="slide-title-smaller">
Creating a <code>fresh</code> theme for our <code>shinydashboard</code>
</div>
<p class="smaller-text">
In this example, we update the colors of our app’s header, body, and sidebar using the appropriate <code>fresh</code> <a href="https://dreamrs.github.io/fresh/articles/vars-shinydashboard.html">variables for shiny <em>dashboards</em></a>. We specify a file path, <code>shinydashboard/www</code> where our stylesheet (e.g.&nbsp;<code>shinydashboard_fresh_themes.css</code>, as shown here) file will be saved to. Again, these color combos are <em>not</em> recommended, but chosen purely for demonstration purposes.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="co"># in a separate script: ~/R/create_fresh_theme_shinydashboard.R</span></span>
<span id="cb88-2"><a href="#cb88-2"></a><span class="co"># load libraries ----</span></span>
<span id="cb88-3"><a href="#cb88-3"></a><span class="fu">library</span>(fresh)</span>
<span id="cb88-4"><a href="#cb88-4"></a></span>
<span id="cb88-5"><a href="#cb88-5"></a><span class="co"># create theme ----</span></span>
<span id="cb88-6"><a href="#cb88-6"></a><span class="fu">create_theme</span>(</span>
<span id="cb88-7"><a href="#cb88-7"></a>  </span>
<span id="cb88-8"><a href="#cb88-8"></a>  <span class="co"># change "light-blue"/"primary" color</span></span>
<span id="cb88-9"><a href="#cb88-9"></a>  <span class="fu">adminlte_color</span>(</span>
<span id="cb88-10"><a href="#cb88-10"></a>    <span class="at">light_blue =</span> <span class="st">"#150B5A"</span> <span class="co"># dark blue</span></span>
<span id="cb88-11"><a href="#cb88-11"></a>  ),</span>
<span id="cb88-12"><a href="#cb88-12"></a>  </span>
<span id="cb88-13"><a href="#cb88-13"></a>  <span class="co"># dashboardBody styling (includes boxes)</span></span>
<span id="cb88-14"><a href="#cb88-14"></a>  <span class="fu">adminlte_global</span>(</span>
<span id="cb88-15"><a href="#cb88-15"></a>    <span class="at">content_bg =</span> <span class="st">"#E7B5B5"</span> <span class="co"># blush pink</span></span>
<span id="cb88-16"><a href="#cb88-16"></a>  ),</span>
<span id="cb88-17"><a href="#cb88-17"></a>  </span>
<span id="cb88-18"><a href="#cb88-18"></a>  <span class="co"># dashboardSidebar styling</span></span>
<span id="cb88-19"><a href="#cb88-19"></a>  <span class="fu">adminlte_sidebar</span>(</span>
<span id="cb88-20"><a href="#cb88-20"></a>    <span class="at">width =</span> <span class="st">"400px"</span>, </span>
<span id="cb88-21"><a href="#cb88-21"></a>    <span class="at">dark_bg =</span> <span class="st">"#57F8F3"</span>, <span class="co"># light blue</span></span>
<span id="cb88-22"><a href="#cb88-22"></a>    <span class="at">dark_hover_bg =</span> <span class="st">"#BF21E6"</span>, <span class="co"># magenta</span></span>
<span id="cb88-23"><a href="#cb88-23"></a>    <span class="at">dark_color =</span> <span class="st">"#F90000"</span> <span class="co"># red</span></span>
<span id="cb88-24"><a href="#cb88-24"></a>  ),</span>
<span id="cb88-25"><a href="#cb88-25"></a>  </span>
<span id="cb88-26"><a href="#cb88-26"></a>  <span class="co"># generate css file</span></span>
<span id="cb88-27"><a href="#cb88-27"></a>  <span class="at">output_file =</span> <span class="st">"shinydashboard/www/shinydashboard_fresh_theme.css"</span></span>
<span id="cb88-28"><a href="#cb88-28"></a>  </span>
<span id="cb88-29"><a href="#cb88-29"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="apply-fresh-dashboard-theme" class="slide level2" data-menu-title="Apply {fresh} dashboard theme"><h2></h2>
<div class="slide-title-smaller">
Apply a <code>fresh</code> theme to our dashboard
</div>
<p class="body-text">
To apply our theme, use the <code><a href="https://rdrr.io/pkg/fresh/man/use_theme.html">fresh::use_theme()</a></code> function inside your <code>dashboardBody</code>, providing it with the name of your stylesheet. <strong>Note:</strong> shiny knows to look in the <code>/www</code> directory, so you can omit that from your file path, as shown below:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb89-2"><a href="#cb89-2"></a>  </span>
<span id="cb89-3"><a href="#cb89-3"></a>  <span class="co"># set theme</span></span>
<span id="cb89-4"><a href="#cb89-4"></a>  fresh<span class="sc">::</span><span class="fu">use_theme</span>(<span class="st">"shinydashboard_fresh_theme.css"</span>)</span>
<span id="cb89-5"><a href="#cb89-5"></a>  </span>
<span id="cb89-6"><a href="#cb89-6"></a>  <span class="co"># ~ additional dashboardBody code omitted for brevity ~</span></span>
<span id="cb89-7"><a href="#cb89-7"></a>  </span>
<span id="cb89-8"><a href="#cb89-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/fresh-dashboard.gif" alt="A shinydashboard with a dark blue dashboardHeader, pink dashboardBody, light blue dashboardSidebar, red sidebar text, and bright pink sidebar menuItem highlights, showcasing how shinydashboards can be customized using the fresh package." width="550">
</center>
</div>
</div>
</section><section id="themeing-css-sass" class="slide level2" data-menu-title="~~~ Styling Shiny Apps (with CSS &amp; Sass) ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Paint Brush" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Paint Brush</title>
<path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"></path></svg> Styling apps with CSS &amp; Sass
</p>
<p class="caption-text">
<em><code>bslib</code> &amp; <code>fresh</code> are great ways to get started on your app customization journeys, but knowing some CSS &amp; Sass can help you really fine-tune the appearance of your apps</em>
</p>
</div>
</section><section id="sass-css" class="slide level2" data-menu-title="Sass &amp; CSS"><h2></h2>
<div class="slide-title">
Using Sass &amp; CSS to style Shiny apps &amp; dashboards
</div>
<p class="body-text">
You can write your own stylesheets using <a href="https://www.w3.org/Style/CSS/Overview.en.html">CSS</a> and <a href="https://sass-lang.com/">Sass</a> to fully customize your apps, from background colors, to font styles, to size and shape of elements, and more. Unlike <code>bslib</code> and <code>fresh</code>, these are <em>languages</em>, meaning they can be a bit more challenging to get started with (but the payoff it big!).
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<p class="medium-body-text">
Pros:
</p>
</center>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> applies to any web page (not just shiny apps)
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> allows you to customize pretty much any aspect of your app
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> can be combined with themes generated using <code>bslib</code> or <code>fresh</code> to fine-tune your app’s styling
</p>
</div><div class="column" style="width:4%;">

</div><div class="column" style="width:45%;">
<center>
<p class="medium-body-text">
Cons:
</p>
</center>
<p class="small-text">
<svg aria-label="X Mark" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>X Mark</title>
<path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"></path></svg> a steeper learning curve/generally more complex than packages like <code>bslib</code> and <code>fresh</code>
</p>
</div>
</div>
<div class="fragment">
<center>
<p class="body-text topbr">
<strong>We’ll review a little bit about CSS &amp; Sass, then practice writing and applying custom styling to apps and dashboards.</strong>
</p>
</center>
</div>
</section><section id="css-review" class="slide level2" data-menu-title="CSS Review/Resources"><h2></h2>
<div class="slide-title-smaller">
Resources for a deeper dive
</div>
<p class="body-text">
We’ll be doing a rather high-level and quick overview of Sass &amp; CSS today, though I encourage you to check out the <a href="https://ucsb-meds.github.io/customizing-quarto-websites/#/title-slide">Customizing Quarto Websites</a> workshop, which takes a much deeper dive (the information in that workshop is largely applicable here).
</p>
<div class="fragment">
<p class="body-text topbr">
<a href="https://www.w3schools.com/css/default.asp">W3Schools</a> is my favorite online resource for all-things CSS – in addition to really digestible descriptions and examples, they also offer interactive tutorials to get your hands on updating (and breaking) code (in a safe space, of course).
</p>
<p><br></p>
<center>
<img src="images/w3.png" alt="The W3Schools logo, which is a green 'W' with a green '3' to the right." width="350">
</center>
</div>
</section><section id="what-are-sass-css" class="slide level2" data-menu-title="What are Sass &amp; CSS"><h2></h2>
<div class="slide-title-smaller">
What even is CSS? Sass?
</div>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<img src="images/css3.png" alt="The CSS 3 logo." height="400">
</center>
<center>
<p class="smaller-text">
<strong>CSS</strong> (<strong>C</strong>ascading <strong>S</strong>tyle <strong>S</strong>heets) is a programming language that allows you to control how HTML elements look (e.g.&nbsp;colors, font styles, etc.) on a webpage.
</p>
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<p><br></p>
<center>
<img src="images/sass.png" alt="The Sass logo" width="550">
</center>
<center>
<p class="smaller-text topbr">
<strong>Sass</strong> (<strong>S</strong>yntactically <strong>A</strong>wesome <strong>S</strong>tyle<strong>s</strong>heets) is a CSS extension language and CSS preprocessor – meaning Sass needs to be converted (aka compiled) to CSS before it can be interpreted by your web browser.
</p>
</center>
</div>
</div>
</section><section id="css-rule-based" class="slide level2" data-menu-title="CSS is rule-based"><h2></h2>
<div class="slide-title-smaller">
CSS is a rule-based language
</div>
<p class="body-text">
CSS is a rule-based language, meaning that it allows you to define groups of styles that should be applied to particular elements or groups of elements on a web page. For example, <em>“I want all level one headings (<code>&lt;h1&gt;</code> or <code>tags$h1()</code> as written in Shiny) in my app to be green with a bit of extra space between each letter”</em> could be coded as:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:45%;">
<center>
<img src="images/CSS_syntax.png" alt="An example of a CSS rule that modifies all h1 elements so that the text is green and that there's a bit more space between each letter." width="550">
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Selectors</strong> select the HTML element(s) you want to style (<em>e.g.&nbsp;level one headings, <code>&lt;h1&gt;</code>)</em>
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><strong>Declarations</strong> sit inside curly brackets, <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>, and are made up of <a href="https://www.w3schools.com/cssref/index.php"><strong>property</strong></a> and <strong>value</strong> pairs. Each pair specifies the property of the HTML element(s) you’re selecting <em>(e.g.&nbsp;the color property of the element <code>&lt;h1&gt;</code>)</em>, and a value you’d like to assign to that property <em>(e.g.&nbsp;green)</em>
</p>
<p class="small-text">
<svg aria-label="Check" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Check</title>
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> A property and it’s corresponding value are separated by a colon, <code>:</code>. Declarations end with a semicolon, <code>;</code>
</p>
</div>
</div>
<p class="body-text">
There are a variety of CSS selectors – check out some of the basics that will take you far in styling your apps, starting <a href="https://ucsb-meds.github.io/customizing-quarto-websites/#/selector-types">on this slide</a> of the <a href="https://ucsb-meds.github.io/customizing-quarto-websites/#/title-slide">Customizing Quarto Websites</a> workshop.
</p>
</section><section id="css-3ways" class="slide level2" data-menu-title="3 ways to add CSS styling"><h2></h2>
<div class="slide-title-smaller">
3 ways to add CSS styling to your apps
</div>
<p class="small-text">
You can <strong>(1)</strong> add styling directly to <code>tags</code>, <strong>(2)</strong> add CSS rules to your <code>header</code>, and/or <strong>(3)</strong> build a stylesheet that is applied to your app. <strong>Creating a stylesheet is the preferred approach, and you should do this whenever possible.</strong>
</p>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-11-1">tags</a></li>
<li><a href="#tabset-11-2">header</a></li>
<li><a href="#tabset-11-3">stylesheets</a></li>
</ul>
<div class="tab-content">
<div id="tabset-11-1">
<p class="smaller-text">
Add styling directly to tags. <strong>It’s best not to use a lot of these!</strong> It’s easy to lose track of your “in-line” styling in large projects, you can’t reuse rules easily, it’s hard to keep styling consistent, and it’s difficult to implement large stylistic changes.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb90-2"><a href="#cb90-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb90-3"><a href="#cb90-3"></a></span>
<span id="cb90-4"><a href="#cb90-4"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb90-5"><a href="#cb90-5"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb90-6"><a href="#cb90-6"></a>  </span>
<span id="cb90-7"><a href="#cb90-7"></a>  <span class="co"># text color = purple</span></span>
<span id="cb90-8"><a href="#cb90-8"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"My app title"</span>,</span>
<span id="cb90-9"><a href="#cb90-9"></a>          <span class="at">style =</span> <span class="st">"color: #711EBA;"</span>),</span>
<span id="cb90-10"><a href="#cb90-10"></a>  </span>
<span id="cb90-11"><a href="#cb90-11"></a>  <span class="co"># text color = blue; increase space between letters</span></span>
<span id="cb90-12"><a href="#cb90-12"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Section 1"</span>,</span>
<span id="cb90-13"><a href="#cb90-13"></a>          <span class="at">style =</span> <span class="st">"color: #1E4DBA; letter-spacing: 4px;"</span>),</span>
<span id="cb90-14"><a href="#cb90-14"></a>  </span>
<span id="cb90-15"><a href="#cb90-15"></a>  <span class="co"># no styling</span></span>
<span id="cb90-16"><a href="#cb90-16"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Section 2"</span>),</span>
<span id="cb90-17"><a href="#cb90-17"></a>  </span>
<span id="cb90-18"><a href="#cb90-18"></a>  <span class="co"># increase border thickness and color green; round corners </span></span>
<span id="cb90-19"><a href="#cb90-19"></a>  tags<span class="sc">$</span><span class="fu">button</span>(<span class="st">"This is a button"</span>,</span>
<span id="cb90-20"><a href="#cb90-20"></a>              <span class="at">style =</span> <span class="st">"border: 2px solid #1EBA38; border-radius: 5px"</span>)</span>
<span id="cb90-21"><a href="#cb90-21"></a>  </span>
<span id="cb90-22"><a href="#cb90-22"></a>)</span>
<span id="cb90-23"><a href="#cb90-23"></a></span>
<span id="cb90-24"><a href="#cb90-24"></a><span class="co">#.............................server.............................</span></span>
<span id="cb90-25"><a href="#cb90-25"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb90-26"><a href="#cb90-26"></a></span>
<span id="cb90-27"><a href="#cb90-27"></a><span class="co">#......................combine ui &amp; server.......................</span></span>
<span id="cb90-28"><a href="#cb90-28"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/in-line_styling.png" alt="A basic app with a large purple level 1 header that reads, 'My App', a blue level 2 header that reads, 'Section 1' with a bit of extra space between letters, an un-styled level 2 header that reads, 'Section 2', and a button with a green border that reads, 'This is a button'." width="550">
</center>
</div>
</div>
</div>
<div id="tabset-11-2">
<p class="smaller-text">
Add CSS rules to your app’s header (<code>tags$head</code>). This is a little bit better than option 1 since it allows for the reuse of rules, however, styles can’t be cached (i.e.&nbsp;saved for future usage when you reopen your app). <strong>Note:</strong> explore Google fonts <a href="https://fonts.google.com/">here</a> and check out <a href="https://ucsb-meds.github.io/customizing-quarto-websites/#/select-fonts">this slide</a> for instructions on selecting a font.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb91-2"><a href="#cb91-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb91-3"><a href="#cb91-3"></a></span>
<span id="cb91-4"><a href="#cb91-4"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb91-5"><a href="#cb91-5"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb91-6"><a href="#cb91-6"></a>  </span>
<span id="cb91-7"><a href="#cb91-7"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb91-8"><a href="#cb91-8"></a>    tags<span class="sc">$</span><span class="fu">style</span>(<span class="st">"</span></span>
<span id="cb91-9"><a href="#cb91-9"></a><span class="st">    </span></span>
<span id="cb91-10"><a href="#cb91-10"></a><span class="st">      @import url('https://fonts.googleapis.com/css2?family=Lobster&amp;display=swap');</span></span>
<span id="cb91-11"><a href="#cb91-11"></a><span class="st">    </span></span>
<span id="cb91-12"><a href="#cb91-12"></a><span class="st">      h1 {font-family: 'Lobster', cursive;}</span></span>
<span id="cb91-13"><a href="#cb91-13"></a><span class="st">      </span></span>
<span id="cb91-14"><a href="#cb91-14"></a><span class="st">      h3 {color: blue;}</span></span>
<span id="cb91-15"><a href="#cb91-15"></a><span class="st">      </span></span>
<span id="cb91-16"><a href="#cb91-16"></a><span class="st">      .wide-letters {letter-spacing: 4px;}</span></span>
<span id="cb91-17"><a href="#cb91-17"></a><span class="st">      </span></span>
<span id="cb91-18"><a href="#cb91-18"></a><span class="st">    "</span></span>
<span id="cb91-19"><a href="#cb91-19"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> styles</span></span>
<span id="cb91-20"><a href="#cb91-20"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> head</span></span>
<span id="cb91-21"><a href="#cb91-21"></a>  </span>
<span id="cb91-22"><a href="#cb91-22"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"My app title"</span>),</span>
<span id="cb91-23"><a href="#cb91-23"></a>  </span>
<span id="cb91-24"><a href="#cb91-24"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Section 1"</span>),</span>
<span id="cb91-25"><a href="#cb91-25"></a>  </span>
<span id="cb91-26"><a href="#cb91-26"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="at">class =</span> <span class="st">"wide-letters"</span>, <span class="st">"Section 2"</span>),</span>
<span id="cb91-27"><a href="#cb91-27"></a>  </span>
<span id="cb91-28"><a href="#cb91-28"></a>  tags<span class="sc">$</span><span class="fu">button</span>(<span class="st">"This is a button"</span>)</span>
<span id="cb91-29"><a href="#cb91-29"></a>  </span>
<span id="cb91-30"><a href="#cb91-30"></a>)</span>
<span id="cb91-31"><a href="#cb91-31"></a></span>
<span id="cb91-32"><a href="#cb91-32"></a><span class="co">#.............................server.............................</span></span>
<span id="cb91-33"><a href="#cb91-33"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb91-34"><a href="#cb91-34"></a></span>
<span id="cb91-35"><a href="#cb91-35"></a><span class="co">#......................combine ui &amp; server.......................</span></span>
<span id="cb91-36"><a href="#cb91-36"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/header_styling.png" alt="A basic app with a large black level 1 header written in a cursive font that reads, 'My App', a blue level 2 header that reads, 'Section 1', a blue level 2 header that reads, 'Section 2' with a bit of extra space between letters, and an un-styled button that reads, 'This is a button'." width="550">
</center>
</div>
</div>
</div>
<div id="tabset-11-3">
<p class="smaller-text">
Build a stylesheet (a <code>.css</code> file) inside your app’s <code>www/</code> directory and apply your styles to your app’s header (for shinydashboards, include your header inside <code>dashboardBody()</code>. <strong>This is the most ideal approach</strong> – it allows for style reuse, caching, and keeps styling contained in one spot. <strong>Tip:</strong> use <code>touch styles.css</code> in the terminal to create a new <code>.css</code> file.
</p>
<div class="columns">
<div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="co"># app.R</span></span>
<span id="cb92-2"><a href="#cb92-2"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb92-3"><a href="#cb92-3"></a><span class="fu">library</span>(shiny)</span>
<span id="cb92-4"><a href="#cb92-4"></a></span>
<span id="cb92-5"><a href="#cb92-5"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb92-6"><a href="#cb92-6"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb92-7"><a href="#cb92-7"></a>  </span>
<span id="cb92-8"><a href="#cb92-8"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb92-9"><a href="#cb92-9"></a>    tags<span class="sc">$</span><span class="fu">link</span>(<span class="at">rel =</span> <span class="st">"stylesheet"</span>, <span class="at">type =</span> <span class="st">"text/css"</span>, <span class="at">href =</span> <span class="st">"styles.css"</span>)</span>
<span id="cb92-10"><a href="#cb92-10"></a>  ),</span>
<span id="cb92-11"><a href="#cb92-11"></a>  </span>
<span id="cb92-12"><a href="#cb92-12"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"My app title"</span>),</span>
<span id="cb92-13"><a href="#cb92-13"></a>  </span>
<span id="cb92-14"><a href="#cb92-14"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Section 1"</span>),</span>
<span id="cb92-15"><a href="#cb92-15"></a>  </span>
<span id="cb92-16"><a href="#cb92-16"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="at">class =</span> <span class="st">"wide-letters"</span>, <span class="st">"Section 2"</span>),</span>
<span id="cb92-17"><a href="#cb92-17"></a>  </span>
<span id="cb92-18"><a href="#cb92-18"></a>  tags<span class="sc">$</span><span class="fu">button</span>(<span class="st">"This is a button"</span>)</span>
<span id="cb92-19"><a href="#cb92-19"></a>  </span>
<span id="cb92-20"><a href="#cb92-20"></a>)</span>
<span id="cb92-21"><a href="#cb92-21"></a></span>
<span id="cb92-22"><a href="#cb92-22"></a><span class="co">#.............................server.............................</span></span>
<span id="cb92-23"><a href="#cb92-23"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb92-24"><a href="#cb92-24"></a></span>
<span id="cb92-25"><a href="#cb92-25"></a><span class="co">#......................combine ui &amp; server.......................</span></span>
<span id="cb92-26"><a href="#cb92-26"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb93-1"><a href="#cb93-1"></a># www/styles<span class="fu">.R</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="co">/*import google fonts (Josephine Slab (serif) &amp; Heebo (sans serfi))*/</span></span>
<span id="cb93-3"><a href="#cb93-3"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Heebo:wght@300&amp;family=Josefin+Slab:wght@300&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb93-4"><a href="#cb93-4"></a></span>
<span id="cb93-5"><a href="#cb93-5"></a><span class="co">/* element selectors */</span></span>
<span id="cb93-6"><a href="#cb93-6"></a>h1 {</span>
<span id="cb93-7"><a href="#cb93-7"></a>  <span class="kw">font-family</span>: <span class="st">'Heebo'</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb93-8"><a href="#cb93-8"></a>  <span class="kw">color</span>: <span class="cn">#179A1F</span><span class="op">;</span> <span class="co">/* green */</span></span>
<span id="cb93-9"><a href="#cb93-9"></a>}</span>
<span id="cb93-10"><a href="#cb93-10"></a></span>
<span id="cb93-11"><a href="#cb93-11"></a>h3 {</span>
<span id="cb93-12"><a href="#cb93-12"></a>  <span class="kw">font-family</span>: <span class="st">'Josefin Slab'</span><span class="op">,</span> <span class="dv">serif</span><span class="op">;</span></span>
<span id="cb93-13"><a href="#cb93-13"></a>  <span class="kw">color</span>: <span class="cn">#CA781C</span><span class="op">;</span> <span class="co">/* orange */</span></span>
<span id="cb93-14"><a href="#cb93-14"></a>}</span>
<span id="cb93-15"><a href="#cb93-15"></a></span>
<span id="cb93-16"><a href="#cb93-16"></a>button {</span>
<span id="cb93-17"><a href="#cb93-17"></a>  <span class="kw">background-color</span>: <span class="cn">#FCF982</span><span class="op">;</span> <span class="co">/* yellow */</span></span>
<span id="cb93-18"><a href="#cb93-18"></a>}</span>
<span id="cb93-19"><a href="#cb93-19"></a></span>
<span id="cb93-20"><a href="#cb93-20"></a></span>
<span id="cb93-21"><a href="#cb93-21"></a><span class="co">/* class selectors */</span></span>
<span id="cb93-22"><a href="#cb93-22"></a><span class="fu">.wide-letters</span> {</span>
<span id="cb93-23"><a href="#cb93-23"></a>  <span class="kw">letter-spacing</span>: <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb93-24"><a href="#cb93-24"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:33%;">
<center>
<img src="images/stylesheet_styling.png" alt="A basic app with a large green level 1 header that reads, 'My App' written in a sans-serif font, an orange level 2 header that reads, 'Section 1' with a bit of extra space between letters and written in a serif font, an orange level 2 header that reads, 'Section 2' written in a serf font, and a button with a yellow background that reads, 'This is a button'." width="550">
</center>
</div>
</div>
</div>
</div>
</div>
</section><section id="inspect-webpages" class="slide level2" data-menu-title="Inspecting"><h2></h2>
<div class="slide-title-smaller">
What if I want to style an element, but don’t know how to target it?
</div>
<p class="small-text">
Oftentimes, you’ll have to do a bit of exploration to determine how to target specific elements for styling. In either your app viewer or web browser, right click on an element of interest and choose <strong>Inspect</strong> (or <strong>Inspect Element</strong>) to open up the underlying HTML and CSS. You can make temporary edits to your app (e.g.&nbsp;adding a background color, changing font sizes, etc.) to see how they look first, then copy the appropriate CSS rule into your stylesheet to apply to your app.
</p>
<center>
<img src="images/inspect_orientation.png" alt="A shiny dashboard, opened in the RStudio viewer, with the Inspect pane open to the right. The top half of the inspect pane shows the underlying HTML and the bottom half shows the underlying CSS styles." width="550">
</center>
</section><section id="inspect-dashboard" class="slide level2" data-menu-title="Inspect dashboard box"><h2></h2>
<div class="slide-title-smaller">
Inspect &amp; identify how to update box styling
</div>
<p class="smaller-text">
For example, let’s say I want to change the color of this shinydashboard’s boxes and the color of the box text.
</p>
<p class="smaller-text">
<strong>First, we need to determine which type of HTML element creates our box.</strong> Right clicking on a box and choosing <strong>Inspect Element</strong> pulls up the HTML and CSS files underlying the app. Hovering over different parts of the HTML highlights different elements in the UI. The box is highlighted when I hover over <code>&lt;div class="box-body"&gt;</code> – this tells me that boxes are formed using the <code>&lt;div&gt;</code> HTML element and they’re assigned a class called <code>box-body</code>.
</p>
<p class="smaller-text">
<strong>Next, we can (temporarily) adjust the CSS rules that style these boxes to see how they work.</strong> I can hop down to the CSS file (here, that’s located in the bottom half of my sidebar, but depending on the size of your window/layout, the HTML and CSS might be side-by-side) and find the <code>.box-body</code> class selector. You can add property/value pairs and/or update existing property values to adjust the appearance of our box. Notice that changing the <code>.box-body</code> class selector updates <strong>both</strong> boxes – upon inspecting the box containing our plot, you’ll notice that it is also of class, <code>box-body</code>. Therefore changes to this class selector will apply to both boxes. <em>This process is purely for testing purposes – refreshing your app will remove any of these changes.</em>
</p>
<center>
<img src="images/inspecting.gif" alt="" width="550">
</center>
</section><section id="write-box-css" class="slide level2" data-menu-title="Write CSS for box styling"><h2></h2>
<div class="slide-title-smaller">
Finally, apply box styling to our dashboard
</div>
<p class="small-text">
Now that we know that we can use the <code>box-body</code> class to customize the appearance of our boxes, let’s create a stylesheet and add our new rules. The <code>shinydashboard</code> framework already provides the “standard” styling for boxes, contained in the <code>box-body</code> class. Anything we specify in our own stylesheet will build upon or modify existing styling.
</p>
<p class="small-text">
Remember to create a header and link your stylesheet within <code>dashboardBody()</code> to apply our styles.
</p>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-12-1">Our updated shinydashboard</a></li>
<li><a href="#tabset-12-2"><code>styles.css</code></a></li>
<li><a href="#tabset-12-3"><code>ui.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-12-1">
<center>
<img src="images/orange-boxes.png" alt="An example shinydashboard with default colors (light blue dashboardHeader, dark blue dashboardSidebar, gray/blue dashboardBody) and two boxes, one containing a checkboxGroupInput and the other containing a scatterplot -- the box colors are colored orange, rather than the default white." width="550">
</center>
</div>
<div id="tabset-12-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb94-1"><a href="#cb94-1"></a><span class="fu">.box-body</span> {</span>
<span id="cb94-2"><a href="#cb94-2"></a>  <span class="kw">background-color</span>: <span class="cn">#FCAE82</span><span class="op">;</span> <span class="co">/* light orange */</span></span>
<span id="cb94-3"><a href="#cb94-3"></a>  <span class="kw">color</span>: <span class="cn">#6368C6</span><span class="op">;</span> <span class="co">/* purple-blue */</span></span>
<span id="cb94-4"><a href="#cb94-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-12-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb95" data-code-line-numbers="24-27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb95-2"><a href="#cb95-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb95-3"><a href="#cb95-3"></a>  </span>
<span id="cb95-4"><a href="#cb95-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb95-5"><a href="#cb95-5"></a>  <span class="at">title =</span> <span class="st">"Penguin Dashboard"</span></span>
<span id="cb95-6"><a href="#cb95-6"></a>  </span>
<span id="cb95-7"><a href="#cb95-7"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb95-8"><a href="#cb95-8"></a></span>
<span id="cb95-9"><a href="#cb95-9"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb95-10"><a href="#cb95-10"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb95-11"><a href="#cb95-11"></a>  </span>
<span id="cb95-12"><a href="#cb95-12"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb95-13"><a href="#cb95-13"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb95-14"><a href="#cb95-14"></a>    </span>
<span id="cb95-15"><a href="#cb95-15"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb95-16"><a href="#cb95-16"></a>    </span>
<span id="cb95-17"><a href="#cb95-17"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb95-18"><a href="#cb95-18"></a>  </span>
<span id="cb95-19"><a href="#cb95-19"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb95-20"><a href="#cb95-20"></a></span>
<span id="cb95-21"><a href="#cb95-21"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb95-22"><a href="#cb95-22"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb95-23"><a href="#cb95-23"></a>  </span>
<span id="cb95-24"><a href="#cb95-24"></a>  <span class="co"># link stylesheet</span></span>
<span id="cb95-25"><a href="#cb95-25"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb95-26"><a href="#cb95-26"></a>    tags<span class="sc">$</span><span class="fu">link</span>(<span class="at">rel =</span> <span class="st">"stylesheet"</span>, <span class="at">type =</span> <span class="st">"text/css"</span>, <span class="at">href =</span> <span class="st">"styles.css"</span>),</span>
<span id="cb95-27"><a href="#cb95-27"></a>  ),</span>
<span id="cb95-28"><a href="#cb95-28"></a>  </span>
<span id="cb95-29"><a href="#cb95-29"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb95-30"><a href="#cb95-30"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb95-31"><a href="#cb95-31"></a>    </span>
<span id="cb95-32"><a href="#cb95-32"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb95-33"><a href="#cb95-33"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb95-34"><a href="#cb95-34"></a>            </span>
<span id="cb95-35"><a href="#cb95-35"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb95-36"><a href="#cb95-36"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb95-37"><a href="#cb95-37"></a>              </span>
<span id="cb95-38"><a href="#cb95-38"></a>              <span class="co"># input box ----</span></span>
<span id="cb95-39"><a href="#cb95-39"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb95-40"><a href="#cb95-40"></a>                  </span>
<span id="cb95-41"><a href="#cb95-41"></a>                  <span class="fu">checkboxGroupInput</span>(</span>
<span id="cb95-42"><a href="#cb95-42"></a>                    <span class="at">inputId =</span> <span class="st">"penguin_species"</span>,</span>
<span id="cb95-43"><a href="#cb95-43"></a>                    <span class="at">label =</span> <span class="st">"Filter by species: "</span>,</span>
<span id="cb95-44"><a href="#cb95-44"></a>                    <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb95-45"><a href="#cb95-45"></a>                    <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>)</span>
<span id="cb95-46"><a href="#cb95-46"></a>                    </span>
<span id="cb95-47"><a href="#cb95-47"></a>                  ) <span class="co"># </span><span class="re">END</span><span class="co"> checkboxGroupInput</span></span>
<span id="cb95-48"><a href="#cb95-48"></a>                  </span>
<span id="cb95-49"><a href="#cb95-49"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb95-50"><a href="#cb95-50"></a>              </span>
<span id="cb95-51"><a href="#cb95-51"></a>              <span class="co"># output box ----</span></span>
<span id="cb95-52"><a href="#cb95-52"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb95-53"><a href="#cb95-53"></a>                  </span>
<span id="cb95-54"><a href="#cb95-54"></a>                  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_plot"</span>)</span>
<span id="cb95-55"><a href="#cb95-55"></a>                  </span>
<span id="cb95-56"><a href="#cb95-56"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> output box</span></span>
<span id="cb95-57"><a href="#cb95-57"></a>              </span>
<span id="cb95-58"><a href="#cb95-58"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb95-59"><a href="#cb95-59"></a>            </span>
<span id="cb95-60"><a href="#cb95-60"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb95-61"><a href="#cb95-61"></a>    </span>
<span id="cb95-62"><a href="#cb95-62"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb95-63"><a href="#cb95-63"></a>  </span>
<span id="cb95-64"><a href="#cb95-64"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb95-65"><a href="#cb95-65"></a></span>
<span id="cb95-66"><a href="#cb95-66"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb95-67"><a href="#cb95-67"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="what-about-sass" class="slide level2" data-menu-title="What about Sass?"><h2></h2>
<div class="slide-title">
What about Sass?
</div>
<p class="body-text">
Okay, we wrote and applied some CSS styling to our apps, but what about Sass? You don’t <em>need</em> to write any Sass at all, however, it provides a number of benefits, including helping to reduce repetition.
</p>
<p class="body-text">
For example, let’s say you’re working on an app that uses three primary colors throughout:
</p>
<center>
<img src="images/meds_colors.png" alt="A color palette consisting of three colors: dark blue, teal, and dark gray." width="400">
</center>
<p class="body-text topbr">
You might imagine how often you’ll need to type those HEX codes out as you developing your stylesheet…it can get annoying rather quickly.
</p>
</section><section id="sass-vars" class="slide level2" data-menu-title="Sass variables"><h2></h2>
<div class="slide-title-smaller">
We can define and reference Sass variables throughout our stylesheet
</div>
<p class="small-text">
Sass allows us to define variables (in the form <code>$var-name: value;</code>) for our colors to reference instead of writing out their HEX codes each time:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb96-1"><a href="#cb96-1"></a><span class="er">// define Sass vars </span></span>
<span id="cb96-2"><a href="#cb96-2"></a></span>
<span id="cb96-3"><a href="#cb96-3"></a>$darkblue<span class="in">: #053660;</span></span>
<span id="cb96-4"><a href="#cb96-4"></a>$teal<span class="in">: #147C91;</span></span>
<span id="cb96-5"><a href="#cb96-5"></a>$darkgray<span class="in">: #333333;</span></span>
<span id="cb96-6"><a href="#cb96-6"></a></span>
<span id="cb96-7"><a href="#cb96-7"></a><span class="er">// use vars in CSS rules</span></span>
<span id="cb96-8"><a href="#cb96-8"></a></span>
<span id="cb96-9"><a href="#cb96-9"></a>h1 {</span>
<span id="cb96-10"><a href="#cb96-10"></a>  <span class="kw">color</span>: $darkblue<span class="op">;</span></span>
<span id="cb96-11"><a href="#cb96-11"></a>}</span>
<span id="cb96-12"><a href="#cb96-12"></a></span>
<span id="cb96-13"><a href="#cb96-13"></a><span class="fu">.button-styling</span> {</span>
<span id="cb96-14"><a href="#cb96-14"></a>  <span class="kw">background</span>: $teal<span class="op">;</span></span>
<span id="cb96-15"><a href="#cb96-15"></a>  <span class="kw">color</span>: $darkblue<span class="op">;</span> </span>
<span id="cb96-16"><a href="#cb96-16"></a>  <span class="kw">border-color</span>: $darkgray<span class="op">;</span></span>
<span id="cb96-17"><a href="#cb96-17"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text">
If you decide that you actually like a <em>different</em> shade of teal better, you’ll only need to update the hex code where you first define the <code>$teal</code> Sass variable, saving lots of time.
</p>
</section><section id="sass-workflow" class="slide level2" data-menu-title="Sass workflow"><h2></h2>
<div class="slide-title-smaller">
Sass for Shiny workflow
</div>
<p class="body-text">
To style apps using both Sass <em>and</em> CSS, you’ll follow this general workflow:
</p>
<p class="small-text topbr">
<strong>1.</strong> Create a <code>.scss</code> file inside <code>~/myapp/R</code> using the <code>touch</code> command in the terminal (e.g.&nbsp;<code>cd</code> into the appropriate directory, then <code>touch styles.scss</code>). Write both your Sass variables and CSS rules in your <code>.scss</code> file (<strong>Note:</strong> you can write both Sass &amp; CSS in a <code>.scss</code> file, but <em>only</em> CSS in a <code>.css</code> file)
</p>
<p class="small-text topbr">
<strong>2.</strong> Compile (i.e.&nbsp;convert) Sass to CSS in <code>global.R</code> (or, if using a one-file app, at the top of your script before you define your UI) using the the <code>sass()</code> function from the <a href="https://rstudio.github.io/sass/index.html"><code>{sass}</code> package</a> – this will generate a <code>.css</code> file that our shiny app can actually use. Be sure to save your <code>.css</code> file to your app’s <code>/www</code> directory.
</p>
<p class="small-text topbr">
<strong>3.</strong> Apply your styles to your app by linking to to your <code>.css</code> file in your app’s header.
</p>
<center>
<img src="images/sass_to_css_workflow.png" alt="A chart showing the Sass to CSS workflow -- begin with writing Sass variables and CSS rule in a .scss file, then use the sass R package to compile sass to css, and finally use your compiled .css file to apply your styles to your app." width="750">
</center>
</section><section id="write-sass" class="slide level2" data-menu-title="Write Sass"><h2></h2>
<div class="slide-title-smaller">
Let’s build our Sass file
</div>
<p class="small-text">
We’ll practice on our <code>two-file-app</code> – first, remove any reference to your <code>bslib</code> or <code>fresh</code> themes that we practiced applying earlier so that we’re starting off with just the default shiny styling.
</p>
<div class="fragment">
<p class="small-text">
Next, create your Sass file – add a subdirectory called <code>R</code> within <code>two-file-app/</code>. Then, using your terminal, <code>cd</code> into <code>~/two-file-app/R</code> and use the <code>touch</code> command to create a <code>.scss</code> file (I’m calling mine <code>my_sass_styles.scss</code>).
</p>
</div>
<div class="fragment">
<p class="small-text">
Add Sass variables and CSS rules to <code>my_sass_styles.scss</code>:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb97-1"><a href="#cb97-1"></a><span class="er">// import 2 fonts</span></span>
<span id="cb97-2"><a href="#cb97-2"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Karma&amp;family=Prompt:wght@200&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb97-3"><a href="#cb97-3"></a></span>
<span id="cb97-4"><a href="#cb97-4"></a><span class="er">// fonts</span></span>
<span id="cb97-5"><a href="#cb97-5"></a>$font-family-serif<span class="in">: 'Karma</span>'<span class="op">,</span> serif;</span>
<span id="cb97-6"><a href="#cb97-6"></a>$font-family-sans-serif<span class="in">: 'Prompt</span>'<span class="op">,</span> sans-serif;</span>
<span id="cb97-7"><a href="#cb97-7"></a></span>
<span id="cb97-8"><a href="#cb97-8"></a><span class="er">// colors</span></span>
<span id="cb97-9"><a href="#cb97-9"></a>$green<span class="in">: #8ca376;</span></span>
<span id="cb97-10"><a href="#cb97-10"></a>$blue<span class="in">: #525cd1; </span></span>
<span id="cb97-11"><a href="#cb97-11"></a>$orange<span class="in">: #E59C5E</span>;</span>
<span id="cb97-12"><a href="#cb97-12"></a>$yellow<span class="in">: #f0eaa5</span>;</span>
<span id="cb97-13"><a href="#cb97-13"></a>$white<span class="in">: #f1f7eb</span>;</span>
<span id="cb97-14"><a href="#cb97-14"></a></span>
<span id="cb97-15"><a href="#cb97-15"></a><span class="er">// element selectors</span></span>
<span id="cb97-16"><a href="#cb97-16"></a></span>
<span id="cb97-17"><a href="#cb97-17"></a>body {</span>
<span id="cb97-18"><a href="#cb97-18"></a>  <span class="kw">background-color</span>: $green<span class="op">;</span> </span>
<span id="cb97-19"><a href="#cb97-19"></a>  <span class="kw">color</span>: $white<span class="op">;</span> </span>
<span id="cb97-20"><a href="#cb97-20"></a>}</span>
<span id="cb97-21"><a href="#cb97-21"></a></span>
<span id="cb97-22"><a href="#cb97-22"></a>h2 {</span>
<span id="cb97-23"><a href="#cb97-23"></a>  <span class="kw">letter-spacing</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb97-24"><a href="#cb97-24"></a>  <span class="kw">font-family</span>: $font-family-serif<span class="op">;</span></span>
<span id="cb97-25"><a href="#cb97-25"></a>}</span>
<span id="cb97-26"><a href="#cb97-26"></a></span>
<span id="cb97-27"><a href="#cb97-27"></a>h4 {</span>
<span id="cb97-28"><a href="#cb97-28"></a>  <span class="kw">color</span>: $blue<span class="op">;</span></span>
<span id="cb97-29"><a href="#cb97-29"></a>  <span class="kw">font-family</span>: $font-family-serif<span class="op">;</span></span>
<span id="cb97-30"><a href="#cb97-30"></a>}</span>
<span id="cb97-31"><a href="#cb97-31"></a></span>
<span id="cb97-32"><a href="#cb97-32"></a>p {</span>
<span id="cb97-33"><a href="#cb97-33"></a>  <span class="kw">font-family</span>: $font-family-sans-serif<span class="op">;</span></span>
<span id="cb97-34"><a href="#cb97-34"></a>}</span>
<span id="cb97-35"><a href="#cb97-35"></a></span>
<span id="cb97-36"><a href="#cb97-36"></a>a {</span>
<span id="cb97-37"><a href="#cb97-37"></a>  <span class="kw">color</span>: $orange<span class="op">;</span></span>
<span id="cb97-38"><a href="#cb97-38"></a>}</span>
<span id="cb97-39"><a href="#cb97-39"></a></span>
<span id="cb97-40"><a href="#cb97-40"></a><span class="er">// class selectors</span></span>
<span id="cb97-41"><a href="#cb97-41"></a></span>
<span id="cb97-42"><a href="#cb97-42"></a><span class="fu">.navbar-default</span> {</span>
<span id="cb97-43"><a href="#cb97-43"></a>  <span class="kw">background-color</span>: $yellow<span class="op">;</span></span>
<span id="cb97-44"><a href="#cb97-44"></a>}</span>
<span id="cb97-45"><a href="#cb97-45"></a></span>
<span id="cb97-46"><a href="#cb97-46"></a><span class="fu">.btn.default.active</span> {</span>
<span id="cb97-47"><a href="#cb97-47"></a>  <span class="kw">background-color</span>: $green<span class="op">;</span></span>
<span id="cb97-48"><a href="#cb97-48"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="convert-sass" class="slide level2" data-menu-title="Convert Sass to CSS"><h2></h2>
<div class="slide-title-smaller">
Then, compile Sass to CSS
</div>
<p class="small-text">
Because web browsers can only interpret CSS (not Sass), we need to compile our Sass to CSS. To do this, we can use the <code>sass()</code> function from the <a href="https://rstudio.github.io/sass/index.html"><code>{sass}</code> package</a>. We can do this in <code>global.R</code>. The <code>sass()</code> function requires two arguments: a sass file <code>input</code> and a file path + named <code>.css</code> file <code>output</code>.
</p>
<p class="small-text">
We also need to apply our styles to our app by linking this newly-generated <code>.css</code> file in our app’s header.
</p>
<p class="smaller-text">
<strong>Note:</strong> After running your app, you should see a <code>my_sass_styles.css</code> file appear in <code>www/</code> – it should look quite familiar, except all of our Sass variables have been converted to CSS.
</p>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-13-1"><code>global.R</code></a></li>
<li><a href="#tabset-13-2"><code>ui.R</code></a></li>
<li><a href="#tabset-13-3"><code>my_sass_styles.css</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-13-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb98-2"><a href="#cb98-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb98-3"><a href="#cb98-3"></a><span class="fu">library</span>(sass)</span>
<span id="cb98-4"><a href="#cb98-4"></a><span class="co"># ~ additional libraries omitted for brevity ~</span></span>
<span id="cb98-5"><a href="#cb98-5"></a></span>
<span id="cb98-6"><a href="#cb98-6"></a><span class="co"># COMPILE CSS ----</span></span>
<span id="cb98-7"><a href="#cb98-7"></a><span class="fu">sass</span>(</span>
<span id="cb98-8"><a href="#cb98-8"></a>  <span class="at">input =</span> <span class="fu">sass_file</span>(<span class="st">"R/my_sass_styles.scss"</span>),</span>
<span id="cb98-9"><a href="#cb98-9"></a>  <span class="at">output =</span> <span class="st">"www/my_sass_styles.css"</span></span>
<span id="cb98-10"><a href="#cb98-10"></a>)</span>
<span id="cb98-11"><a href="#cb98-11"></a></span>
<span id="cb98-12"><a href="#cb98-12"></a><span class="co"># ~ additional global.R objects omitted for brevity ~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a><span class="co"># navbar page ----</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb99-3"><a href="#cb99-3"></a>  </span>
<span id="cb99-4"><a href="#cb99-4"></a>  <span class="co"># add css file ----</span></span>
<span id="cb99-5"><a href="#cb99-5"></a>  <span class="at">header =</span> tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb99-6"><a href="#cb99-6"></a>    tags<span class="sc">$</span><span class="fu">link</span>(<span class="at">rel =</span> <span class="st">"stylesheet"</span>, <span class="at">type =</span> <span class="st">"text/css"</span>, <span class="at">href =</span> <span class="st">"my_sass_styles.css"</span>)</span>
<span id="cb99-7"><a href="#cb99-7"></a>  )</span>
<span id="cb99-8"><a href="#cb99-8"></a>  </span>
<span id="cb99-9"><a href="#cb99-9"></a>  <span class="co"># ~ additional UI elements omitted for brevity ~</span></span>
<span id="cb99-10"><a href="#cb99-10"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb100-1"><a href="#cb100-1"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">"https://fonts.googleapis.com/css2?family=Karma&amp;family=Prompt:wght@200&amp;display=swap"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb100-2"><a href="#cb100-2"></a>body {</span>
<span id="cb100-3"><a href="#cb100-3"></a>  <span class="kw">background-color</span>: <span class="cn">#8ca376</span><span class="op">;</span></span>
<span id="cb100-4"><a href="#cb100-4"></a>  <span class="kw">color</span>: <span class="cn">#f1f7eb</span><span class="op">;</span></span>
<span id="cb100-5"><a href="#cb100-5"></a>}</span>
<span id="cb100-6"><a href="#cb100-6"></a></span>
<span id="cb100-7"><a href="#cb100-7"></a>h2 {</span>
<span id="cb100-8"><a href="#cb100-8"></a>  <span class="kw">letter-spacing</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb100-9"><a href="#cb100-9"></a>  <span class="kw">font-family</span>: <span class="st">"Karma"</span><span class="op">,</span> <span class="dv">serif</span><span class="op">;</span></span>
<span id="cb100-10"><a href="#cb100-10"></a>}</span>
<span id="cb100-11"><a href="#cb100-11"></a></span>
<span id="cb100-12"><a href="#cb100-12"></a>h4 {</span>
<span id="cb100-13"><a href="#cb100-13"></a>  <span class="kw">color</span>: <span class="cn">#525cd1</span><span class="op">;</span></span>
<span id="cb100-14"><a href="#cb100-14"></a>  <span class="kw">font-family</span>: <span class="st">"Karma"</span><span class="op">,</span> <span class="dv">serif</span><span class="op">;</span></span>
<span id="cb100-15"><a href="#cb100-15"></a>}</span>
<span id="cb100-16"><a href="#cb100-16"></a></span>
<span id="cb100-17"><a href="#cb100-17"></a>p {</span>
<span id="cb100-18"><a href="#cb100-18"></a>  <span class="kw">font-family</span>: <span class="st">"Prompt"</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb100-19"><a href="#cb100-19"></a>}</span>
<span id="cb100-20"><a href="#cb100-20"></a></span>
<span id="cb100-21"><a href="#cb100-21"></a>a {</span>
<span id="cb100-22"><a href="#cb100-22"></a>  <span class="kw">color</span>: <span class="cn">#E59C5E</span><span class="op">;</span></span>
<span id="cb100-23"><a href="#cb100-23"></a>}</span>
<span id="cb100-24"><a href="#cb100-24"></a></span>
<span id="cb100-25"><a href="#cb100-25"></a><span class="fu">.navbar-default</span> {</span>
<span id="cb100-26"><a href="#cb100-26"></a>  <span class="kw">background-color</span>: <span class="cn">#f0eaa5</span><span class="op">;</span></span>
<span id="cb100-27"><a href="#cb100-27"></a>}</span>
<span id="cb100-28"><a href="#cb100-28"></a></span>
<span id="cb100-29"><a href="#cb100-29"></a><span class="fu">.btn.default.active</span> {</span>
<span id="cb100-30"><a href="#cb100-30"></a>  <span class="kw">background-color</span>: <span class="cn">#8ca376</span><span class="op">;</span></span>
<span id="cb100-31"><a href="#cb100-31"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="sassy-app" class="slide level2" data-menu-title="Sass/CSS-styled app"><h2></h2>
<div class="slide-title-smaller">
Once your stylesheet is applied, it should look like this:
</div>
<!-- <center><img src="images/tbd.png" alt="" width="550"/></center> -->
</section><section id="4-improving-ux" class="slide level2" data-menu-title="!! (4) Improving UX !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 4: Improving your app’s user experience (UX)
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Important UX considerations
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Web accessibility
</p>
</section><section id="UX-UI" class="slide level2" data-menu-title="~~~ UX/UI Design ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Users" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Users</title>
<path d="M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"></path></svg> UX/UI matters
</p>
<p class="caption-text">
<em>When designing your app, it’s critically important that you consider your user’s needs and how they will interact with your app – it doesn’t matter how innovative you back-end computations are if people don’t understand how to use your app!</em>
</p>
</div>
</section><section id="LO-ux-design" class="slide level2" data-menu-title="Learning Objectives - UX/UI Design"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - UX/UI Design
</div>
<p class="medium-body-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> have a checklist of considerations to reference each time you build an app
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> have a few additional resources to dive deeper into UX/UI design
</p>
</div>
</section><section id="UX-UI-design-tips" class="slide level2" data-menu-title="Tips for UX/UI design"><h2></h2>
<div class="slide-title">
Tips for designing your Shiny apps
</div>
<p class="body-text">
<a href="https://engineering-shiny.org/ux-matters.html">Chapters 6</a> and <a href="https://engineering-shiny.org/dont-rush-into-coding.html">7</a> of <a href="https://engineering-shiny.org/index.html">Engineering Production-Grade Shiny Apps</a>, by Colin Fay, Sébastien Rochette, Vincent Guyader, and Cervan Girard provide a list of considerations as you embark on your app-building journey. Some of their suggestions are summarized below, but check out the book for greater detail, examples, and additional considerations:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Simplicity is gold:</strong> using the application shouldn’t require reading a manual, and interfaces should be as self-explanatory as possible.
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Adapt a defensive programming mindset:</strong> your app should always fail gracefully and informatively (e.g.&nbsp;provide users with a helpful error message)
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Build a self-explanatory app:</strong> consider the following three suggestions for doing so – <strong>(a)</strong> remember the rule of least surprise (in UI design, always do the least surprising thing e.g.&nbsp;we often assume that underlined text is clickable, so if you include underlined text in your UI, there’s a good chance a user will try clicking on it). <strong>(b)</strong> think about progression (design a clear pattern of moving forward for your user), and <strong>(c)</strong> related to <strong>b</strong>, make sure that if an input is necessary, it is made clear to your user. Check out the <a href="https://deanattali.com/shinyjs/"><code>{shinyjs}</code> package</a> for implementing nifty ways to improve the user experience of your shiny apps.
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Avoid feature-creep:</strong> feature-creep is the process of adding features to an app that complicates its usage and maintenance – this includes adding too much <em>reactivity</em> and too much <em>interactivity</em> (e.g.&nbsp;<code>plotly</code>) – interactivity adds visual noise, so it’s best to not make elements interactive if there is no value is gained.
</p>
</div>
</section><section id="UX-UI-resources" class="slide level2" data-menu-title="UX/UI resources"><h2></h2>
<div class="slide-title">
Additional UX/UI resources
</div>
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://unleash-shiny.rinterface.com/index.html">Outstanding User Interfaces with Shiny</a>, by <a href="https://divadnojnarg.github.io/">David Granjon</a>
</p>
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://www.youtube.com/watch?v=mxvMaoXOm70">Shiny Developer Series, Episode 20: Outstanding User Interfaces with David Granjon</a>
</p>
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://pathumpmgux.medium.com/15-user-experience-principles-and-theories-80f19877bd5">15 User Experience Principles and Theories</a>, by <a href="https://pathumpmgux.medium.com/">Pathum Goonawardene</a>
</p>
</section><section id="accessibility" class="slide level2" data-menu-title="~~~ Accessibility ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Universal Access" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Universal Access</title>
<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM161.5 169.9c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3v50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6V235.5c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40s17.9 40 40 40z"></path></svg> Building accessible apps
</p>
<p class="caption-text">
<em>Consider web accessibilty guidelines to ensure that your app is usable by all</em>
</p>
</div>
</section><section id="LO-accessibility" class="slide level2" data-menu-title="Learning Objectives - Accessibility"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - Accessibility
</div>
<p class="medium-body-text bottombr">
By the end of this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> have a general understanding of what web accessibility means and who it can benefit (spoiler alert: it benefits us all!)
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> know how to make a few small tweaks/updates to your application to make it more accessible for all users
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> have a few great resources to turn to to learn more
</p>
</div>
</section><section id="what-is-accessibility" class="slide level2" data-menu-title="What is web accessibility?"><h2></h2>
<div class="slide-title">
<svg aria-label="Universal Access" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Universal Access</title>
<path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM161.5 169.9c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3v50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6V235.5c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40s17.9 40 40 40z"></path></svg> What is web accessibility and why is it important?
</div>
<p class="body-text">
From the <a href="https://www.w3.org/">World Wide Web Consortium (W3C)</a>’s <a href="https://www.w3.org/WAI/fundamentals/accessibility-intro/">Introduction to Web Accessibility</a>:
</p>
<div class="quote-text-bg">
<p class="small-text">
Web accessibility means that websites, tools, and technologies are designed and developed so that people with disabilities can use them. More specifically, people can:
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> perceive, understand, navigate, and interact with the Web
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> contribute to the Web
</p>
<p class="small-text">
Web accessibility encompasses all disabilities that affect access to the Web, including: auditory, cognitive, neurological, physical, speech, and visual
</p>
<p class="small-text">
Web accessibility also benefits people without disabilities, for example:
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> people using mobile phones, smart watches, smart TVs, and other devices with small screens, different input modes, etc.
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> older people with changing abilities due to ageing
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> people with “temporary disabilities” such as a broken arm or lost glasses
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> people with “situational limitations” such as in bright sunlight or in an environment where they cannot listen to audio
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> people using a slow Internet connection, or who have limited or expensive bandwidth
</p>
</div>
<p class="body-text">
Check out the <a href="https://www.a11yproject.com/">A11Y Project</a> for lots of great tutorials and information about web accessibility.
</p>
</section><section id="small-steps" class="slide level2" data-menu-title="Small steps help!"><h2></h2>
<div class="slide-title">
Small changes can lead to tangible increases in functionality for all users
</div>
<p class="body-text bottombr">
Ensuring that your shiny apps are accessible can feel overwhelming – but considering even a few small changes can have a large impact on user experience.
</p>
<p class="body-text topbr bottombr">
The following suggestions have been borrowed and adapted from <a href="https://engineering-shiny.org/ux-matters.html#web-accessibility">Ch. 6.3 - Web Accessibility</a> from <a href="https://engineering-shiny.org/index.html">Engineering Production-Grade Shiny Apps</a>, by Colin Fay, Sèbastien Rochette, Vincent Guyader, &amp; Cervan Girard:
</p>
<div class="columns">
<div class="column" style="width:45%;">
<br><p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Use HTML elements appropriately (e.g.&nbsp;consider hierarchy)
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Include alt text for graphical elements
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Consider navigation from a mobility perspective
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Use colorblind-friendly palettes
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/web-access.png" alt="In the center, we see a computer monitor with the world wide web symbol on the screen. There is a circle around the computer made up of four smaller circles, each containing on of the following symbols: and eye, a hand with a finger touching something, a human head with a brain, and an ear." width="650">
</center>
<center>
<p class="smaller-text gray-text">
Image Source: <a href="https://accessibilityspark.com/9-awesome-web-accessibility-tools/">Accessibility Stack</a>
</p>
</center>
</div>
</div>
</section><section id="hierarchy" class="slide level2" data-menu-title="Heirarchy"><h2></h2>
<div class="slide-title-smaller">
Use HTML elements appropriately
</div>
<p class="small-text bottombr">
<strong>Screen readers use HTML elements to understand web page organization.</strong> Header elements create hierarchy within a webpage and are used by screen readers (i.e.&nbsp;devices used by those with visual impairments) to understand a page’s organizational structure. An <code>&lt;h1&gt;</code> element is more important (hierarchically speaking) than an <code>&lt;h2&gt;</code>, which is more important than an <code>&lt;h3&gt;</code>, and so on.
</p>
<div class="fragment">
<div class="columms">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="co"># load packages ----</span></span>
<span id="cb101-2"><a href="#cb101-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb101-3"><a href="#cb101-3"></a></span>
<span id="cb101-4"><a href="#cb101-4"></a><span class="co"># user interface ----</span></span>
<span id="cb101-5"><a href="#cb101-5"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb101-6"><a href="#cb101-6"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"This is my app's title"</span>),</span>
<span id="cb101-7"><a href="#cb101-7"></a>  </span>
<span id="cb101-8"><a href="#cb101-8"></a>  tags<span class="sc">$</span><span class="fu">h2</span>(<span class="st">"Section 1"</span>),</span>
<span id="cb101-9"><a href="#cb101-9"></a>  </span>
<span id="cb101-10"><a href="#cb101-10"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Sub-section a"</span>),</span>
<span id="cb101-11"><a href="#cb101-11"></a>  </span>
<span id="cb101-12"><a href="#cb101-12"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Sub-section b"</span>),</span>
<span id="cb101-13"><a href="#cb101-13"></a>  </span>
<span id="cb101-14"><a href="#cb101-14"></a>  tags<span class="sc">$</span><span class="fu">h3</span>(<span class="st">"Sub-section c"</span>),</span>
<span id="cb101-15"><a href="#cb101-15"></a>  </span>
<span id="cb101-16"><a href="#cb101-16"></a>  tags<span class="sc">$</span><span class="fu">h2</span>(<span class="st">"Section 2"</span>),</span>
<span id="cb101-17"><a href="#cb101-17"></a>)</span>
<span id="cb101-18"><a href="#cb101-18"></a></span>
<span id="cb101-19"><a href="#cb101-19"></a><span class="co"># server instructions ----</span></span>
<span id="cb101-20"><a href="#cb101-20"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb101-21"><a href="#cb101-21"></a></span>
<span id="cb101-22"><a href="#cb101-22"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb101-23"><a href="#cb101-23"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<p><br></p>
<p class="small-text topbr">
Ideally, you would only have one <code>&lt;h1&gt;</code> element (e.g.&nbsp;your app’s <strong>title</strong>), a small number of <code>&lt;h2&gt;</code> elements, more <code>&lt;h3&gt;</code> elements, and so on. See the minimal example, to the left.
</p>
<p class="small-text topbr">
You <em>should not</em> rely on headers for styling purposes – for example, you should not use a level-one header elsewhere in your app just because you want larger text. Instead, use CSS to increase text size (refer to the <a href="https://ucsb-meds.github.io/customizing-quarto-websites/#/title-slide">Customizing Quarto Websites</a> workshop for <a href="https://ucsb-meds.github.io/customizing-quarto-websites/#/selector-types">instruction on how to construct CSS selectors</a> for styling HTML elements).
</p>
</div>
</div>
</div>
</section><section id="alt-text" class="slide level2" data-menu-title="Alt text"><h2></h2>
<div class="slide-title-smaller">
Include alt text with all graphical elements
</div>
<p class="body-text bottombr">
All images and graphical elements should include <strong>alternative (alt) text</strong> that describe the image and/or information being represented. This text won’t appear in the UI, but is detected and read by screen readers.
</p>
<div class="fragment">
<p class="small-text">
Include the <code>alt</code> argument (similar to adding the <code>alt</code> attribute to an HTML element) when using <a href="https://shiny.rstudio.com/reference/shiny/1.7.1/renderplot"><code>renderPlot()</code></a> to add alt text to your reactive plots – the <code>alt</code> argument lives <em>outside</em> of the <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> but inside the <code>()</code>. For example:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="co"># in your server</span></span>
<span id="cb102-2"><a href="#cb102-2"></a><span class="fu">renderPlot</span>({</span>
<span id="cb102-3"><a href="#cb102-3"></a></span>
<span id="cb102-4"><a href="#cb102-4"></a>    <span class="fu">ggplot</span>(<span class="fu">data</span>(), <span class="fu">aes</span>(<span class="at">x =</span> var1, <span class="at">y =</span> var2)) <span class="sc">+</span> </span>
<span id="cb102-5"><a href="#cb102-5"></a>      <span class="fu">geom_point</span>() </span>
<span id="cb102-6"><a href="#cb102-6"></a>    </span>
<span id="cb102-7"><a href="#cb102-7"></a>  }, <span class="at">alt =</span> <span class="st">"Alt text description"</span></span>
<span id="cb102-8"><a href="#cb102-8"></a>  </span>
<span id="cb102-9"><a href="#cb102-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p class="small-text">
Similarly, use the <code>alt</code> argument within <code>tags$img</code> when adding static images to your app. For example:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="co"># in your UI</span></span>
<span id="cb103-2"><a href="#cb103-2"></a>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"file/path/to/img"</span>,</span>
<span id="cb103-3"><a href="#cb103-3"></a>         <span class="at">width =</span> <span class="st">"100px"</span>, <span class="at">height =</span> <span class="st">"100px"</span>,</span>
<span id="cb103-4"><a href="#cb103-4"></a>         <span class="at">alt =</span> <span class="st">"Alt text for image"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="alt-text-tips" class="slide level2" data-menu-title="Alt text tips"><h2></h2>
<div class="slide-title-smaller">
Tips on writing alt text for data visualizations
</div>
<p class="body-text">
A good rule of thumb for writing alt text for data visualizations is <em>alt=“<span style="background-color: #F9C9C8;">Chart type</span> of <span style="background-color: #FDC790;">type of data</span> where <span style="background-color: #D1EAEE;">reason for including chart</span>”</em> (see <a href="https://medium.com/nightingale/writing-alt-text-for-data-visualization-2a218ef43f81#:~:text=Alt%20text%20">this post</a> by <a href="https://www.amycesal.com/">Amy Cesal</a> for more). One example:
</p>
<center>
<img src="images/alt-ex.png" alt="Bar chart of gun murders per 100,000 people where America's murder rate is 6 times worse than Canada, and 30 times Australia." width="550">
</center>
<p class="body-text">
<em>alt=“<span style="background-color: #F9C9C8;">Bar chart</span> of <span style="background-color: #FDC790;">gun murders per 100,000 people</span> where <span style="background-color: #D1EAEE;">America’s murder rate is 6 times worse than Canada, and 30 times Australia</span>”</em>
</p>
<p class="small-text topbr">
For more great tips on how and when to use alt text, check out this article by the <a href="https://www.a11yproject.com/posts/alt-text/">A11Y Project</a>. For examples of how to construct good alt text, take a peek at this resource by <a href="https://academy.datawrapper.de/article/330-how-to-write-good-alternative-descriptions-for-your-data-visualization">Datawrapper</a>.
</p>
</section><section id="mobility" class="slide level2" data-menu-title="Mobility"><h2></h2>
<div class="slide-title">
Consider UI navigation for those with mobility impairments
</div>
<p class="small-text">
For users with mobility impairments, using a mouse to navigate a UI packed with widgets may be challenging – some users may even be exclusively using a keyboard to navigate the web.
</p>
<p class="small-text topbr">
Ideally, actions required of your user can be done using a keyboard (e.g.&nbsp;pressing a button in the UI) – however from a new shiny developer standpoint, this may be technically challenging to implement (the authors of Engineering Production-Grade Shiny Apps <a href="https://engineering-shiny.org/ux-matters.html#c.-navigation">suggest</a> the <a href="https://github.com/JohnCoene/nter"><code>{nter}</code> package</a> for building shiny action buttons that can be triggered by pressing <code>enter</code>, however, at the time of building this workshop, the package source code hadn’t been updated since 2019).
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<p class="small-text topbr">
<strong>At a minimum, consider spacing out and/or limiting the number of widgets on any given page to make navigation with a mouse as easy as possible.</strong>
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/keyboard_mouse.gif" alt="A computer mouse and keyboard that's animated to show the left mouse button clicking and the left-hand side shift button being pressed." width="350">
</center>
</div>
</div>
</section><section id="color-palettes" class="slide level2" data-menu-title="Color Palettes"><h2></h2>
<div class="slide-title">
Use colorblind-friendly palettes
</div>
<p class="small-text">
About 1 in 12 males and 1 in 200 females have some form of colorblindness (<a href="https://en.wikipedia.org/wiki/Color_blindness">Wikipedia</a>). Ensuring that your color choices are distinguishable from one another and/or providing an additional non-color-based way (e.g.&nbsp;patterns, shapes) of distinguishing between treatments/variables/etc. can greatly help with interpretation of data visualizations.
</p>
<p class="small-text">
There are lots of great colorblind-accessible palettes and resources (check out <a href="https://www.nceas.ucsb.edu/sites/default/files/2022-06/Colorblind%20Safe%20Color%20Schemes.pdf">this one</a> by <a href="https://www.alexandraatleephillips.com/">Alex Phillips</a> to start). Google Chrome also has a built-in vision deficiency emulator (see gif, below right; right click in your web browser &gt; Inspect &gt; Rendering (add tab by clicking on the three stacked dots if it’s not already open) &gt; scroll down and choose emulation type from drop down where it says “Emulate vision deficiencies”).
</p>
<div class="columns">
<div class="column" style="width:45%;">
<br><center>
<img src="images/color-blind.png" alt="Four color palette wheels showing the difference in perceived colors for those with normal vision, protanopia, deuteranopia, and tritanopia." width="550">
</center>
<center>
<p class="smaller-text gray-text">
Four different forms of colorblindness. Image Source: <a href="https://venngage.com/blog/color-blind-friendly-palette/">Venngage</a>
</p>
</center>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/chrome-visual.gif" alt="A gif of a user opening up the developer tools pane in Google Chrome and emulating how users with various vision deficiencies would see the webpage." width="550">
</center>
<center>
<p class="smaller-text gray-text">
Using Google Chrome’s vision deficiency emulator to view webpages as seen by those with vision deficiencies
</p>
</center>
</div>
</div>
</section><section id="5-debugging-testing" class="slide level2" data-menu-title="!! (5) Debugging &amp; Testing !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 5: Debugging &amp; testing
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Debugging approaches
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Testing apps
</p>
</section><section id="debugging" class="slide level2" data-menu-title="~~~ Debugging ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Bug" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Bug</title>
<path d="M256 0c53 0 96 43 96 96v3.6c0 15.7-12.7 28.4-28.4 28.4H188.4c-15.7 0-28.4-12.7-28.4-28.4V96c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4H312c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H416c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6V240c0-8.8-7.2-16-16-16s-16 7.2-16 16V479.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96.3c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"></path></svg> Debugging
</p>
<p class="caption-text">
<em>Like any code, you’re bound to run into errors as you’re developing your shiny app(s). However, Shiny can be particularly challenging to debug. In this section, we’ll review a few approaches for solving pesky issues.</em>
</p>
</div>
</section><section id="LO-debugging" class="slide level2" data-menu-title="Learning Objectives - Debugging"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - Debugging
</div>
<p class="medium-body-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> tbd
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
New packages used:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://rstudio.github.io/reactlog/">reactlog</a>: tbd
</p>
</div>
</section><section id="debugging-challenges" class="slide level2" data-menu-title="Debugging is challenging"><h2></h2>
<div class="slide-title">
Debugging can be challenging
</div>
<p class="body-text">
Shiny apps can be particularly challenging to debug for a few reasons:
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Shiny is <strong>reactive</strong>, so code execution isn’t as linear as other code that you’re likely more familiar with (e.g.&nbsp;analytical pipelines written in “normal” R scripts, where each line of code is executed in succession)
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Shiny code runs behind a web server <em>and</em> the Shiny framework itself, which can obscure what’s going on
</p>
<p><br></p>
<div class="fragment">
<p class="body-text">
While there are a number of different tools/strategies for debugging Shiny apps, I find myself turning to one (or more) of these approaches most often:
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> isolating problematic code by commenting out as much correctly-functioning code as possible
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> adding messages to my reactives
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> using <code>reactlog</code> to trace errors
</p>
<p><br></p>
</div>
<div class="fragment">
<p class="body-text">
We’ll touch on each of these, briefly, but be sure to check out the Shiny article, <a href="https://shiny.rstudio.com/articles/debugging.html">Debugging Shiny applications</a> and <a href="https://mastering-shiny.org/action-workflow.html#debugging">Mastering Shiny Ch. 5.2</a>, by Hadley Wickham for more approaches, details, and examples.
</p>
</div>
</section><section id="non-buggy-app" class="slide level2" data-menu-title="A correctly functioning app"><h2></h2>
<div class="slide-title">
I’m building an app that should look like this…
</div>
<p class="small-text">
In <strong>Tab 1</strong>, both the image and text should update whenever a new radio button is chosen. In <strong>Tab 2</strong>, the scatterplot should update so that only data points for penguins with body masses within our chosen range are displayed. <strong>Find the source code for this functioning app <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/reactlog-working">here</a>.</strong>
</p>
<center>
<img src="images/working-app.gif" alt="A functioning shiny app with two tabs. The first tab has radioButtons that when selected, update the penguin image and description text. The second tab has a sliderInput and scatterplot." width="650">
</center>
</section><section id="buggy-app" class="slide level2" data-menu-title="A buggy app"><h2></h2>
<div class="slide-title">
…but let’s say it actually looks like this:
</div>
<p class="small-text">
In <strong>Tab 1</strong>, only the image updates whenever a new radio button is chosen, and text is missing altogether. In <strong>Tab 2</strong>, the scatterplot updates as expected whenever the body mass range is changed. <strong>Find the source code for this buggy app <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/reactlog-broken">here</a>.</strong>
</p>
<center>
<img src="images/buggy-app.gif" alt="The same shiny app as on the previous slide, but this time when the radioButtons are updated, only the image changes -- no text appears." width="650">
</center>
</section><section id="comment-out-code" class="slide level2" data-menu-title="Comment out code"><h2></h2>
<div class="slide-title-smaller">
Start by commenting out functioning code
</div>
<p class="small-text">
Even though this is a relatively small/simple app, there is still code that, for lack of a better term, gets in the way. After a quick assessment, my reactive scatterplot on Tab 2 appears to be working as expected. To help simplify the amount of code I need to look at, I’ll start by commenting out all UI elements (<code>sliderInput</code> &amp; <code>plotOutput</code>) and server logic for building that reactive plot.
</p>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-14-1"><code>app.R</code></a></li>
<li><a href="#tabset-14-2">app preview</a></li>
</ul>
<div class="tab-content">
<div id="tabset-14-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="co"># load packages ----</span></span>
<span id="cb104-2"><a href="#cb104-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb104-3"><a href="#cb104-3"></a><span class="fu">library</span>(reactlog)</span>
<span id="cb104-4"><a href="#cb104-4"></a></span>
<span id="cb104-5"><a href="#cb104-5"></a><span class="co"># ui ----</span></span>
<span id="cb104-6"><a href="#cb104-6"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb104-7"><a href="#cb104-7"></a>  </span>
<span id="cb104-8"><a href="#cb104-8"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb104-9"><a href="#cb104-9"></a>    </span>
<span id="cb104-10"><a href="#cb104-10"></a>    <span class="co"># tab 1 ----</span></span>
<span id="cb104-11"><a href="#cb104-11"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb104-12"><a href="#cb104-12"></a>             </span>
<span id="cb104-13"><a href="#cb104-13"></a>             <span class="co"># radio button input ----</span></span>
<span id="cb104-14"><a href="#cb104-14"></a>             <span class="fu">radioButtons</span>(</span>
<span id="cb104-15"><a href="#cb104-15"></a>               <span class="at">inputId =</span> <span class="st">"img"</span>, <span class="at">label =</span> <span class="st">"Choose a penguin to display:"</span>,</span>
<span id="cb104-16"><a href="#cb104-16"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"All penguins"</span>, <span class="st">"Sassy chinstrap"</span>, <span class="st">"Staring gentoo"</span>, <span class="st">"Adorable adelie"</span>),</span>
<span id="cb104-17"><a href="#cb104-17"></a>               <span class="at">selected =</span> <span class="st">"All penguins"</span>),</span>
<span id="cb104-18"><a href="#cb104-18"></a>             </span>
<span id="cb104-19"><a href="#cb104-19"></a>             <span class="co"># text output ----</span></span>
<span id="cb104-20"><a href="#cb104-20"></a>             <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text"</span>),</span>
<span id="cb104-21"><a href="#cb104-21"></a>             </span>
<span id="cb104-22"><a href="#cb104-22"></a>             <span class="co"># img output ----</span></span>
<span id="cb104-23"><a href="#cb104-23"></a>             <span class="fu">imageOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_img"</span>)</span>
<span id="cb104-24"><a href="#cb104-24"></a>             </span>
<span id="cb104-25"><a href="#cb104-25"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> tab 1</span></span>
<span id="cb104-26"><a href="#cb104-26"></a>    </span>
<span id="cb104-27"><a href="#cb104-27"></a>    <span class="co"># tab 2 ----</span></span>
<span id="cb104-28"><a href="#cb104-28"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span><span class="co">#,</span></span>
<span id="cb104-29"><a href="#cb104-29"></a>             </span>
<span id="cb104-30"><a href="#cb104-30"></a>             <span class="co"># # body mass slider input ----</span></span>
<span id="cb104-31"><a href="#cb104-31"></a>             <span class="co"># sliderInput(inputId = "body_mass", label = "Select a range of body masses (g)",</span></span>
<span id="cb104-32"><a href="#cb104-32"></a>             <span class="co">#             min = 2700, max = 6300, value = c(3000, 4000)),</span></span>
<span id="cb104-33"><a href="#cb104-33"></a>             </span>
<span id="cb104-34"><a href="#cb104-34"></a>             <span class="co"># # body mass plot output ----</span></span>
<span id="cb104-35"><a href="#cb104-35"></a>             <span class="co"># plotOutput(outputId = "bodyMass_scatterPlot")</span></span>
<span id="cb104-36"><a href="#cb104-36"></a>             </span>
<span id="cb104-37"><a href="#cb104-37"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> tab 2</span></span>
<span id="cb104-38"><a href="#cb104-38"></a>    </span>
<span id="cb104-39"><a href="#cb104-39"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb104-40"><a href="#cb104-40"></a>  </span>
<span id="cb104-41"><a href="#cb104-41"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb104-42"><a href="#cb104-42"></a></span>
<span id="cb104-43"><a href="#cb104-43"></a></span>
<span id="cb104-44"><a href="#cb104-44"></a><span class="co"># server ----</span></span>
<span id="cb104-45"><a href="#cb104-45"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb104-46"><a href="#cb104-46"></a>  </span>
<span id="cb104-47"><a href="#cb104-47"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb104-48"><a href="#cb104-48"></a>  output<span class="sc">$</span>penguins_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb104-49"><a href="#cb104-49"></a>    </span>
<span id="cb104-50"><a href="#cb104-50"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb104-51"><a href="#cb104-51"></a>      <span class="st">"Meet all of our lovely penguins species!"</span></span>
<span id="cb104-52"><a href="#cb104-52"></a>    }</span>
<span id="cb104-53"><a href="#cb104-53"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb104-54"><a href="#cb104-54"></a>      <span class="st">"Chinstraps get their name from the thin black line that runs under their chins"</span></span>
<span id="cb104-55"><a href="#cb104-55"></a>    }</span>
<span id="cb104-56"><a href="#cb104-56"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb104-57"><a href="#cb104-57"></a>      <span class="st">"Gentoos stand out because of their bright orange bills and feet"</span></span>
<span id="cb104-58"><a href="#cb104-58"></a>    }</span>
<span id="cb104-59"><a href="#cb104-59"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb104-60"><a href="#cb104-60"></a>      <span class="st">"Adelie penguins are my personal favorite &lt;3"</span></span>
<span id="cb104-61"><a href="#cb104-61"></a>    }</span>
<span id="cb104-62"><a href="#cb104-62"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> renderText</span></span>
<span id="cb104-63"><a href="#cb104-63"></a>  </span>
<span id="cb104-64"><a href="#cb104-64"></a>  </span>
<span id="cb104-65"><a href="#cb104-65"></a>  <span class="co"># render penguin images ----</span></span>
<span id="cb104-66"><a href="#cb104-66"></a>  output<span class="sc">$</span>penguin_img <span class="ot">&lt;-</span> <span class="fu">renderImage</span>({</span>
<span id="cb104-67"><a href="#cb104-67"></a>    </span>
<span id="cb104-68"><a href="#cb104-68"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb104-69"><a href="#cb104-69"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/all_penguins.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb104-70"><a href="#cb104-70"></a>    }</span>
<span id="cb104-71"><a href="#cb104-71"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb104-72"><a href="#cb104-72"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/chinstrap.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb104-73"><a href="#cb104-73"></a>    }</span>
<span id="cb104-74"><a href="#cb104-74"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb104-75"><a href="#cb104-75"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/gentoo.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb104-76"><a href="#cb104-76"></a>    }</span>
<span id="cb104-77"><a href="#cb104-77"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb104-78"><a href="#cb104-78"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/adelie.gif"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb104-79"><a href="#cb104-79"></a>    }</span>
<span id="cb104-80"><a href="#cb104-80"></a>    </span>
<span id="cb104-81"><a href="#cb104-81"></a>  }, <span class="at">deleteFile =</span> <span class="cn">FALSE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> renderImage</span></span>
<span id="cb104-82"><a href="#cb104-82"></a>  </span>
<span id="cb104-83"><a href="#cb104-83"></a>  </span>
<span id="cb104-84"><a href="#cb104-84"></a>  <span class="co"># # filter body masses ----</span></span>
<span id="cb104-85"><a href="#cb104-85"></a>  <span class="co"># body_mass_df &lt;- reactive({</span></span>
<span id="cb104-86"><a href="#cb104-86"></a>  <span class="co">#   penguins |&gt;</span></span>
<span id="cb104-87"><a href="#cb104-87"></a>  <span class="co">#     filter(body_mass_g %in% input$body_mass[1]:input$body_mass[2]) # return observations where body_mass_g is "in" the set of options provided by the user in the sliderInput</span></span>
<span id="cb104-88"><a href="#cb104-88"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> filter body masses</span></span>
<span id="cb104-89"><a href="#cb104-89"></a>  </span>
<span id="cb104-90"><a href="#cb104-90"></a>  </span>
<span id="cb104-91"><a href="#cb104-91"></a>  <span class="co"># # render the scatterplot output ----</span></span>
<span id="cb104-92"><a href="#cb104-92"></a>  <span class="co"># output$bodyMass_scatterPlot &lt;- renderPlot({</span></span>
<span id="cb104-93"><a href="#cb104-93"></a>  <span class="co">#   </span></span>
<span id="cb104-94"><a href="#cb104-94"></a>  <span class="co">#   ggplot(na.omit(body_mass_df()),</span></span>
<span id="cb104-95"><a href="#cb104-95"></a>  <span class="co">#          aes(x = flipper_length_mm, y = bill_length_mm,</span></span>
<span id="cb104-96"><a href="#cb104-96"></a>  <span class="co">#              color = species, shape = species)) +</span></span>
<span id="cb104-97"><a href="#cb104-97"></a>  <span class="co">#     geom_point() +</span></span>
<span id="cb104-98"><a href="#cb104-98"></a>  <span class="co">#     scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +</span></span>
<span id="cb104-99"><a href="#cb104-99"></a>  <span class="co">#     scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +</span></span>
<span id="cb104-100"><a href="#cb104-100"></a>  <span class="co">#     labs(x = "Flipper length (mm)", y = "Bill length (mm)",</span></span>
<span id="cb104-101"><a href="#cb104-101"></a>  <span class="co">#          color = "Penguin species", shape = "Penguin species") +</span></span>
<span id="cb104-102"><a href="#cb104-102"></a>  <span class="co">#     theme_minimal() +</span></span>
<span id="cb104-103"><a href="#cb104-103"></a>  <span class="co">#     theme(legend.position = c(0.85, 0.2),</span></span>
<span id="cb104-104"><a href="#cb104-104"></a>  <span class="co">#           legend.background = element_rect(color = "white"))</span></span>
<span id="cb104-105"><a href="#cb104-105"></a>  <span class="co">#   </span></span>
<span id="cb104-106"><a href="#cb104-106"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> render scatterplot</span></span>
<span id="cb104-107"><a href="#cb104-107"></a>  </span>
<span id="cb104-108"><a href="#cb104-108"></a>  </span>
<span id="cb104-109"><a href="#cb104-109"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb104-110"><a href="#cb104-110"></a></span>
<span id="cb104-111"><a href="#cb104-111"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb104-112"><a href="#cb104-112"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-14-2">
<center>
<img src="images/commented-out-code.gif" alt="The same app as on the previous slides, except the sliderInput and scatterplot code has been commented out so that those elements don't appear when the app is run." width="650">
</center>
</div>
</div>
</div>
</section><section id="add-messages" class="slide level2" data-menu-title="Add messages to reactives"><h2></h2>
<div class="slide-title-smaller">
Next, add messages to your reactives
</div>
<p class="small-text">
You can insert diagnostic messages within your reactives using <code><a href="https://rdrr.io/r/base/message.html">message()</a></code> – here, I add a short message where each text and image output should be rendered. I can run my app and see messages successfully (or in the case of a broken app, unsuccessfully) print in my RStudio console as I interact with the app. You’ll notice that the each image message (e.g.&nbsp;<em>“Displaying all penguins image”</em>) prints, but those associated with the text outputs do not. This tells me that code is not being executed, beginning with first <code>if</code> statement inside <code>renderText</code>.
</p>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-15-1"><code>app.R</code></a></li>
<li><a href="#tabset-15-2">app + RStudio console preview</a></li>
</ul>
<div class="tab-content">
<div id="tabset-15-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb105" data-code-line-numbers="51|55|59|63|73|77|81|85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="co"># load packages ----</span></span>
<span id="cb105-2"><a href="#cb105-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb105-3"><a href="#cb105-3"></a><span class="fu">library</span>(reactlog)</span>
<span id="cb105-4"><a href="#cb105-4"></a></span>
<span id="cb105-5"><a href="#cb105-5"></a><span class="co"># ui ----</span></span>
<span id="cb105-6"><a href="#cb105-6"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb105-7"><a href="#cb105-7"></a>  </span>
<span id="cb105-8"><a href="#cb105-8"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb105-9"><a href="#cb105-9"></a>    </span>
<span id="cb105-10"><a href="#cb105-10"></a>    <span class="co"># tab 1 ----</span></span>
<span id="cb105-11"><a href="#cb105-11"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb105-12"><a href="#cb105-12"></a>             </span>
<span id="cb105-13"><a href="#cb105-13"></a>             <span class="co"># radio button input ----</span></span>
<span id="cb105-14"><a href="#cb105-14"></a>             <span class="fu">radioButtons</span>(</span>
<span id="cb105-15"><a href="#cb105-15"></a>               <span class="at">inputId =</span> <span class="st">"img"</span>, <span class="at">label =</span> <span class="st">"Choose a penguin to display:"</span>,</span>
<span id="cb105-16"><a href="#cb105-16"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"All penguins"</span>, <span class="st">"Sassy chinstrap"</span>, <span class="st">"Staring gentoo"</span>, <span class="st">"Adorable adelie"</span>),</span>
<span id="cb105-17"><a href="#cb105-17"></a>               <span class="at">selected =</span> <span class="st">"All penguins"</span>),</span>
<span id="cb105-18"><a href="#cb105-18"></a>             </span>
<span id="cb105-19"><a href="#cb105-19"></a>             <span class="co"># text output ----</span></span>
<span id="cb105-20"><a href="#cb105-20"></a>             <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text"</span>),</span>
<span id="cb105-21"><a href="#cb105-21"></a>             </span>
<span id="cb105-22"><a href="#cb105-22"></a>             <span class="co"># img output ----</span></span>
<span id="cb105-23"><a href="#cb105-23"></a>             <span class="fu">imageOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_img"</span>)</span>
<span id="cb105-24"><a href="#cb105-24"></a>             </span>
<span id="cb105-25"><a href="#cb105-25"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> tab 1</span></span>
<span id="cb105-26"><a href="#cb105-26"></a>    </span>
<span id="cb105-27"><a href="#cb105-27"></a>    <span class="co"># tab 2 ----</span></span>
<span id="cb105-28"><a href="#cb105-28"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span><span class="co">#,</span></span>
<span id="cb105-29"><a href="#cb105-29"></a>             </span>
<span id="cb105-30"><a href="#cb105-30"></a>             <span class="co"># # body mass slider input ----</span></span>
<span id="cb105-31"><a href="#cb105-31"></a>             <span class="co"># sliderInput(inputId = "body_mass", label = "Select a range of body masses (g)",</span></span>
<span id="cb105-32"><a href="#cb105-32"></a>             <span class="co">#             min = 2700, max = 6300, value = c(3000, 4000)),</span></span>
<span id="cb105-33"><a href="#cb105-33"></a>             </span>
<span id="cb105-34"><a href="#cb105-34"></a>             <span class="co"># # body mass plot output ----</span></span>
<span id="cb105-35"><a href="#cb105-35"></a>             <span class="co"># plotOutput(outputId = "bodyMass_scatterPlot")</span></span>
<span id="cb105-36"><a href="#cb105-36"></a>             </span>
<span id="cb105-37"><a href="#cb105-37"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> tab 2</span></span>
<span id="cb105-38"><a href="#cb105-38"></a>    </span>
<span id="cb105-39"><a href="#cb105-39"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb105-40"><a href="#cb105-40"></a>  </span>
<span id="cb105-41"><a href="#cb105-41"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb105-42"><a href="#cb105-42"></a></span>
<span id="cb105-43"><a href="#cb105-43"></a></span>
<span id="cb105-44"><a href="#cb105-44"></a><span class="co"># server ----</span></span>
<span id="cb105-45"><a href="#cb105-45"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb105-46"><a href="#cb105-46"></a>  </span>
<span id="cb105-47"><a href="#cb105-47"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb105-48"><a href="#cb105-48"></a>  output<span class="sc">$</span>penguins_text <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb105-49"><a href="#cb105-49"></a>    </span>
<span id="cb105-50"><a href="#cb105-50"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb105-51"><a href="#cb105-51"></a>      <span class="fu">message</span>(<span class="st">"Printing all penguins text"</span>)</span>
<span id="cb105-52"><a href="#cb105-52"></a>      <span class="st">"Meet all of our lovely penguins species!"</span></span>
<span id="cb105-53"><a href="#cb105-53"></a>    }</span>
<span id="cb105-54"><a href="#cb105-54"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb105-55"><a href="#cb105-55"></a>      <span class="fu">message</span>(<span class="st">"Printing chinstrap text"</span>)</span>
<span id="cb105-56"><a href="#cb105-56"></a>      <span class="st">"Chinstraps get their name from the thin black line that runs under their chins"</span></span>
<span id="cb105-57"><a href="#cb105-57"></a>    }</span>
<span id="cb105-58"><a href="#cb105-58"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb105-59"><a href="#cb105-59"></a>      <span class="fu">message</span>(<span class="st">"Printing gentoo text"</span>)</span>
<span id="cb105-60"><a href="#cb105-60"></a>      <span class="st">"Gentoos stand out because of their bright orange bills and feet"</span></span>
<span id="cb105-61"><a href="#cb105-61"></a>    }</span>
<span id="cb105-62"><a href="#cb105-62"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb105-63"><a href="#cb105-63"></a>      <span class="fu">message</span>(<span class="st">"Printing adelie text"</span>)</span>
<span id="cb105-64"><a href="#cb105-64"></a>      <span class="st">"Adelie penguins are my personal favorite &lt;3"</span></span>
<span id="cb105-65"><a href="#cb105-65"></a>    }</span>
<span id="cb105-66"><a href="#cb105-66"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> renderText</span></span>
<span id="cb105-67"><a href="#cb105-67"></a>  </span>
<span id="cb105-68"><a href="#cb105-68"></a>  </span>
<span id="cb105-69"><a href="#cb105-69"></a>  <span class="co"># render penguin images ----</span></span>
<span id="cb105-70"><a href="#cb105-70"></a>  output<span class="sc">$</span>penguin_img <span class="ot">&lt;-</span> <span class="fu">renderImage</span>({</span>
<span id="cb105-71"><a href="#cb105-71"></a>    </span>
<span id="cb105-72"><a href="#cb105-72"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb105-73"><a href="#cb105-73"></a>      <span class="fu">message</span>(<span class="st">"Displaying all penguins image"</span>)</span>
<span id="cb105-74"><a href="#cb105-74"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/all_penguins.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb105-75"><a href="#cb105-75"></a>    }</span>
<span id="cb105-76"><a href="#cb105-76"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb105-77"><a href="#cb105-77"></a>      <span class="fu">message</span>(<span class="st">"Displaying chinstrap image"</span>)</span>
<span id="cb105-78"><a href="#cb105-78"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/chinstrap.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb105-79"><a href="#cb105-79"></a>    }</span>
<span id="cb105-80"><a href="#cb105-80"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb105-81"><a href="#cb105-81"></a>      <span class="fu">message</span>(<span class="st">"Displaying all gentoo image"</span>)</span>
<span id="cb105-82"><a href="#cb105-82"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/gentoo.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb105-83"><a href="#cb105-83"></a>    }</span>
<span id="cb105-84"><a href="#cb105-84"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb105-85"><a href="#cb105-85"></a>      <span class="fu">message</span>(<span class="st">"Displaying all adelie image"</span>)</span>
<span id="cb105-86"><a href="#cb105-86"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/adelie.gif"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb105-87"><a href="#cb105-87"></a>    }</span>
<span id="cb105-88"><a href="#cb105-88"></a>    </span>
<span id="cb105-89"><a href="#cb105-89"></a>  }, <span class="at">deleteFile =</span> <span class="cn">FALSE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> renderImage</span></span>
<span id="cb105-90"><a href="#cb105-90"></a>  </span>
<span id="cb105-91"><a href="#cb105-91"></a>  </span>
<span id="cb105-92"><a href="#cb105-92"></a>  <span class="co"># # filter body masses ----</span></span>
<span id="cb105-93"><a href="#cb105-93"></a>  <span class="co"># body_mass_df &lt;- reactive({</span></span>
<span id="cb105-94"><a href="#cb105-94"></a>  <span class="co">#   penguins |&gt;</span></span>
<span id="cb105-95"><a href="#cb105-95"></a>  <span class="co">#     filter(body_mass_g %in% input$body_mass[1]:input$body_mass[2]) # return observations where body_mass_g is "in" the set of options provided by the user in the sliderInput</span></span>
<span id="cb105-96"><a href="#cb105-96"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> filter body masses</span></span>
<span id="cb105-97"><a href="#cb105-97"></a>  </span>
<span id="cb105-98"><a href="#cb105-98"></a>  </span>
<span id="cb105-99"><a href="#cb105-99"></a>  <span class="co"># # render the scatterplot output ----</span></span>
<span id="cb105-100"><a href="#cb105-100"></a>  <span class="co"># output$bodyMass_scatterPlot &lt;- renderPlot({</span></span>
<span id="cb105-101"><a href="#cb105-101"></a>  <span class="co">#   </span></span>
<span id="cb105-102"><a href="#cb105-102"></a>  <span class="co">#   ggplot(na.omit(body_mass_df()),</span></span>
<span id="cb105-103"><a href="#cb105-103"></a>  <span class="co">#          aes(x = flipper_length_mm, y = bill_length_mm,</span></span>
<span id="cb105-104"><a href="#cb105-104"></a>  <span class="co">#              color = species, shape = species)) +</span></span>
<span id="cb105-105"><a href="#cb105-105"></a>  <span class="co">#     geom_point() +</span></span>
<span id="cb105-106"><a href="#cb105-106"></a>  <span class="co">#     scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +</span></span>
<span id="cb105-107"><a href="#cb105-107"></a>  <span class="co">#     scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +</span></span>
<span id="cb105-108"><a href="#cb105-108"></a>  <span class="co">#     labs(x = "Flipper length (mm)", y = "Bill length (mm)",</span></span>
<span id="cb105-109"><a href="#cb105-109"></a>  <span class="co">#          color = "Penguin species", shape = "Penguin species") +</span></span>
<span id="cb105-110"><a href="#cb105-110"></a>  <span class="co">#     theme_minimal() +</span></span>
<span id="cb105-111"><a href="#cb105-111"></a>  <span class="co">#     theme(legend.position = c(0.85, 0.2),</span></span>
<span id="cb105-112"><a href="#cb105-112"></a>  <span class="co">#           legend.background = element_rect(color = "white"))</span></span>
<span id="cb105-113"><a href="#cb105-113"></a>  <span class="co">#   </span></span>
<span id="cb105-114"><a href="#cb105-114"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> render scatterplot</span></span>
<span id="cb105-115"><a href="#cb105-115"></a>  </span>
<span id="cb105-116"><a href="#cb105-116"></a>  </span>
<span id="cb105-117"><a href="#cb105-117"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb105-118"><a href="#cb105-118"></a></span>
<span id="cb105-119"><a href="#cb105-119"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb105-120"><a href="#cb105-120"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-15-2">
<center>
<img src="images/messages.gif" alt="We see our app.R file with 'message()'s inserted throughout our reactive elements. When our app is run and the user updates the radioButtons, we see the associated messages appear in the console (or not appear, if code is broken)." width="650">
</center>
</div>
</div>
</div>
</section><section id="testing" class="slide level2" data-menu-title="~~~ Testing ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Code File" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Code File</title>
<path d="M162.1 257.8c-7.812-7.812-20.47-7.812-28.28 0l-48 48c-7.812 7.812-7.812 20.5 0 28.31l48 48C137.8 386.1 142.9 388 148 388s10.23-1.938 14.14-5.844c7.812-7.812 7.812-20.5 0-28.31L128.3 320l33.86-33.84C169.1 278.3 169.1 265.7 162.1 257.8zM365.3 93.38l-74.63-74.64C278.6 6.742 262.3 0 245.4 0H64C28.65 0 0 28.65 0 64l.0065 384c0 35.34 28.65 64 64 64H320c35.2 0 64-28.8 64-64V138.6C384 121.7 377.3 105.4 365.3 93.38zM336 448c0 8.836-7.164 16-16 16H64.02c-8.838 0-16-7.164-16-16L48 64.13c0-8.836 7.164-16 16-16h160L224 128c0 17.67 14.33 32 32 32h79.1V448zM221.9 257.8c-7.812 7.812-7.812 20.5 0 28.31L255.7 320l-33.86 33.84c-7.812 7.812-7.812 20.5 0 28.31C225.8 386.1 230.9 388 236 388s10.23-1.938 14.14-5.844l48-48c7.812-7.812 7.812-20.5 0-28.31l-48-48C242.3 250 229.7 250 221.9 257.8z"></path></svg> Testing
</p>
<p class="caption-text">
<em>Creating automated tests for your apps can save time and effort, ensuring that they continue working as expected.</em>
</p>
</div>
</section><section id="LO-testing" class="slide level2" data-menu-title="Learning Objectives - Testing"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives for Testing
</div>
<p class="medium-body-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand some of the reasons why apps break and the benefit of having automated tests
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> have a basic understanding of how to use the <code>shinytest2</code> package to create regression tests
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> know how to rerun past tests
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
New packages used:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://rstudio.github.io/shinytest2/">shinytest2</a>: provides tools for creating and running automated tests on Shiny applications
</p>
</div>
</section><section id="why-test" class="slide level2" data-menu-title="Why test?"><h2></h2>
<div class="slide-title">
Why test our Shiny apps?
</div>
<p class="body-text">
It’s almost inevitable that apps will break – there are lots of reasons why this happens, but to name a few:
</p>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> an upgraded R package(s) has a different behavior (this includes <code>shiny</code>) – this is especially relevant for those apps hosted on servers, where server software (including packages) may be updated by system administrators
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> you make changes to your app
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> an external data source stops working or returns data in a different format than expected by your app
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
It can save a lot of time and headache (for you <em>and</em> your collaborators) to have an automated system that checks if your app is working as expected.
</p>
</div>
</section><section id="shinytest2" class="slide level2" data-menu-title="{shinytest2}"><h2></h2>
<div class="slide-title">
Enter the <a href="https://rstudio.github.io/shinytest2/articles/shinytest2.html"><code>{shinytest2}</code> package</a>
</div>
<p class="body-text">
The <a href="https://rstudio.github.io/shinytest2/">shinytest2</a> package is a useful tool for conducting regression testing on shiny apps – or in other words, testing existing app behavior for consistency over time.
</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><br></p>
<p class="body-text">
From the <code>shinytest2</code> documentation:
</p>
<p class="small-text quote-text-bg">
“<em><code>shinytest2</code> uses <code>testthat</code>’s snapshot-based testing strategy. The first time it runs a set of tests for an application, it performs some scripted interactions with the app and takes one or more snapshots of the application’s state. These snapshots are saved to disk so that future runs of the tests can compare their results to them.</em>”
</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<center>
<img src="images/shinytest2-hex.png" alt="A hex that's split down the middle horizontally. The top half is the blue Shiny hex and the bottom half looks like the red {testthat} hex, except it reads 'test2'." width="650">
</center>
</div>
</div>
<p class="small-text">
Rather than having to write tests by hand, you can interact with your app via the “app recorder” and <code>shinytest2</code> will record the test code automatically for you. Simply rerun tests to check for consistency.
</p>
</section><section id="shinytest2-resources" class="slide level2" data-menu-title="{shinytest2} resources"><h2></h2>
<div class="slide-title">
<code>shinytest2</code> resources &amp; demos
</div>
<p class="body-text">
The following demo comes straight from the <a href="https://rstudio.github.io/shinytest2/articles/shinytest2.html"><code>{shinytest2}</code> vignette</a>, though a similar app and testing workflow is demoed by Barret Schloerke in his recorded talk, <a href="https://www.youtube.com/watch?v=Gucwz865aqQ"><em>Getting Started with {shinytest2} Part I || Example + basics</em></a>.
</p>
<p><br></p>
<p class="body-text">
Additional resources:
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Barret Schloerke’s rstudio::conf(2022) talk, <em>{shinytest2}: Unit testing for Shiny applications</em> (<a href="https://www.youtube.com/watch?v=DMgAW4m5aTI">recording</a>)
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Barret Schloerke’s 2022 Appsilon Shiny Confernce talk, <em>{shinytest2} Testing Shiny with {testthat}</em> (<a href="https://www.youtube.com/watch?v=EOVPBN5o8F8">recording</a> &amp; <a href="https://github.com/schloerke/presentation-2022-04-27-appsilon-shinytest2">GitHub repo</a>)
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://shiny.rstudio.com/articles/testing-overview.html">Shiny testing overview</a>, by Winston Chang – this article discussed the <code>shinytest2</code> predecessor, <code>shinytest</code> (which is now entering maintenance mode), but provides some helpful context and is worth a read
</p>
</section><section id="app-for-testing" class="slide level2" data-menu-title="The app we'll test"><h2></h2>
<div class="slide-title">
Let’s test the following app
</div>
<p class="body-text">
This small app accepts a text input for users to type their name. When the “Greet” button is pressed, the app returns a short greeting message that says, “Hello <em>name</em>!
</p>
<p class="body-text">
To get started, create a subdirectory called <code>/testing_app</code>, add a file named <code>app.R</code> and drop this code in your file. Take a moment to try out the app.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb106-2"><a href="#cb106-2"></a></span>
<span id="cb106-3"><a href="#cb106-3"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb106-4"><a href="#cb106-4"></a>  </span>
<span id="cb106-5"><a href="#cb106-5"></a>  <span class="fu">textInput</span>(<span class="st">"name"</span>, <span class="st">"What is your name?"</span>),</span>
<span id="cb106-6"><a href="#cb106-6"></a>  <span class="fu">actionButton</span>(<span class="st">"greet"</span>, <span class="st">"Greet"</span>),</span>
<span id="cb106-7"><a href="#cb106-7"></a>  <span class="fu">textOutput</span>(<span class="st">"greeting"</span>)</span>
<span id="cb106-8"><a href="#cb106-8"></a>  </span>
<span id="cb106-9"><a href="#cb106-9"></a>)</span>
<span id="cb106-10"><a href="#cb106-10"></a></span>
<span id="cb106-11"><a href="#cb106-11"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb106-12"><a href="#cb106-12"></a>  </span>
<span id="cb106-13"><a href="#cb106-13"></a>  output<span class="sc">$</span>greeting <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb106-14"><a href="#cb106-14"></a>    <span class="fu">req</span>(input<span class="sc">$</span>greet)</span>
<span id="cb106-15"><a href="#cb106-15"></a>    <span class="fu">paste0</span>(<span class="st">"Hello "</span>, <span class="fu">isolate</span>(input<span class="sc">$</span>name), <span class="st">"!"</span>)</span>
<span id="cb106-16"><a href="#cb106-16"></a>    </span>
<span id="cb106-17"><a href="#cb106-17"></a>  })</span>
<span id="cb106-18"><a href="#cb106-18"></a>  </span>
<span id="cb106-19"><a href="#cb106-19"></a>}</span>
<span id="cb106-20"><a href="#cb106-20"></a></span>
<span id="cb106-21"><a href="#cb106-21"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="testing-procedure" class="slide level2" data-menu-title="Testing procedure"><h2></h2>
<div class="slide-title">
Testing using <code>shinytest2</code>
</div>
<p class="body-text">
Recording tests requires the following steps:
</p>
<div class="fragment">
<p class="small-text topbr">
<strong>(1)</strong> Run <code>record_test(&lt;app-directory&gt;)</code> to launch the app recorder in browser window
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<strong>(2)</strong> Interact with your application and tell the recorder to make an expectation (e.g.&nbsp;an expected value when inputX is updated) on the state at various points
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<strong>(3)</strong> Quit the recorder to save and execute your tests
</p>
</div>
<div class="fragment">
<p class="body-text">
To test our app specifically, we’ll do the following:
</p>
<p class="small-text topbr">
<strong>(1)</strong> run <code>shinytest2::record_test("testing_app")</code> in the console to launch the recorder in a browser window
</p>
<p class="small-text topbr">
<strong>(2)</strong> interact with your app by first typing a name (e.g.&nbsp;Sam), then pressing the “Greet” button to display the output text
</p>
<p class="small-text topbr">
<strong>(3)</strong> click the “Expect Shiny values” button in the recorder app sidebar to set an expectation (this will record inputs, outputs, and exported values)
</p>
<p class="small-text topbr">
<strong>(4)</strong> give your test a name in the recorder app sidebar, then click “Save test and exit” - this will save the recorded test and setup the testing infrastructure, if it doesn’t exit already
</p>
</div>
</section><section id="creating-test1-example" class="slide level2" data-menu-title="Creating our first test"><h2></h2>
<div class="slide-title">
Creating our first test
</div>
<p class="body-text">
Following the steps on the previous slide, creating your test should look similar to this:
</p>
<center>
<img src="images/sam-test.gif" alt="A user begins recording a test by typing shinytest2::record_test('testing_app') in the RStudio console, which opens up the app in an iframe with the recorder in a pane to the right. The user types 'Sam' into the text box, clicks the 'Greet' button, then clicks 'Expect Shiny values' in the recorder. Finally, the user names and saves the test, which then runs automatically once the recorder is quit." width="650">
</center>
<p class="body-text">
<strong>Note:</strong> Your test is automatically run as soon as you save and exit the recorder. See the results of your test in your console (it should pass!).
</p>
</section><section id="test-files-created" class="slide level2" data-menu-title="Test files created"><h2></h2>
<div class="slide-title">
Test files are generated automatically
</div>
<p class="body-text">
After recording your first test, a <code>/tests</code> folder is generated, containing a number of different files and subdirectories. Some important files to note:
</p>
<div class="panel-tabset">
<ul id="tabset-16" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-16-1"><code>setup-shinytest2.R</code></a></li>
<li><a href="#tabset-16-2"><code>test-shinytest2.R</code></a></li>
<li><a href="#tabset-16-3"><code>*_.png</code></a></li>
<li><a href="#tabset-16-4"><code>*.json</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-16-1">
<p class="small-text">
<strong>(located at <code>&lt;app-directory&gt;/tests/testthat/setup-shinytest2.R</code>)</strong>; For more complex apps, you’ll often have support files (e.g.&nbsp;those contained in <code>&lt;app-directory&gt;/R</code> and/or <code>global.R</code>) – content from those files will be stored here so that it is made accessible to your test(s). Since we don’t have any support files for our rather small/somewhat simple app, you should only see the following:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="co"># Load application support files into testing environment</span></span>
<span id="cb107-2"><a href="#cb107-2"></a>shinytest2<span class="sc">::</span><span class="fu">load_app_env</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-16-2">
<p class="small-text">
<strong>(located at <code>&lt;app-directory&gt;/tests/testthat/test-shinytest2.R</code>)</strong>; This test script contains your recorded test, and should automatically open when you finish recording and save your test. You can manually modify this test (e.g.&nbsp;add additional interactions and expectations), if you wish. Yours should look similar to this:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a><span class="fu">library</span>(shinytest2)</span>
<span id="cb108-2"><a href="#cb108-2"></a></span>
<span id="cb108-3"><a href="#cb108-3"></a><span class="fu">test_that</span>(<span class="st">"{shinytest2} recording: sam-test"</span>, {</span>
<span id="cb108-4"><a href="#cb108-4"></a>  app <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">"sam-test"</span>, <span class="at">height =</span> <span class="dv">509</span>, <span class="at">width =</span> <span class="dv">657</span>)</span>
<span id="cb108-5"><a href="#cb108-5"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">name =</span> <span class="st">"Sam"</span>)</span>
<span id="cb108-6"><a href="#cb108-6"></a>  app<span class="sc">$</span><span class="fu">click</span>(<span class="st">"greet"</span>)</span>
<span id="cb108-7"><a href="#cb108-7"></a>  app<span class="sc">$</span><span class="fu">expect_values</span>()</span>
<span id="cb108-8"><a href="#cb108-8"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-16-3">
<p class="small-text">
<strong>(located at <code>&lt;app-directory&gt;/tests/testthat/_snaps/shinytest2/*_.png</code>)</strong>; This is a screenshot of your app from when <code>app$expect_values()</code> was called – this file should be tracked using git so that you know how your app visually changes over time. My <code>.png</code> file looks like this:
</p>
<center>
<img src="images/sam-test-001_.png" alt="A screenshot from my app, with the text 'Sam' printed in the text input box beneath the prompt, 'What is your name?'. Below the text box is a button that says 'Greet'. Below that, the text, 'Hello Sam!' is printed." width="450">
</center>
</div>
<div id="tabset-16-4">
<p class="small-text">
<strong>(located at <code>&lt;app-directory&gt;/tests/testthat/_snaps/shinytest2/*.json</code></strong>); This is a <a href="https://www.json.org/json-en.html">JSON</a> representation of the state of the app when <code>app$expect_values()</code> was called – you’ll see the state of all input, output, and export values at the time of the snapshot (we don’t have any exports in our example app, but we do have a name input and a greeting output). This file should be tracked with git so that you have a record of your expected results. Your <code>.json</code> file should look something like this:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">{</span></span>
<span id="cb109-2"><a href="#cb109-2"></a>  <span class="dt">"input"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb109-3"><a href="#cb109-3"></a>    <span class="dt">"greet"</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb109-4"><a href="#cb109-4"></a>    <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"Sam"</span></span>
<span id="cb109-5"><a href="#cb109-5"></a>  <span class="fu">},</span></span>
<span id="cb109-6"><a href="#cb109-6"></a>  <span class="dt">"output"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb109-7"><a href="#cb109-7"></a>    <span class="dt">"greeting"</span><span class="fu">:</span> <span class="st">"Hello Sam!"</span></span>
<span id="cb109-8"><a href="#cb109-8"></a>  <span class="fu">},</span></span>
<span id="cb109-9"><a href="#cb109-9"></a>  <span class="dt">"export"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb109-10"><a href="#cb109-10"></a></span>
<span id="cb109-11"><a href="#cb109-11"></a>  <span class="fu">}</span></span>
<span id="cb109-12"><a href="#cb109-12"></a><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="testing-tips" class="slide level2" data-menu-title="Testing tips"><h2></h2>
<div class="slide-title">
Tips for testing
</div>
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Record subsequent tests following the same workflow, giving each a unique name. Run <code>test_app("path/to/app")</code> to run all test scripts in your app’s <code>tests/testhat</code> directory.
</p>
<p class="body-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Use <code>record_test()</code> fairly often – Barret Schloerke argues that you should make a test recording for each feature of your app (many little recordings are encouraged!)
</p>
<p class="body-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Limit testing to objects under your control. For example, let’s say you have a reactive data frame that you then send to a <code><a href="https://rdrr.io/pkg/DT/man/datatable.html">DT::datatable</a></code> – if package maintainers update the <code>DT</code> package, your output might change which could lead to false positive failed tests. Instead, test just your data frame that gets sent to <code>DT</code>.
</p>
<div class="fragment">
<p><br></p>
<center>
<p class="medium-body-text">
This is only a brief intro to <code>shinytest2</code>! Dig into the <a href="https://rstudio.github.io/shinytest2/index.html">documentation</a> to learn more.
</p>
</center>
</div>
</section><section id="6-streamlining-code" class="slide level2" data-menu-title="!! (6) Streamlining Code !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 6: Streamlining code
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Writing functions
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Shiny modules
</p>
</section><section id="functions" class="slide level2" data-menu-title="~~~ Functions ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Code" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Code</title>
<path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"></path></svg> Writing functions to improve readability and usability
</p>
<p class="caption-text">
<em>Writing functions can help to reduce code duplication &amp; make testing easier as your app(s) grows in complexity</em>
</p>
</div>
</section><section id="LO-functions" class="slide level2" data-menu-title="Learning Objectives - Functions"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - Functions
</div>
<p class="medium-body-text bottombr">
By the end of this section, you should:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand the benefits of writing UI functions
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> understand the benefits of writing server functions
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> know where to write/save your functions
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> successfully write a UI function
</p>
</div>
</section><section id="function-types" class="slide level2" data-menu-title="Types of Functions"><h2></h2>
<div class="slide-title">
UI vs.&nbsp;Server functions
</div>
<p class="body-text bottombr">
We’ll demonstrate two different flavors of functions: those written for the UI and those written for the server:
</p>
<p class="small-text bottombr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> the main benefit to writing <strong>UI functions</strong> is <strong>reducing duplication</strong>
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> the main benefit to writing <strong>server functions</strong> is <strong>isolation and testing</strong>
</p>
<div class="fragment">
<p class="body-text topbr">
Importantly, functions can live outside of your app file(s) (i.e.&nbsp;<code>app.R</code> or <code>ui.R</code>, <code>server.R</code> and <code>global.R</code>), helping you to break up/streamline your code. Hadley Wickham <a href="https://mastering-shiny.org/scaling-functions.html#file-organisation">recommends</a> creating a folder called <code>/R</code> <strong>inside</strong> your app’s directory (e.g.&nbsp;<code>~/app-directory/R/...</code>) and:
</p>
<p class="small-text bottombr">
<strong>(a)</strong> storing larger functions in their own files (e.g.&nbsp;<code>~/app-directory/R/{function-name}.R</code>) and/or
</p>
<p class="small-text bottombr">
<strong>(b)</strong> creating a <code>utils.R</code> file (e.g <code>~/app-directory/R/utils.R</code>) to store smaller, simpler functions all in one script.
</p>
<p class="body-text topbr">
You can <strong>source your function files into <code>global.R</code></strong> so that your functions are made available for use throughout your app. <strong>NOTE:</strong> As of Shiny version 1.5.0, any scripts stored in <code>~/app-directory/R/</code> will be automatically sourced when your application is loaded (meaning you don’t <em>need</em> to <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> them into <code>global.R</code>, if you’re running at least Shiny v1.5.0).
</p>
</div>
</section><section id="app-for-practicing-fxns" class="slide level2" data-menu-title="Example App for Fxn Practice"><h2></h2>
<div class="slide-title-smaller">
Create a small app for function practice
</div>
<p class="small-text">
Create a new subdirectory called <code>functions-app/</code> and add your <code>ui.R</code>, <code>server.R</code>, and <code>global.R</code> files with the following code. Run your app to see how it functions.
</p>
<div class="panel-tabset">
<ul id="tabset-17" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-17-1">App preview</a></li>
<li><a href="#tabset-17-2"><code>ui.R</code></a></li>
<li><a href="#tabset-17-3"><code>server.R</code></a></li>
<li><a href="#tabset-17-4"><code>global.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-17-1">
<center>
<img src="images/functions_demo_app.gif" alt="A shiny app with two tabs. The first tab contains a pickerInput that allows the user to select which penguin species they want to visualize data for, along with a scatterplot. The second tab also contains a pickerInput with the exact same penguin species options, along with a histogram." width="650">
</center>
</div>
<div id="tabset-17-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb110-2"><a href="#cb110-2"></a>  </span>
<span id="cb110-3"><a href="#cb110-3"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Demoing UI Functions"</span>),</span>
<span id="cb110-4"><a href="#cb110-4"></a>  </span>
<span id="cb110-5"><a href="#cb110-5"></a>  <span class="co"># tabsetPanel ----</span></span>
<span id="cb110-6"><a href="#cb110-6"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb110-7"><a href="#cb110-7"></a>    </span>
<span id="cb110-8"><a href="#cb110-8"></a>    <span class="co"># scatterplot tab ----</span></span>
<span id="cb110-9"><a href="#cb110-9"></a>    <span class="fu">tabPanel</span>(<span class="st">"Scatterplot"</span>,</span>
<span id="cb110-10"><a href="#cb110-10"></a>             </span>
<span id="cb110-11"><a href="#cb110-11"></a>             <span class="co"># species (scatterplot) pickerInput ----</span></span>
<span id="cb110-12"><a href="#cb110-12"></a>             <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_species_scatterplot"</span>, <span class="at">label =</span> <span class="st">"Select a species:"</span>,</span>
<span id="cb110-13"><a href="#cb110-13"></a>                         <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb110-14"><a href="#cb110-14"></a>                         <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb110-15"><a href="#cb110-15"></a>                         <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb110-16"><a href="#cb110-16"></a>                         <span class="at">multiple =</span> T),</span>
<span id="cb110-17"><a href="#cb110-17"></a>             </span>
<span id="cb110-18"><a href="#cb110-18"></a>             <span class="co"># scatterplot output ----</span></span>
<span id="cb110-19"><a href="#cb110-19"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_scatterplot"</span>)</span>
<span id="cb110-20"><a href="#cb110-20"></a>             </span>
<span id="cb110-21"><a href="#cb110-21"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> scatterplot tab</span></span>
<span id="cb110-22"><a href="#cb110-22"></a>    </span>
<span id="cb110-23"><a href="#cb110-23"></a>    </span>
<span id="cb110-24"><a href="#cb110-24"></a>    <span class="co"># histogram tab ----</span></span>
<span id="cb110-25"><a href="#cb110-25"></a>    <span class="fu">tabPanel</span>(<span class="st">"Histogram"</span>,</span>
<span id="cb110-26"><a href="#cb110-26"></a>             </span>
<span id="cb110-27"><a href="#cb110-27"></a>             <span class="co"># species (histogram) pickerInput ----</span></span>
<span id="cb110-28"><a href="#cb110-28"></a>             <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_species_histogram"</span>, <span class="at">label =</span> <span class="st">"Select a species:"</span>,</span>
<span id="cb110-29"><a href="#cb110-29"></a>                         <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb110-30"><a href="#cb110-30"></a>                         <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb110-31"><a href="#cb110-31"></a>                         <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb110-32"><a href="#cb110-32"></a>                         <span class="at">multiple =</span> T),</span>
<span id="cb110-33"><a href="#cb110-33"></a>             </span>
<span id="cb110-34"><a href="#cb110-34"></a>             <span class="co"># scatterplot output ----</span></span>
<span id="cb110-35"><a href="#cb110-35"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_histogram"</span>)</span>
<span id="cb110-36"><a href="#cb110-36"></a>             </span>
<span id="cb110-37"><a href="#cb110-37"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> histogram tab</span></span>
<span id="cb110-38"><a href="#cb110-38"></a>    </span>
<span id="cb110-39"><a href="#cb110-39"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb110-40"><a href="#cb110-40"></a>  </span>
<span id="cb110-41"><a href="#cb110-41"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-17-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb111-2"><a href="#cb111-2"></a>  </span>
<span id="cb111-3"><a href="#cb111-3"></a>  </span>
<span id="cb111-4"><a href="#cb111-4"></a>  <span class="co"># filter penguin species (scatterplot) ----</span></span>
<span id="cb111-5"><a href="#cb111-5"></a>  filtered_spp_scatterplot <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb111-6"><a href="#cb111-6"></a></span>
<span id="cb111-7"><a href="#cb111-7"></a>    penguins <span class="sc">|&gt;</span></span>
<span id="cb111-8"><a href="#cb111-8"></a>      <span class="fu">filter</span>(species <span class="sc">%in%</span> input<span class="sc">$</span>penguin_species_scatterplot)</span>
<span id="cb111-9"><a href="#cb111-9"></a></span>
<span id="cb111-10"><a href="#cb111-10"></a>  })</span>
<span id="cb111-11"><a href="#cb111-11"></a></span>
<span id="cb111-12"><a href="#cb111-12"></a>  </span>
<span id="cb111-13"><a href="#cb111-13"></a>  <span class="co"># render the scatterplot output ----</span></span>
<span id="cb111-14"><a href="#cb111-14"></a>  output<span class="sc">$</span>penguin_scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb111-15"><a href="#cb111-15"></a>    </span>
<span id="cb111-16"><a href="#cb111-16"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">filtered_spp_scatterplot</span>()),</span>
<span id="cb111-17"><a href="#cb111-17"></a>           <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb111-18"><a href="#cb111-18"></a>               <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb111-19"><a href="#cb111-19"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb111-20"><a href="#cb111-20"></a>      <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="fu">aes</span>(<span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb111-21"><a href="#cb111-21"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb111-22"><a href="#cb111-22"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb111-23"><a href="#cb111-23"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>,</span>
<span id="cb111-24"><a href="#cb111-24"></a>           <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>)</span>
<span id="cb111-25"><a href="#cb111-25"></a>    </span>
<span id="cb111-26"><a href="#cb111-26"></a>  })</span>
<span id="cb111-27"><a href="#cb111-27"></a>  </span>
<span id="cb111-28"><a href="#cb111-28"></a>  </span>
<span id="cb111-29"><a href="#cb111-29"></a>  <span class="co"># filter penguin species (histogram) ----</span></span>
<span id="cb111-30"><a href="#cb111-30"></a>  filtered_spp_histogram <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb111-31"><a href="#cb111-31"></a>    </span>
<span id="cb111-32"><a href="#cb111-32"></a>    penguins <span class="sc">|&gt;</span></span>
<span id="cb111-33"><a href="#cb111-33"></a>      <span class="fu">filter</span>(species <span class="sc">%in%</span> input<span class="sc">$</span>penguin_species_histogram)</span>
<span id="cb111-34"><a href="#cb111-34"></a>    </span>
<span id="cb111-35"><a href="#cb111-35"></a>  })</span>
<span id="cb111-36"><a href="#cb111-36"></a>  </span>
<span id="cb111-37"><a href="#cb111-37"></a>  <span class="co"># render the histogram output ----</span></span>
<span id="cb111-38"><a href="#cb111-38"></a>  output<span class="sc">$</span>penguin_histogram <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb111-39"><a href="#cb111-39"></a>    </span>
<span id="cb111-40"><a href="#cb111-40"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">filtered_spp_histogram</span>()),</span>
<span id="cb111-41"><a href="#cb111-41"></a>           <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb111-42"><a href="#cb111-42"></a>      <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb111-43"><a href="#cb111-43"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb111-44"><a href="#cb111-44"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb111-45"><a href="#cb111-45"></a>           <span class="at">fill =</span> <span class="st">"Penguin species"</span>)</span>
<span id="cb111-46"><a href="#cb111-46"></a>    </span>
<span id="cb111-47"><a href="#cb111-47"></a>  })</span>
<span id="cb111-48"><a href="#cb111-48"></a>  </span>
<span id="cb111-49"><a href="#cb111-49"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-17-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="co"># load packages ----</span></span>
<span id="cb112-2"><a href="#cb112-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb112-3"><a href="#cb112-3"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb112-4"><a href="#cb112-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb112-5"><a href="#cb112-5"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="id-ui-duplication" class="slide level2" data-menu-title="Identify code duplication in UI"><h2></h2>
<div class="slide-title-smaller">
Identify code duplication in <code>ui.R</code>
</div>
<p class="body-text">
Let’s first focus on the UI – where do we have nearly identically duplicated code?
</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb113" data-code-line-numbers="11-16|27-32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb113-2"><a href="#cb113-2"></a>  </span>
<span id="cb113-3"><a href="#cb113-3"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Demoing UI Functions"</span>),</span>
<span id="cb113-4"><a href="#cb113-4"></a>  </span>
<span id="cb113-5"><a href="#cb113-5"></a>  <span class="co"># tabsetPanel ----</span></span>
<span id="cb113-6"><a href="#cb113-6"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb113-7"><a href="#cb113-7"></a>    </span>
<span id="cb113-8"><a href="#cb113-8"></a>    <span class="co"># scatterplot tab ----</span></span>
<span id="cb113-9"><a href="#cb113-9"></a>    <span class="fu">tabPanel</span>(<span class="st">"Scatterplot"</span>,</span>
<span id="cb113-10"><a href="#cb113-10"></a>             </span>
<span id="cb113-11"><a href="#cb113-11"></a>             <span class="co"># species (scatterplot) pickerInput ----</span></span>
<span id="cb113-12"><a href="#cb113-12"></a>             <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_species_scatterplot"</span>, <span class="at">label =</span> <span class="st">"Select a species:"</span>,</span>
<span id="cb113-13"><a href="#cb113-13"></a>                         <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb113-14"><a href="#cb113-14"></a>                         <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb113-15"><a href="#cb113-15"></a>                         <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb113-16"><a href="#cb113-16"></a>                         <span class="at">multiple =</span> T),</span>
<span id="cb113-17"><a href="#cb113-17"></a>             </span>
<span id="cb113-18"><a href="#cb113-18"></a>             <span class="co"># scatterplot output ----</span></span>
<span id="cb113-19"><a href="#cb113-19"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_scatterplot"</span>)</span>
<span id="cb113-20"><a href="#cb113-20"></a>             </span>
<span id="cb113-21"><a href="#cb113-21"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> scatterplot tab</span></span>
<span id="cb113-22"><a href="#cb113-22"></a>    </span>
<span id="cb113-23"><a href="#cb113-23"></a>    </span>
<span id="cb113-24"><a href="#cb113-24"></a>    <span class="co"># histogram tab ----</span></span>
<span id="cb113-25"><a href="#cb113-25"></a>    <span class="fu">tabPanel</span>(<span class="st">"Histogram"</span>,</span>
<span id="cb113-26"><a href="#cb113-26"></a>             </span>
<span id="cb113-27"><a href="#cb113-27"></a>             <span class="co"># species (histogram) pickerInput ----</span></span>
<span id="cb113-28"><a href="#cb113-28"></a>             <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_species_histogram"</span>, <span class="at">label =</span> <span class="st">"Select a species:"</span>,</span>
<span id="cb113-29"><a href="#cb113-29"></a>                         <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb113-30"><a href="#cb113-30"></a>                         <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb113-31"><a href="#cb113-31"></a>                         <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>),</span>
<span id="cb113-32"><a href="#cb113-32"></a>                         <span class="at">multiple =</span> T),</span>
<span id="cb113-33"><a href="#cb113-33"></a>             </span>
<span id="cb113-34"><a href="#cb113-34"></a>             <span class="co"># scatterplot output ----</span></span>
<span id="cb113-35"><a href="#cb113-35"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_histogram"</span>)</span>
<span id="cb113-36"><a href="#cb113-36"></a>             </span>
<span id="cb113-37"><a href="#cb113-37"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> histogram tab</span></span>
<span id="cb113-38"><a href="#cb113-38"></a>    </span>
<span id="cb113-39"><a href="#cb113-39"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb113-40"><a href="#cb113-40"></a>  </span>
<span id="cb113-41"><a href="#cb113-41"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="write-ui-function" class="slide level2" data-menu-title="Write a UI function"><h2></h2>
<div class="slide-title-smaller">
Write a function for adding a <code>pickerInput</code> to select for penguin species
</div>
<p class="small-text">
This app includes two <code>pickerInputs</code>, both of which allow users to select which penguin species to display data for. The only difference between both <code>pickerInputs</code> is the <code>inputId</code>. Let’s write a function for our <strong>penguin species pickerInput</strong> that we can use in place of these two, rather long, chunks of code.
</p>
<div class="fragment">
<p class="small-text topbr">
First, create an <code>R</code> folder inside your <code>functions-app</code> directory. Then, add a new script to this folder. I’m calling mine <code>penguinSpp_pickerInput.R</code>.
</p>
<p class="small-text topbr">
Since the only difference between our original two <code>pickerInput</code>s are their <code>inputId</code>s, we can write a function that takes <code>inputId</code> as an argument (<strong>Recall</strong> that <code>inputId</code>s must be unique within an app, so it makes sense that both of our <code>pickerInput</code>s have different <code>inputId</code>s).
</p>
<p class="small-text topbr">
Once written, <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> your function script into <code>global.R</code> (if necessary) to make your function available for use in your app.
</p>
<div class="panel-tabset">
<ul id="tabset-18" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-18-1"><code>penguinSpp_pickerInput.R</code></a></li>
<li><a href="#tabset-18-2"><code>global.R</code></a></li>
</ul>
<div class="tab-content">
<div id="tabset-18-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>penguinSpp_pickerInput <span class="ot">&lt;-</span> <span class="cf">function</span>(inputId) {</span>
<span id="cb114-2"><a href="#cb114-2"></a>  <span class="fu">pickerInput</span>(<span class="at">inputId =</span> inputId, <span class="at">label =</span> <span class="st">"Select a species:"</span>,</span>
<span id="cb114-3"><a href="#cb114-3"></a>              <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Gentoo"</span>, <span class="st">"Chinstrap"</span>),</span>
<span id="cb114-4"><a href="#cb114-4"></a>              <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb114-5"><a href="#cb114-5"></a>              <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Gentoo"</span>, <span class="st">"Chinstrap"</span>),</span>
<span id="cb114-6"><a href="#cb114-6"></a>              <span class="at">multiple =</span> <span class="cn">TRUE</span>)</span>
<span id="cb114-7"><a href="#cb114-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-18-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb115" data-code-line-numbers="7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="co"># load packages ----</span></span>
<span id="cb115-2"><a href="#cb115-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb115-3"><a href="#cb115-3"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb115-4"><a href="#cb115-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb115-5"><a href="#cb115-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb115-6"><a href="#cb115-6"></a></span>
<span id="cb115-7"><a href="#cb115-7"></a><span class="co"># IMPORT FUNCTIONS ----</span></span>
<span id="cb115-8"><a href="#cb115-8"></a><span class="fu">source</span>(<span class="st">"R/penguinSpp_pickerInput.R"</span>) <span class="co"># will source automatically with Shiny v1.5.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section><section id="apply-ui-fxn" class="slide level2" data-menu-title="Apply UI function"><h2></h2>
<div class="slide-title-smaller">
Apply your function in <code>ui.R</code>
</div>
<p class="small-text">
Finally, replace your original UI code for building both <code>pickerInput</code>s with our <code>penguinSpp_pickerInput()</code> function, save, and run your app. It should look exactly the same as before!
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116" data-code-line-numbers="12|24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb116-2"><a href="#cb116-2"></a>  </span>
<span id="cb116-3"><a href="#cb116-3"></a>  tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Demoing Functions"</span>),</span>
<span id="cb116-4"><a href="#cb116-4"></a>  </span>
<span id="cb116-5"><a href="#cb116-5"></a>  <span class="co"># tabsetPanel ----</span></span>
<span id="cb116-6"><a href="#cb116-6"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb116-7"><a href="#cb116-7"></a>    </span>
<span id="cb116-8"><a href="#cb116-8"></a>    <span class="co"># scatterplot tab ----</span></span>
<span id="cb116-9"><a href="#cb116-9"></a>    <span class="fu">tabPanel</span>(<span class="st">"Scatterplot"</span>,</span>
<span id="cb116-10"><a href="#cb116-10"></a>             </span>
<span id="cb116-11"><a href="#cb116-11"></a>             <span class="co"># species (scatterplot) pickerInput ---- </span></span>
<span id="cb116-12"><a href="#cb116-12"></a>             <span class="fu">penguinSpp_pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_species_scatterplot"</span>),</span>
<span id="cb116-13"><a href="#cb116-13"></a>             </span>
<span id="cb116-14"><a href="#cb116-14"></a>             <span class="co"># scatterplot output ----</span></span>
<span id="cb116-15"><a href="#cb116-15"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_scatterplot"</span>)</span>
<span id="cb116-16"><a href="#cb116-16"></a>             </span>
<span id="cb116-17"><a href="#cb116-17"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> scatterplot tab</span></span>
<span id="cb116-18"><a href="#cb116-18"></a>    </span>
<span id="cb116-19"><a href="#cb116-19"></a>    </span>
<span id="cb116-20"><a href="#cb116-20"></a>    <span class="co"># histogram tab ----</span></span>
<span id="cb116-21"><a href="#cb116-21"></a>    <span class="fu">tabPanel</span>(<span class="st">"Histogram"</span>,</span>
<span id="cb116-22"><a href="#cb116-22"></a>             </span>
<span id="cb116-23"><a href="#cb116-23"></a>             <span class="co"># species (histogram) pickerInput ----</span></span>
<span id="cb116-24"><a href="#cb116-24"></a>             <span class="fu">penguinSpp_pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_species_histogram"</span>),</span>
<span id="cb116-25"><a href="#cb116-25"></a>             </span>
<span id="cb116-26"><a href="#cb116-26"></a>             <span class="co"># scatterplot output ----</span></span>
<span id="cb116-27"><a href="#cb116-27"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_histogram"</span>)</span>
<span id="cb116-28"><a href="#cb116-28"></a>             </span>
<span id="cb116-29"><a href="#cb116-29"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> histogram tab</span></span>
<span id="cb116-30"><a href="#cb116-30"></a>    </span>
<span id="cb116-31"><a href="#cb116-31"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb116-32"><a href="#cb116-32"></a>  </span>
<span id="cb116-33"><a href="#cb116-33"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="ui-fxn-benefits" class="slide level2" data-menu-title="Benefits of our UI function"><h2></h2>
<div class="slide-title bottombr">
We reduced code redundancy and increased readability!
</div>
<p class="body-text">
By turning our <code>pickerInput</code> code into a function, <strong>we not only reduced <em>ten</em> lines of UI code into <em>two</em>, but we also made our UI code a bit easier to read</strong> – our function, <code>penguinSpp_pickerInput()</code> tells a reader/collaborator/future you <em>exactly</em> what that line of code is meant to do, which is create a <code>pickerInput</code> that allows users to select penguin species. Even without code comments or additional context, one may deduce what that line of code does.
</p>
<div class="fragment">
<p class="body-text">
As you build your UIs, consider where you can improve readability – even if reducing code redundancy isn’t a priority (or a possibility), turning UI elements into functions may make navigating your app’s code base a more enjoyable experience, particularly as it grows larger and more complex.
</p>
</div>
</section><section id="modules" class="slide level2" data-menu-title="~~~ Shiny Modules ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Cubes" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Cubes</title>
<path d="M290.8 48.6l78.4 29.7L288 109.5 206.8 78.3l78.4-29.7c1.8-.7 3.8-.7 5.7 0zM136 92.5V204.7c-1.3 .4-2.6 .8-3.9 1.3l-96 36.4C14.4 250.6 0 271.5 0 294.7V413.9c0 22.2 13.1 42.3 33.5 51.3l96 42.2c14.4 6.3 30.7 6.3 45.1 0L288 457.5l113.5 49.9c14.4 6.3 30.7 6.3 45.1 0l96-42.2c20.3-8.9 33.5-29.1 33.5-51.3V294.7c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3V92.5c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-12.8-4.8-26.9-4.8-39.7 0l-96 36.4C150.4 48.4 136 69.3 136 92.5zM392 210.6l-82.4 31.2V152.6L392 121v89.6zM154.8 250.9l78.4 29.7L152 311.7 70.8 280.6l78.4-29.7c1.8-.7 3.8-.7 5.7 0zm18.8 204.4V354.8L256 323.2v95.9l-82.4 36.2zM421.2 250.9c1.8-.7 3.8-.7 5.7 0l78.4 29.7L424 311.7l-81.2-31.1 78.4-29.7zM523.2 421.2l-77.6 34.1V354.8L528 323.2v90.7c0 3.2-1.9 6-4.8 7.3z"></path></svg> Writing modules
</p>
<p class="caption-text">
<em>We can take our code abstraction a step further and bundle repeated UI &amp; server components together into <strong>modules</strong>, streamlining our code and increasing efficiency.</em>
</p>
</div>
</section><section id="LO-modules" class="slide level2" data-menu-title="Learning Objectives - Modules"><h2></h2>
<div class="slide-title">
<svg aria-label="Book Open" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Book Open</title>
<path d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C87.5 32 35.1 48.6 9 59.9c-5.6 2.4-9 8-9 14V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V73.9c0-6.1-3.4-11.6-9-14C540.9 48.6 488.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z"></path></svg> Learning Objectives - Modules
</div>
<p class="medium-body-text bottombr">
By the end of this section, you should have an intro-level understanding of:
</p>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> what is a shiny module and when it might make sense to build one
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> the structure of a shiny module
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> how to use a module
</p>
</div>
<div class="fragment">
<p class="medium-body-text topbr">
New packages used:
</p>
</div>
<div class="fragment">
<p class="small-text">
<svg aria-label="Box Open" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Box Open</title>
<path d="M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"></path></svg><a href="https://github.com/jennybc/gapminder">gapminder</a>: data
</p>
</div>
</section><section id="gapminder-app" class="slide level2" data-menu-title="Gapminder app"><h2></h2>
<div class="slide-title-smaller">
The utility of modules is best demonstrated by taking a look at an example app
</div>
<p class="small-text">
This app, developed by <a href="https://github.com/garrettgman">Garrett Grolemund</a> &amp; <a href="https://github.com/jcheng5">Joe Cheng’s</a> as part of their <a href="https://www.rstudio.com/resources/shiny-dev-con/modules/?_ga=2.163786815.1475817156.1670220567-309155161.1666221806">Modules</a> lesson, taught at the 2016 Shiny Developer Conference, is a prime candidate for modularization.
</p>
<p class="small-text">
It uses the <code>gapminder</code> data set to display life expectancy by GDP per capita from 1952 to 2007 for Africa, the Americas, Asia, Europe, Oceania, and all regions collectively. The only difference between each tab is the subset of data displayed.
</p>
<center>
<img src="images/gapminder-app.gif" alt="The gapminder app, which has 6 tabs, one for each global region. A bubble plot takes up the width of the ap and displays Life Expectancy by GDP per capita, where each bubble represents a country and the size of bubbles represent the population size of that country. An automated sliderInput advances through the years (1952-2007), and the plot updates accordingly." width="550">
</center>
</section><section id="gapminder-code" class="slide level2" data-menu-title="Gapminder code"><h2></h2>
<div class="slide-title-smaller">
The code for this app isn’t particularly complex, but it’s repetitive and long
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="co"># app.R</span></span>
<span id="cb117-2"><a href="#cb117-2"></a></span>
<span id="cb117-3"><a href="#cb117-3"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb117-4"><a href="#cb117-4"></a><span class="fu">library</span>(shiny)</span>
<span id="cb117-5"><a href="#cb117-5"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb117-6"><a href="#cb117-6"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb117-7"><a href="#cb117-7"></a></span>
<span id="cb117-8"><a href="#cb117-8"></a><span class="co"># Note: This code creates data sets to use in each tab.</span></span>
<span id="cb117-9"><a href="#cb117-9"></a><span class="co"># It removes Kuwait since Kuwait distorts the gdp scale</span></span>
<span id="cb117-10"><a href="#cb117-10"></a>all_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb117-11"><a href="#cb117-11"></a>africa_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb117-12"><a href="#cb117-12"></a>americas_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Americas"</span>)</span>
<span id="cb117-13"><a href="#cb117-13"></a>asia_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Asia"</span>, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb117-14"><a href="#cb117-14"></a>europe_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Europe"</span>)</span>
<span id="cb117-15"><a href="#cb117-15"></a>oceania_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Oceania"</span>)</span>
<span id="cb117-16"><a href="#cb117-16"></a></span>
<span id="cb117-17"><a href="#cb117-17"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb117-18"><a href="#cb117-18"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb117-19"><a href="#cb117-19"></a>  </span>
<span id="cb117-20"><a href="#cb117-20"></a>  <span class="co"># app title ----</span></span>
<span id="cb117-21"><a href="#cb117-21"></a>  <span class="fu">titlePanel</span>(<span class="st">"Gapminder"</span>),</span>
<span id="cb117-22"><a href="#cb117-22"></a>  </span>
<span id="cb117-23"><a href="#cb117-23"></a>  <span class="co"># continent tabsetPanel ----</span></span>
<span id="cb117-24"><a href="#cb117-24"></a>  <span class="fu">tabsetPanel</span>(<span class="at">id =</span> <span class="st">"continent"</span>, </span>
<span id="cb117-25"><a href="#cb117-25"></a>              </span>
<span id="cb117-26"><a href="#cb117-26"></a>              <span class="co"># All tab ----</span></span>
<span id="cb117-27"><a href="#cb117-27"></a>              <span class="fu">tabPanel</span>(<span class="st">"All"</span>, </span>
<span id="cb117-28"><a href="#cb117-28"></a>                       <span class="fu">plotOutput</span>(<span class="st">"all_plot"</span>),</span>
<span id="cb117-29"><a href="#cb117-29"></a>                       <span class="fu">sliderInput</span>(<span class="st">"all_year"</span>, <span class="st">"Select Year"</span>, <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, </span>
<span id="cb117-30"><a href="#cb117-30"></a>                                   <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb117-31"><a href="#cb117-31"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> All tab</span></span>
<span id="cb117-32"><a href="#cb117-32"></a>              </span>
<span id="cb117-33"><a href="#cb117-33"></a>              <span class="co"># Africa tab ----</span></span>
<span id="cb117-34"><a href="#cb117-34"></a>              <span class="fu">tabPanel</span>(<span class="st">"Africa"</span>, </span>
<span id="cb117-35"><a href="#cb117-35"></a>                       <span class="fu">plotOutput</span>(<span class="st">"africa_plot"</span>),</span>
<span id="cb117-36"><a href="#cb117-36"></a>                       <span class="fu">sliderInput</span>(<span class="st">"africa_year"</span>, <span class="st">"Select Year"</span>, <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, </span>
<span id="cb117-37"><a href="#cb117-37"></a>                                   <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb117-38"><a href="#cb117-38"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> Africa tab </span></span>
<span id="cb117-39"><a href="#cb117-39"></a>              </span>
<span id="cb117-40"><a href="#cb117-40"></a>              <span class="co"># Americas tab ----</span></span>
<span id="cb117-41"><a href="#cb117-41"></a>              <span class="fu">tabPanel</span>(<span class="st">"Americas"</span>, </span>
<span id="cb117-42"><a href="#cb117-42"></a>                       <span class="fu">plotOutput</span>(<span class="st">"americas_plot"</span>),</span>
<span id="cb117-43"><a href="#cb117-43"></a>                       <span class="fu">sliderInput</span>(<span class="st">"americas_year"</span>, <span class="st">"Select Year"</span>, <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, </span>
<span id="cb117-44"><a href="#cb117-44"></a>                                   <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb117-45"><a href="#cb117-45"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> Americas tab</span></span>
<span id="cb117-46"><a href="#cb117-46"></a>              </span>
<span id="cb117-47"><a href="#cb117-47"></a>              <span class="co"># Asia tab ----</span></span>
<span id="cb117-48"><a href="#cb117-48"></a>              <span class="fu">tabPanel</span>(<span class="st">"Asia"</span>, </span>
<span id="cb117-49"><a href="#cb117-49"></a>                       <span class="fu">plotOutput</span>(<span class="st">"asia_plot"</span>),</span>
<span id="cb117-50"><a href="#cb117-50"></a>                       <span class="fu">sliderInput</span>(<span class="st">"asia_year"</span>, <span class="st">"Select Year"</span>, <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, </span>
<span id="cb117-51"><a href="#cb117-51"></a>                                   <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb117-52"><a href="#cb117-52"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> Asia tab</span></span>
<span id="cb117-53"><a href="#cb117-53"></a>              </span>
<span id="cb117-54"><a href="#cb117-54"></a>              <span class="co"># Europe tab ----</span></span>
<span id="cb117-55"><a href="#cb117-55"></a>              <span class="fu">tabPanel</span>(<span class="st">"Europe"</span>, </span>
<span id="cb117-56"><a href="#cb117-56"></a>                       <span class="fu">plotOutput</span>(<span class="st">"europe_plot"</span>),</span>
<span id="cb117-57"><a href="#cb117-57"></a>                       <span class="fu">sliderInput</span>(<span class="st">"europe_year"</span>, <span class="st">"Select Year"</span>, <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, </span>
<span id="cb117-58"><a href="#cb117-58"></a>                                   <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb117-59"><a href="#cb117-59"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> Europe</span></span>
<span id="cb117-60"><a href="#cb117-60"></a>              </span>
<span id="cb117-61"><a href="#cb117-61"></a>              <span class="co"># Oceania tab ----</span></span>
<span id="cb117-62"><a href="#cb117-62"></a>              <span class="fu">tabPanel</span>(<span class="st">"Oceania"</span>, </span>
<span id="cb117-63"><a href="#cb117-63"></a>                       <span class="fu">plotOutput</span>(<span class="st">"oceania_plot"</span>),</span>
<span id="cb117-64"><a href="#cb117-64"></a>                       <span class="fu">sliderInput</span>(<span class="st">"oceania_year"</span>, <span class="st">"Select Year"</span>, <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, </span>
<span id="cb117-65"><a href="#cb117-65"></a>                                   <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb117-66"><a href="#cb117-66"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> Oceania tab</span></span>
<span id="cb117-67"><a href="#cb117-67"></a>              </span>
<span id="cb117-68"><a href="#cb117-68"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> continent tabsetPanel</span></span>
<span id="cb117-69"><a href="#cb117-69"></a>  </span>
<span id="cb117-70"><a href="#cb117-70"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb117-71"><a href="#cb117-71"></a></span>
<span id="cb117-72"><a href="#cb117-72"></a><span class="co">#.............................server.............................</span></span>
<span id="cb117-73"><a href="#cb117-73"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb117-74"><a href="#cb117-74"></a>  </span>
<span id="cb117-75"><a href="#cb117-75"></a>  <span class="co"># ---- collect one year of data ----</span></span>
<span id="cb117-76"><a href="#cb117-76"></a>  ydata_all <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb117-77"><a href="#cb117-77"></a>    <span class="fu">filter</span>(all_data, year <span class="sc">==</span> input<span class="sc">$</span>all_year)</span>
<span id="cb117-78"><a href="#cb117-78"></a>  })</span>
<span id="cb117-79"><a href="#cb117-79"></a>  </span>
<span id="cb117-80"><a href="#cb117-80"></a>  ydata_africa <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb117-81"><a href="#cb117-81"></a>    <span class="fu">filter</span>(africa_data, year <span class="sc">==</span> input<span class="sc">$</span>africa_year)</span>
<span id="cb117-82"><a href="#cb117-82"></a>  })</span>
<span id="cb117-83"><a href="#cb117-83"></a>  </span>
<span id="cb117-84"><a href="#cb117-84"></a>  ydata_americas <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb117-85"><a href="#cb117-85"></a>    <span class="fu">filter</span>(americas_data, year <span class="sc">==</span> input<span class="sc">$</span>americas_year)</span>
<span id="cb117-86"><a href="#cb117-86"></a>  })</span>
<span id="cb117-87"><a href="#cb117-87"></a>  </span>
<span id="cb117-88"><a href="#cb117-88"></a>  ydata_asia <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb117-89"><a href="#cb117-89"></a>    <span class="fu">filter</span>(asia_data, year <span class="sc">==</span> input<span class="sc">$</span>asia_year)</span>
<span id="cb117-90"><a href="#cb117-90"></a>  })  </span>
<span id="cb117-91"><a href="#cb117-91"></a>  </span>
<span id="cb117-92"><a href="#cb117-92"></a>  ydata_europe <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb117-93"><a href="#cb117-93"></a>    <span class="fu">filter</span>(europe_data, year <span class="sc">==</span> input<span class="sc">$</span>europe_year)</span>
<span id="cb117-94"><a href="#cb117-94"></a>  })</span>
<span id="cb117-95"><a href="#cb117-95"></a>  </span>
<span id="cb117-96"><a href="#cb117-96"></a>  ydata_oceania <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb117-97"><a href="#cb117-97"></a>    <span class="fu">filter</span>(oceania_data, year <span class="sc">==</span> input<span class="sc">$</span>oceania_year)</span>
<span id="cb117-98"><a href="#cb117-98"></a>  })</span>
<span id="cb117-99"><a href="#cb117-99"></a>  </span>
<span id="cb117-100"><a href="#cb117-100"></a>  <span class="co"># ---- compute plot ranges ----</span></span>
<span id="cb117-101"><a href="#cb117-101"></a>  xrange_all <span class="ot">&lt;-</span> <span class="fu">range</span>(all_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb117-102"><a href="#cb117-102"></a>  yrange_all <span class="ot">&lt;-</span> <span class="fu">range</span>(all_data<span class="sc">$</span>lifeExp)</span>
<span id="cb117-103"><a href="#cb117-103"></a>  </span>
<span id="cb117-104"><a href="#cb117-104"></a>  xrange_africa <span class="ot">&lt;-</span> <span class="fu">range</span>(africa_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb117-105"><a href="#cb117-105"></a>  yrange_africa <span class="ot">&lt;-</span> <span class="fu">range</span>(africa_data<span class="sc">$</span>lifeExp)</span>
<span id="cb117-106"><a href="#cb117-106"></a>  </span>
<span id="cb117-107"><a href="#cb117-107"></a>  xrange_americas <span class="ot">&lt;-</span> <span class="fu">range</span>(americas_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb117-108"><a href="#cb117-108"></a>  yrange_americas <span class="ot">&lt;-</span> <span class="fu">range</span>(americas_data<span class="sc">$</span>lifeExp)</span>
<span id="cb117-109"><a href="#cb117-109"></a>  </span>
<span id="cb117-110"><a href="#cb117-110"></a>  xrange_asia <span class="ot">&lt;-</span> <span class="fu">range</span>(asia_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb117-111"><a href="#cb117-111"></a>  yrange_asia <span class="ot">&lt;-</span> <span class="fu">range</span>(asia_data<span class="sc">$</span>lifeExp)</span>
<span id="cb117-112"><a href="#cb117-112"></a>  </span>
<span id="cb117-113"><a href="#cb117-113"></a>  xrange_europe <span class="ot">&lt;-</span> <span class="fu">range</span>(europe_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb117-114"><a href="#cb117-114"></a>  yrange_europe <span class="ot">&lt;-</span> <span class="fu">range</span>(europe_data<span class="sc">$</span>lifeExp)</span>
<span id="cb117-115"><a href="#cb117-115"></a>  </span>
<span id="cb117-116"><a href="#cb117-116"></a>  xrange_oceania <span class="ot">&lt;-</span> <span class="fu">range</span>(oceania_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb117-117"><a href="#cb117-117"></a>  yrange_oceania <span class="ot">&lt;-</span> <span class="fu">range</span>(oceania_data<span class="sc">$</span>lifeExp)</span>
<span id="cb117-118"><a href="#cb117-118"></a>  </span>
<span id="cb117-119"><a href="#cb117-119"></a>  <span class="co"># ---- render plots ----</span></span>
<span id="cb117-120"><a href="#cb117-120"></a>  </span>
<span id="cb117-121"><a href="#cb117-121"></a>  <span class="co"># render all countries ----</span></span>
<span id="cb117-122"><a href="#cb117-122"></a>  output<span class="sc">$</span>all_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb117-123"><a href="#cb117-123"></a>    </span>
<span id="cb117-124"><a href="#cb117-124"></a>    <span class="co"># draw background plot with legend </span></span>
<span id="cb117-125"><a href="#cb117-125"></a>    <span class="fu">plot</span>(all_data<span class="sc">$</span>gdpPercap, all_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb117-126"><a href="#cb117-126"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb117-127"><a href="#cb117-127"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb117-128"><a href="#cb117-128"></a>           <span class="fu">grid</span>()</span>
<span id="cb117-129"><a href="#cb117-129"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_all), <span class="fu">mean</span>(yrange_all), input<span class="sc">$</span>all_year, </span>
<span id="cb117-130"><a href="#cb117-130"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb117-131"><a href="#cb117-131"></a>         }</span>
<span id="cb117-132"><a href="#cb117-132"></a>    )</span>
<span id="cb117-133"><a href="#cb117-133"></a>    </span>
<span id="cb117-134"><a href="#cb117-134"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(all_data<span class="sc">$</span>continent), </span>
<span id="cb117-135"><a href="#cb117-135"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_all)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb117-136"><a href="#cb117-136"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb117-137"><a href="#cb117-137"></a>    )</span>
<span id="cb117-138"><a href="#cb117-138"></a>    </span>
<span id="cb117-139"><a href="#cb117-139"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb117-140"><a href="#cb117-140"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb117-141"><a href="#cb117-141"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb117-142"><a href="#cb117-142"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb117-143"><a href="#cb117-143"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb117-144"><a href="#cb117-144"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_all</span>()<span class="sc">$</span>continent]</span>
<span id="cb117-145"><a href="#cb117-145"></a>    </span>
<span id="cb117-146"><a href="#cb117-146"></a>    <span class="co"># add bubbles </span></span>
<span id="cb117-147"><a href="#cb117-147"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_all</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_all</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb117-148"><a href="#cb117-148"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_all</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb117-149"><a href="#cb117-149"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb117-150"><a href="#cb117-150"></a>  })</span>
<span id="cb117-151"><a href="#cb117-151"></a>  </span>
<span id="cb117-152"><a href="#cb117-152"></a>  <span class="co"># render africa ----</span></span>
<span id="cb117-153"><a href="#cb117-153"></a>  output<span class="sc">$</span>africa_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb117-154"><a href="#cb117-154"></a>    </span>
<span id="cb117-155"><a href="#cb117-155"></a>    <span class="co"># draw background plot with legend</span></span>
<span id="cb117-156"><a href="#cb117-156"></a>    <span class="fu">plot</span>(africa_data<span class="sc">$</span>gdpPercap, africa_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb117-157"><a href="#cb117-157"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb117-158"><a href="#cb117-158"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb117-159"><a href="#cb117-159"></a>           <span class="fu">grid</span>()</span>
<span id="cb117-160"><a href="#cb117-160"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_africa), <span class="fu">mean</span>(yrange_africa), input<span class="sc">$</span>africa_year, </span>
<span id="cb117-161"><a href="#cb117-161"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb117-162"><a href="#cb117-162"></a>         }</span>
<span id="cb117-163"><a href="#cb117-163"></a>    )</span>
<span id="cb117-164"><a href="#cb117-164"></a>    </span>
<span id="cb117-165"><a href="#cb117-165"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(africa_data<span class="sc">$</span>continent), </span>
<span id="cb117-166"><a href="#cb117-166"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_africa)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb117-167"><a href="#cb117-167"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb117-168"><a href="#cb117-168"></a>    )</span>
<span id="cb117-169"><a href="#cb117-169"></a>    </span>
<span id="cb117-170"><a href="#cb117-170"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb117-171"><a href="#cb117-171"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb117-172"><a href="#cb117-172"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb117-173"><a href="#cb117-173"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb117-174"><a href="#cb117-174"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb117-175"><a href="#cb117-175"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_africa</span>()<span class="sc">$</span>continent]</span>
<span id="cb117-176"><a href="#cb117-176"></a>    </span>
<span id="cb117-177"><a href="#cb117-177"></a>    <span class="co"># add bubbles</span></span>
<span id="cb117-178"><a href="#cb117-178"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_africa</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_africa</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb117-179"><a href="#cb117-179"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_africa</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb117-180"><a href="#cb117-180"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb117-181"><a href="#cb117-181"></a>  })</span>
<span id="cb117-182"><a href="#cb117-182"></a>  </span>
<span id="cb117-183"><a href="#cb117-183"></a>  <span class="co"># render americas ----</span></span>
<span id="cb117-184"><a href="#cb117-184"></a>  output<span class="sc">$</span>americas_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb117-185"><a href="#cb117-185"></a>    </span>
<span id="cb117-186"><a href="#cb117-186"></a>    <span class="co"># draw background plot with legend</span></span>
<span id="cb117-187"><a href="#cb117-187"></a>    <span class="fu">plot</span>(americas_data<span class="sc">$</span>gdpPercap, americas_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb117-188"><a href="#cb117-188"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb117-189"><a href="#cb117-189"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb117-190"><a href="#cb117-190"></a>           <span class="fu">grid</span>()</span>
<span id="cb117-191"><a href="#cb117-191"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_americas), <span class="fu">mean</span>(yrange_americas), input<span class="sc">$</span>americas_year, </span>
<span id="cb117-192"><a href="#cb117-192"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb117-193"><a href="#cb117-193"></a>         }</span>
<span id="cb117-194"><a href="#cb117-194"></a>    )</span>
<span id="cb117-195"><a href="#cb117-195"></a>    </span>
<span id="cb117-196"><a href="#cb117-196"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(americas_data<span class="sc">$</span>continent), </span>
<span id="cb117-197"><a href="#cb117-197"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_americas)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb117-198"><a href="#cb117-198"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb117-199"><a href="#cb117-199"></a>    )</span>
<span id="cb117-200"><a href="#cb117-200"></a>    </span>
<span id="cb117-201"><a href="#cb117-201"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb117-202"><a href="#cb117-202"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb117-203"><a href="#cb117-203"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb117-204"><a href="#cb117-204"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb117-205"><a href="#cb117-205"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb117-206"><a href="#cb117-206"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_americas</span>()<span class="sc">$</span>continent]</span>
<span id="cb117-207"><a href="#cb117-207"></a>    </span>
<span id="cb117-208"><a href="#cb117-208"></a>    <span class="co"># add bubbles</span></span>
<span id="cb117-209"><a href="#cb117-209"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_americas</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_americas</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb117-210"><a href="#cb117-210"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_americas</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb117-211"><a href="#cb117-211"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb117-212"><a href="#cb117-212"></a>  })</span>
<span id="cb117-213"><a href="#cb117-213"></a>  </span>
<span id="cb117-214"><a href="#cb117-214"></a>  <span class="co"># render asia ----</span></span>
<span id="cb117-215"><a href="#cb117-215"></a>  output<span class="sc">$</span>asia_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb117-216"><a href="#cb117-216"></a>    </span>
<span id="cb117-217"><a href="#cb117-217"></a>    <span class="co"># draw background plot with legend</span></span>
<span id="cb117-218"><a href="#cb117-218"></a>    <span class="fu">plot</span>(asia_data<span class="sc">$</span>gdpPercap, asia_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb117-219"><a href="#cb117-219"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb117-220"><a href="#cb117-220"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb117-221"><a href="#cb117-221"></a>           <span class="fu">grid</span>()</span>
<span id="cb117-222"><a href="#cb117-222"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_asia), <span class="fu">mean</span>(yrange_asia), input<span class="sc">$</span>asia_year, </span>
<span id="cb117-223"><a href="#cb117-223"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb117-224"><a href="#cb117-224"></a>         }</span>
<span id="cb117-225"><a href="#cb117-225"></a>    )</span>
<span id="cb117-226"><a href="#cb117-226"></a>    </span>
<span id="cb117-227"><a href="#cb117-227"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(asia_data<span class="sc">$</span>continent), </span>
<span id="cb117-228"><a href="#cb117-228"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_asia)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb117-229"><a href="#cb117-229"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb117-230"><a href="#cb117-230"></a>    )</span>
<span id="cb117-231"><a href="#cb117-231"></a>    </span>
<span id="cb117-232"><a href="#cb117-232"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb117-233"><a href="#cb117-233"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb117-234"><a href="#cb117-234"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb117-235"><a href="#cb117-235"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb117-236"><a href="#cb117-236"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb117-237"><a href="#cb117-237"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_asia</span>()<span class="sc">$</span>continent]</span>
<span id="cb117-238"><a href="#cb117-238"></a>    </span>
<span id="cb117-239"><a href="#cb117-239"></a>    <span class="co"># add bubbles</span></span>
<span id="cb117-240"><a href="#cb117-240"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_asia</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_asia</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb117-241"><a href="#cb117-241"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_asia</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb117-242"><a href="#cb117-242"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb117-243"><a href="#cb117-243"></a>  })</span>
<span id="cb117-244"><a href="#cb117-244"></a>  </span>
<span id="cb117-245"><a href="#cb117-245"></a>  <span class="co"># render europe ----</span></span>
<span id="cb117-246"><a href="#cb117-246"></a>  output<span class="sc">$</span>europe_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb117-247"><a href="#cb117-247"></a>    <span class="fu">stop</span>(<span class="st">"Error: Don't look at Europe"</span>)</span>
<span id="cb117-248"><a href="#cb117-248"></a>    <span class="co"># draw background plot with legend</span></span>
<span id="cb117-249"><a href="#cb117-249"></a>    <span class="fu">plot</span>(europe_data<span class="sc">$</span>gdpPercap, europe_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb117-250"><a href="#cb117-250"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb117-251"><a href="#cb117-251"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb117-252"><a href="#cb117-252"></a>           <span class="fu">grid</span>()</span>
<span id="cb117-253"><a href="#cb117-253"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_europe), <span class="fu">mean</span>(yrange_europe), input<span class="sc">$</span>europe_year, </span>
<span id="cb117-254"><a href="#cb117-254"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb117-255"><a href="#cb117-255"></a>         }</span>
<span id="cb117-256"><a href="#cb117-256"></a>    )</span>
<span id="cb117-257"><a href="#cb117-257"></a>    </span>
<span id="cb117-258"><a href="#cb117-258"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(europe_data<span class="sc">$</span>continent), </span>
<span id="cb117-259"><a href="#cb117-259"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_europe)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb117-260"><a href="#cb117-260"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb117-261"><a href="#cb117-261"></a>    )</span>
<span id="cb117-262"><a href="#cb117-262"></a>    </span>
<span id="cb117-263"><a href="#cb117-263"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb117-264"><a href="#cb117-264"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb117-265"><a href="#cb117-265"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb117-266"><a href="#cb117-266"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb117-267"><a href="#cb117-267"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb117-268"><a href="#cb117-268"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_europe</span>()<span class="sc">$</span>continent]</span>
<span id="cb117-269"><a href="#cb117-269"></a>    </span>
<span id="cb117-270"><a href="#cb117-270"></a>    <span class="co"># add bubbles</span></span>
<span id="cb117-271"><a href="#cb117-271"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_europe</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_europe</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb117-272"><a href="#cb117-272"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_europe</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb117-273"><a href="#cb117-273"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb117-274"><a href="#cb117-274"></a>  })</span>
<span id="cb117-275"><a href="#cb117-275"></a>  </span>
<span id="cb117-276"><a href="#cb117-276"></a>  <span class="co"># render oceania ----</span></span>
<span id="cb117-277"><a href="#cb117-277"></a>  output<span class="sc">$</span>oceania_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb117-278"><a href="#cb117-278"></a>    </span>
<span id="cb117-279"><a href="#cb117-279"></a>    <span class="co"># draw background plot with legend</span></span>
<span id="cb117-280"><a href="#cb117-280"></a>    <span class="fu">plot</span>(oceania_data<span class="sc">$</span>gdpPercap, oceania_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb117-281"><a href="#cb117-281"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb117-282"><a href="#cb117-282"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb117-283"><a href="#cb117-283"></a>           <span class="fu">grid</span>()</span>
<span id="cb117-284"><a href="#cb117-284"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_oceania), <span class="fu">mean</span>(yrange_oceania), input<span class="sc">$</span>oceania_year, </span>
<span id="cb117-285"><a href="#cb117-285"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb117-286"><a href="#cb117-286"></a>         }</span>
<span id="cb117-287"><a href="#cb117-287"></a>    )</span>
<span id="cb117-288"><a href="#cb117-288"></a>    </span>
<span id="cb117-289"><a href="#cb117-289"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(oceania_data<span class="sc">$</span>continent), </span>
<span id="cb117-290"><a href="#cb117-290"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_oceania)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb117-291"><a href="#cb117-291"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb117-292"><a href="#cb117-292"></a>    )</span>
<span id="cb117-293"><a href="#cb117-293"></a>    </span>
<span id="cb117-294"><a href="#cb117-294"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb117-295"><a href="#cb117-295"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb117-296"><a href="#cb117-296"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb117-297"><a href="#cb117-297"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb117-298"><a href="#cb117-298"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb117-299"><a href="#cb117-299"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_oceania</span>()<span class="sc">$</span>continent]</span>
<span id="cb117-300"><a href="#cb117-300"></a>    </span>
<span id="cb117-301"><a href="#cb117-301"></a>    <span class="co"># add bubbles ----</span></span>
<span id="cb117-302"><a href="#cb117-302"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_oceania</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_oceania</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb117-303"><a href="#cb117-303"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_oceania</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb117-304"><a href="#cb117-304"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb117-305"><a href="#cb117-305"></a>  })</span>
<span id="cb117-306"><a href="#cb117-306"></a>  </span>
<span id="cb117-307"><a href="#cb117-307"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb117-308"><a href="#cb117-308"></a></span>
<span id="cb117-309"><a href="#cb117-309"></a><span class="co"># Run the application </span></span>
<span id="cb117-310"><a href="#cb117-310"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="repeated-code" class="slide level2" data-menu-title="Repeated gapminder code"><h2></h2>
<div class="slide-title-smaller">
Repeated code sections
</div>
<p class="small-text">
Taking a closer look at the gapminder app code, we’ll see that the following sections of code are repeated for each region (6 times total; only code sections for “all” regions shown below):
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>tabPanel</code> (<strong>UI</strong>)
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a><span class="co"># "All" tabPanel (repeated 5 more times for each subregion) </span></span>
<span id="cb118-2"><a href="#cb118-2"></a><span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"All"</span>, </span>
<span id="cb118-3"><a href="#cb118-3"></a>         <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"all_plot"</span>),</span>
<span id="cb118-4"><a href="#cb118-4"></a>         <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"all_year"</span>, <span class="at">label =</span> <span class="st">"Select Year"</span>, </span>
<span id="cb118-5"><a href="#cb118-5"></a>                     <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>, </span>
<span id="cb118-6"><a href="#cb118-6"></a>                     <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> reactive data frame (<strong>server</strong>)
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="co"># "All" reactive data frame (repeated 5 more times for each subregion)</span></span>
<span id="cb119-2"><a href="#cb119-2"></a>ydata_all <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb119-3"><a href="#cb119-3"></a>  <span class="fu">filter</span>(all_data, year <span class="sc">==</span> input<span class="sc">$</span>all_year)</span>
<span id="cb119-4"><a href="#cb119-4"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> reactive data frame (<strong>server</strong>)
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a><span class="co"># "All" reactive data frame (repeated 5 more times for each subregion)</span></span>
<span id="cb120-2"><a href="#cb120-2"></a>ydata_all <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb120-3"><a href="#cb120-3"></a>  <span class="fu">filter</span>(all_data, year <span class="sc">==</span> input<span class="sc">$</span>all_year)</span>
<span id="cb120-4"><a href="#cb120-4"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> calculating date ranges (<strong>server</strong>)
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a><span class="co"># "All" date range (repeated 5 more times for each subregion)</span></span>
<span id="cb121-2"><a href="#cb121-2"></a>xrange_all <span class="ot">&lt;-</span> <span class="fu">range</span>(all_data<span class="sc">$</span>gdpPercap)</span>
<span id="cb121-3"><a href="#cb121-3"></a>yrange_all <span class="ot">&lt;-</span> <span class="fu">range</span>(all_data<span class="sc">$</span>lifeExp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="repeated-code-cont" class="slide level2" data-menu-title="Repeated gapminder code (cont.)"><h2></h2>
<div class="slide-title-smaller">
Repeated code sections (cont.)
</div>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><code>renderPlot({})</code> (<strong>server</strong>)
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a><span class="co"># "All" plot (repeated 5 more times for each subregion)</span></span>
<span id="cb122-2"><a href="#cb122-2"></a>output<span class="sc">$</span>all_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb122-3"><a href="#cb122-3"></a>    </span>
<span id="cb122-4"><a href="#cb122-4"></a>    <span class="co"># draw background plot with legend </span></span>
<span id="cb122-5"><a href="#cb122-5"></a>    <span class="fu">plot</span>(all_data<span class="sc">$</span>gdpPercap, all_data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb122-6"><a href="#cb122-6"></a>         <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb122-7"><a href="#cb122-7"></a>         <span class="at">panel.first =</span> {</span>
<span id="cb122-8"><a href="#cb122-8"></a>           <span class="fu">grid</span>()</span>
<span id="cb122-9"><a href="#cb122-9"></a>           <span class="fu">text</span>(<span class="fu">mean</span>(xrange_all), <span class="fu">mean</span>(yrange_all), input<span class="sc">$</span>all_year, </span>
<span id="cb122-10"><a href="#cb122-10"></a>                <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb122-11"><a href="#cb122-11"></a>         }</span>
<span id="cb122-12"><a href="#cb122-12"></a>    )</span>
<span id="cb122-13"><a href="#cb122-13"></a>    </span>
<span id="cb122-14"><a href="#cb122-14"></a>    <span class="co"># build legend</span></span>
<span id="cb122-15"><a href="#cb122-15"></a>    <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(all_data<span class="sc">$</span>continent), </span>
<span id="cb122-16"><a href="#cb122-16"></a>           <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange_all)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb122-17"><a href="#cb122-17"></a>           <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>)</span>
<span id="cb122-18"><a href="#cb122-18"></a>    )</span>
<span id="cb122-19"><a href="#cb122-19"></a>    </span>
<span id="cb122-20"><a href="#cb122-20"></a>    <span class="co"># Determine bubble colors</span></span>
<span id="cb122-21"><a href="#cb122-21"></a>    cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb122-22"><a href="#cb122-22"></a>              <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb122-23"><a href="#cb122-23"></a>              <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb122-24"><a href="#cb122-24"></a>              <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb122-25"><a href="#cb122-25"></a>              <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata_all</span>()<span class="sc">$</span>continent]</span>
<span id="cb122-26"><a href="#cb122-26"></a>    </span>
<span id="cb122-27"><a href="#cb122-27"></a>    <span class="co"># add bubbles </span></span>
<span id="cb122-28"><a href="#cb122-28"></a>    <span class="fu">symbols</span>(<span class="fu">ydata_all</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata_all</span>()<span class="sc">$</span>lifeExp, </span>
<span id="cb122-29"><a href="#cb122-29"></a>            <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata_all</span>()<span class="sc">$</span>pop), <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, </span>
<span id="cb122-30"><a href="#cb122-30"></a>            <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb122-31"><a href="#cb122-31"></a>  })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="enter-modules" class="slide level2" data-menu-title="Enter shiny modules"><h2></h2>
<div class="slide-title-smaller">
Enter Shiny modules
</div>
<p class="body-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>A shiny module is a piece of a shiny app</strong> – it can’t be run directly, but instead is included as part of a larger app. While functions work well for code that that is either completely on the client (UI) side or completely on the server side, modules can be written for code that spans both.
</p>
<div class="fragment">
<p class="body-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Modules can represent inputs, outputs, or both</strong> (<em>we’ll be building a module that represents both</em>). Motivation for building modules can range from enabling reuse of code (once created, modules can be reused within the same app or even across different apps), to breaking up a large, complex app into smaller, separate components.
</p>
</div>
<div class="fragment">
<p class="body-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><strong>Modules help to solve a <em>namespacing</em> problem</strong> – recall that all <code>Id</code>s (e.g.&nbsp;<code>inputId</code>s) <em>must</em> be unique across your app. <strong>Namespacing</strong> is a system for oganizing objects with identical names (similar to namespacing functions from particular packages using the syntax <code>package::function</code> e.g.&nbsp;<code><a href="https://rdrr.io/pkg/plyr/man/arrange.html">plyr::arrange</a></code> vs <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">dplyr::arrange</a></code>).
</p>
</div>
</section><section id="modules-structure" class="slide level2" data-menu-title="Structure of modules"><h2></h2>
<div class="slide-title-smaller">
What do modules look like?
</div>
<p class="body-text">
Modules are a coding pattern, organized into <strong>two</strong> functions: one that creates the <strong>UI elements</strong> and one that <strong>loads the server logic</strong>. They can look a bit different, depending on your module, but they generally follow this pattern:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a><span class="co"># myModule.R</span></span>
<span id="cb123-2"><a href="#cb123-2"></a><span class="co">#..........................ui function...........................</span></span>
<span id="cb123-3"><a href="#cb123-3"></a></span>
<span id="cb123-4"><a href="#cb123-4"></a>myModuleUI <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb123-5"><a href="#cb123-5"></a>  </span>
<span id="cb123-6"><a href="#cb123-6"></a>  ns <span class="ot">&lt;-</span> <span class="fu">NS</span>(id)</span>
<span id="cb123-7"><a href="#cb123-7"></a>  </span>
<span id="cb123-8"><a href="#cb123-8"></a>  <span class="fu">tagList</span>(</span>
<span id="cb123-9"><a href="#cb123-9"></a>    <span class="co"># inputs with ids wrapped in ns() (e.g. `sliderInput(id = ns("slider"))`)</span></span>
<span id="cb123-10"><a href="#cb123-10"></a>    <span class="co"># outputs with ids wrapped in ns() (e.g. `plotOutput(id = "ns(plot"))`)</span></span>
<span id="cb123-11"><a href="#cb123-11"></a>  )</span>
<span id="cb123-12"><a href="#cb123-12"></a>  </span>
<span id="cb123-13"><a href="#cb123-13"></a>}</span>
<span id="cb123-14"><a href="#cb123-14"></a></span>
<span id="cb123-15"><a href="#cb123-15"></a><span class="co">#........................server function.........................</span></span>
<span id="cb123-16"><a href="#cb123-16"></a>myModuleServer <span class="ot">&lt;-</span> <span class="cf">function</span>(id, ...) { <span class="co"># where `...` includes any number of additional parameters</span></span>
<span id="cb123-17"><a href="#cb123-17"></a>  </span>
<span id="cb123-18"><a href="#cb123-18"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb123-19"><a href="#cb123-19"></a>    </span>
<span id="cb123-20"><a href="#cb123-20"></a>    <span class="co"># server logic</span></span>
<span id="cb123-21"><a href="#cb123-21"></a>    </span>
<span id="cb123-22"><a href="#cb123-22"></a>  }) </span>
<span id="cb123-23"><a href="#cb123-23"></a>  </span>
<span id="cb123-24"><a href="#cb123-24"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="where-to-define-modules" class="slide level2" data-menu-title="Where to define modules"><h2></h2>
<div class="slide-title-smaller">
Where should I define/save my module?
</div>
<p class="body-text">
Part of the appeal of creating modules is breaking your long <code>app.R</code> (or <code>ui.R</code> &amp; <code>server.R</code>) scripts into smaller pieces. <strong>Creating a separate R script to house a given module (both the UI <em>and</em> Server function components) is typically the best course of action (a good naming convention is giving it a descriptive name with the suffix “Module” e.g.&nbsp;<code>gapModule.R</code>).</strong> There are a variety of places you can write and/or save your modularized code to, but I recommend one of the following two options (at least while we’re just getting started on our shiny modules journey):
</p>
<div class="fragment">
<p class="body-text topbr">
<strong>(1)</strong> save your modularized code script inside your app’s directory (e.g.&nbsp;<code>~/app-directory/myModule.R</code>)
</p>
<p class="small-text">
If you choose this option, call <code>source("myModule.R")</code> from <code>global.R</code> (if using ui.R/server.R) or <code>app.R</code>.
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<strong>(2)</strong> save your modularized code script inside the <code>/R</code> subdirectory of your application (e.g.&nbsp;<code>~/app-dir/R/myModule.R</code>)
</p>
<p class="small-text">
If you choose this option, your module will automatically be sourced (as of Shiny 1.5.0) when the application is loaded.
</p>
</div>
</section><section id="ui-function" class="slide level2" data-menu-title="UI function"><h2></h2>
<div class="slide-title-smaller">
Breaking down the UI function:
</div>
<p class="smaller-text">
The UI part of a module needs to do <strong>two</strong> things: <strong>(1)</strong> return a shiny element (e.g.&nbsp;an input &amp; output), and <strong>(2)</strong> assign module elements to a unique namespace using <code>NS()</code>. <code>NS()</code> provides an easy way to help with namespacing within your module, ensuring that each time your module is called, a unique <code>id</code> is assigned.
</p>
<p class="smaller-text">
The UI function for our gapminder module will look like this (<strong>NOTE:</strong> code comments below denote the general order of operations I followed when writing this UI function):
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a><span class="co"># step 1: a good function naming convention is a descriptive basename, suffixed by `UI`</span></span>
<span id="cb124-2"><a href="#cb124-2"></a></span>
<span id="cb124-3"><a href="#cb124-3"></a>gapModuleUI <span class="ot">&lt;-</span> <span class="cf">function</span>(id) { <span class="co"># step 2: the first argument to a UI function should always be `id` -- this is the namespace for the module </span></span>
<span id="cb124-4"><a href="#cb124-4"></a>  </span>
<span id="cb124-5"><a href="#cb124-5"></a>  ns <span class="ot">&lt;-</span> <span class="fu">NS</span>(id) <span class="co"># step 3: the function body starts with the statement `ns &lt;- NS(id)`</span></span>
<span id="cb124-6"><a href="#cb124-6"></a>  </span>
<span id="cb124-7"><a href="#cb124-7"></a>  <span class="fu">tagList</span>( <span class="co"># step 4: surrounding all inputs &amp; outputs in `tagList()`, which ensures that they are ALL returned (not necessary if you're just returning a single element)</span></span>
<span id="cb124-8"><a href="#cb124-8"></a>    </span>
<span id="cb124-9"><a href="#cb124-9"></a>    <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="fu">ns</span>(<span class="st">"plot"</span>)), <span class="co"># step 5.1: wrap outputId in `ns()`</span></span>
<span id="cb124-10"><a href="#cb124-10"></a>    </span>
<span id="cb124-11"><a href="#cb124-11"></a>    <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="fu">ns</span>(<span class="st">"year"</span>), <span class="at">label =</span> <span class="st">"Select Year"</span>, <span class="co"># step 5.2: wrap inputId in `ns()`</span></span>
<span id="cb124-12"><a href="#cb124-12"></a>                <span class="at">value =</span> <span class="dv">1952</span>, <span class="at">min =</span> <span class="dv">1952</span>, <span class="at">max =</span> <span class="dv">2007</span>, <span class="at">step =</span> <span class="dv">5</span>,  </span>
<span id="cb124-13"><a href="#cb124-13"></a>                <span class="at">animate =</span> <span class="fu">animationOptions</span>(<span class="at">interval =</span> <span class="dv">500</span>))</span>
<span id="cb124-14"><a href="#cb124-14"></a>    </span>
<span id="cb124-15"><a href="#cb124-15"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> taglist</span></span>
<span id="cb124-16"><a href="#cb124-16"></a>  </span>
<span id="cb124-17"><a href="#cb124-17"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> gapModuleUI function</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p class="smaller-text">
Wrapping our input and output <code>Id</code>s in <code>ns()</code> will create unique Ids each time our module is called, preventing things from overwriting one one another. For example, if we call <code>gapModuleUI(id = "myFirstModuleCall")</code>, our <code>outputId</code> will be set to <code>myFirstModuleCall-plot</code> and our <code>inputId</code> will be set to <code>myFirstModuleCall-year</code>. Calling our module a second time (e.g.&nbsp;<code>gapModuleUI(id = "mySecondModuleCall")</code>) will generate two new unique Ids (e.g.&nbsp;<code>mySecondModuleCall-plot</code> &amp; <code>mySecondModuleCall-year</code>).
</p>
</section><section id="server-function" class="slide level2" data-menu-title="Server function"><h2></h2>
<div class="slide-title-smaller">
Breaking down the Server function:
</div>
<p class="smaller-text">
The server part of a module looks very similar to a normal (i.e.&nbsp;non-modular) Shiny app server function. Begin by defining your module server function name and provide it with the first <em>required</em> parameter, <code>id</code>, along with any other necessary parameters (we also need to pass our particular function a <code>data</code> parameter to differentiate between data subsets (e.g.&nbsp;<strong>All</strong> vs.&nbsp;<strong>Africa</strong> vs.&nbsp;<strong>Asia</strong> etc.)).
</p>
<p class="smaller-text">
Next, call <code>moduleServer()</code> <em>inside</em> your server function and pass it the <code>id</code> variable, along with the module function. The module function <em>must</em> have three parameters: <code>input</code>, <code>output</code>, and <code>session</code>. You <em>do not</em> have to use <code>ns()</code> to refer to inputs and outputs here. Copy server code from our original app, plop it inside the module function, and sub in our <code>data</code> parameter where ever a data frame subset is called.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a><span class="co"># step 1: a good function naming convention is a descriptive basename, suffixed by `Server`</span></span>
<span id="cb125-2"><a href="#cb125-2"></a></span>
<span id="cb125-3"><a href="#cb125-3"></a>gapModuleServer <span class="ot">&lt;-</span> <span class="cf">function</span>(id, data) { <span class="co"># step 2: the first argument to a server function should always be `id`, followed by any other necessary arguments</span></span>
<span id="cb125-4"><a href="#cb125-4"></a>  </span>
<span id="cb125-5"><a href="#cb125-5"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) { <span class="co"># step 3: call `moduleServer()`, and pass it two things -- (a) a string id that corresponds with the id used to call the module's UI function, and (b) a module server function (this MUST use the three arguments: input, output, and session)</span></span>
<span id="cb125-6"><a href="#cb125-6"></a>    </span>
<span id="cb125-7"><a href="#cb125-7"></a>    <span class="co"># step 4: copy server logic into the module function (only need to do this ONCE, not 6x)</span></span>
<span id="cb125-8"><a href="#cb125-8"></a>    </span>
<span id="cb125-9"><a href="#cb125-9"></a>    <span class="co"># creactive df to collect one year of data ----</span></span>
<span id="cb125-10"><a href="#cb125-10"></a>    ydata <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb125-11"><a href="#cb125-11"></a>      <span class="fu">filter</span>(data, year <span class="sc">==</span> input<span class="sc">$</span>year)</span>
<span id="cb125-12"><a href="#cb125-12"></a>    }) <span class="co"># </span><span class="re">END</span><span class="co"> reactive df</span></span>
<span id="cb125-13"><a href="#cb125-13"></a>    </span>
<span id="cb125-14"><a href="#cb125-14"></a>    <span class="co"># set slider range ----</span></span>
<span id="cb125-15"><a href="#cb125-15"></a>    xrange <span class="ot">&lt;-</span> <span class="fu">range</span>(data<span class="sc">$</span>gdpPercap)</span>
<span id="cb125-16"><a href="#cb125-16"></a>    yrange <span class="ot">&lt;-</span> <span class="fu">range</span>(data<span class="sc">$</span>lifeExp)</span>
<span id="cb125-17"><a href="#cb125-17"></a>    </span>
<span id="cb125-18"><a href="#cb125-18"></a>    <span class="co"># render plot (</span><span class="al">NOTE</span><span class="co">: plotting with base R, so this looks a bit different than you may be used to) -----</span></span>
<span id="cb125-19"><a href="#cb125-19"></a>    output<span class="sc">$</span>plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb125-20"><a href="#cb125-20"></a>      </span>
<span id="cb125-21"><a href="#cb125-21"></a>      <span class="co"># draw background plot with legend</span></span>
<span id="cb125-22"><a href="#cb125-22"></a>      <span class="fu">plot</span>(data<span class="sc">$</span>gdpPercap, data<span class="sc">$</span>lifeExp, <span class="at">type =</span> <span class="st">"n"</span>, </span>
<span id="cb125-23"><a href="#cb125-23"></a>           <span class="at">xlab =</span> <span class="st">"GDP per capita"</span>, <span class="at">ylab =</span> <span class="st">"Life Expectancy"</span>, </span>
<span id="cb125-24"><a href="#cb125-24"></a>           <span class="at">panel.first =</span> {</span>
<span id="cb125-25"><a href="#cb125-25"></a>             <span class="fu">grid</span>()</span>
<span id="cb125-26"><a href="#cb125-26"></a>             <span class="fu">text</span>(<span class="fu">mean</span>(xrange), <span class="fu">mean</span>(yrange), input<span class="sc">$</span>year, </span>
<span id="cb125-27"><a href="#cb125-27"></a>                  <span class="at">col =</span> <span class="st">"grey90"</span>, <span class="at">cex =</span> <span class="dv">5</span>)</span>
<span id="cb125-28"><a href="#cb125-28"></a>           })</span>
<span id="cb125-29"><a href="#cb125-29"></a>      </span>
<span id="cb125-30"><a href="#cb125-30"></a>      <span class="co"># build legend</span></span>
<span id="cb125-31"><a href="#cb125-31"></a>      <span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(data<span class="sc">$</span>continent), </span>
<span id="cb125-32"><a href="#cb125-32"></a>             <span class="at">cex =</span> <span class="fl">1.3</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">text.width =</span> <span class="fu">diff</span>(xrange)<span class="sc">/</span><span class="dv">5</span>,</span>
<span id="cb125-33"><a href="#cb125-33"></a>             <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"#E41A1C99"</span>, <span class="st">"#377EB899"</span>, <span class="st">"#4DAF4A99"</span>, </span>
<span id="cb125-34"><a href="#cb125-34"></a>                                 <span class="st">"#984EA399"</span>, <span class="st">"#FF7F0099"</span>))</span>
<span id="cb125-35"><a href="#cb125-35"></a>                                 </span>
<span id="cb125-36"><a href="#cb125-36"></a>      <span class="co"># determine bubble colors</span></span>
<span id="cb125-37"><a href="#cb125-37"></a>      cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#E41A1C99"</span>,</span>
<span id="cb125-38"><a href="#cb125-38"></a>                <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#377EB899"</span>,</span>
<span id="cb125-39"><a href="#cb125-39"></a>                <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#4DAF4A99"</span>,</span>
<span id="cb125-40"><a href="#cb125-40"></a>                <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#984EA399"</span>,</span>
<span id="cb125-41"><a href="#cb125-41"></a>                <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#FF7F0099"</span>)[<span class="fu">ydata</span>()<span class="sc">$</span>continent]</span>
<span id="cb125-42"><a href="#cb125-42"></a>      </span>
<span id="cb125-43"><a href="#cb125-43"></a>      <span class="co"># add bubbles</span></span>
<span id="cb125-44"><a href="#cb125-44"></a>      <span class="fu">symbols</span>(<span class="fu">ydata</span>()<span class="sc">$</span>gdpPercap, <span class="fu">ydata</span>()<span class="sc">$</span>lifeExp, <span class="at">circles =</span> <span class="fu">sqrt</span>(<span class="fu">ydata</span>()<span class="sc">$</span>pop),</span>
<span id="cb125-45"><a href="#cb125-45"></a>              <span class="at">bg =</span> cols, <span class="at">inches =</span> <span class="fl">0.5</span>, <span class="at">fg =</span> <span class="st">"white"</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb125-46"><a href="#cb125-46"></a>      </span>
<span id="cb125-47"><a href="#cb125-47"></a>    }) <span class="co"># </span><span class="re">END</span><span class="co"> renderPlot</span></span>
<span id="cb125-48"><a href="#cb125-48"></a>    </span>
<span id="cb125-49"><a href="#cb125-49"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> moduleServer</span></span>
<span id="cb125-50"><a href="#cb125-50"></a>  </span>
<span id="cb125-51"><a href="#cb125-51"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server function</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="using-module-1" class="slide level2" data-menu-title="Using your module 1"><h2></h2>
<div class="slide-title-smaller">
Now let’s use our module:
</div>
<p class="small-text">
First, since we’ve saved our <code>gapModule.R</code> file to our app’s directory, we’ll need to source it at the top of our <code>app.R</code> file:
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb126-2"><a href="#cb126-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb126-3"><a href="#cb126-3"></a><span class="fu">library</span>(gapminder) </span>
<span id="cb126-4"><a href="#cb126-4"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb126-5"><a href="#cb126-5"></a><span class="fu">source</span>(<span class="st">"gapModule.R"</span>) </span>
<span id="cb126-6"><a href="#cb126-6"></a></span>
<span id="cb126-7"><a href="#cb126-7"></a><span class="co"># Note: This code creates data sets to use in each tab.</span></span>
<span id="cb126-8"><a href="#cb126-8"></a><span class="co"># It removes Kuwait since Kuwait distorts the gdp scale</span></span>
<span id="cb126-9"><a href="#cb126-9"></a>all_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb126-10"><a href="#cb126-10"></a>africa_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb126-11"><a href="#cb126-11"></a>americas_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Americas"</span>)</span>
<span id="cb126-12"><a href="#cb126-12"></a>asia_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Asia"</span>, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb126-13"><a href="#cb126-13"></a>europe_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Europe"</span>)</span>
<span id="cb126-14"><a href="#cb126-14"></a>oceania_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Oceania"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="using-module-2" class="slide level2" data-menu-title="Using your module 2"><h2></h2>
<div class="slide-title-smaller">
Now let’s use our module:
</div>
<p class="small-text">
Next, let’s use our module’s UI function. We’ll need to define/name each of our <code>tabPanel</code>s (one for each of our six regions), but rather than building a <code>plotOutput</code> and <code>sliderInput</code> inside each <code>tabPanel</code> (each with unique <code>Id</code>s), we can instead call our <code>gapModuleUI()</code> function, and ensure that each time we call it to supply a unique character string for our <code>id</code> parameter.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127" data-code-line-numbers="25-30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb127-2"><a href="#cb127-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb127-3"><a href="#cb127-3"></a><span class="fu">library</span>(gapminder) </span>
<span id="cb127-4"><a href="#cb127-4"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb127-5"><a href="#cb127-5"></a><span class="fu">source</span>(<span class="st">"gapModule.R"</span>) </span>
<span id="cb127-6"><a href="#cb127-6"></a></span>
<span id="cb127-7"><a href="#cb127-7"></a><span class="co"># Note: This code creates data sets to use in each tab.</span></span>
<span id="cb127-8"><a href="#cb127-8"></a><span class="co"># It removes Kuwait since Kuwait distorts the gdp scale</span></span>
<span id="cb127-9"><a href="#cb127-9"></a>all_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb127-10"><a href="#cb127-10"></a>africa_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb127-11"><a href="#cb127-11"></a>americas_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Americas"</span>)</span>
<span id="cb127-12"><a href="#cb127-12"></a>asia_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Asia"</span>, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb127-13"><a href="#cb127-13"></a>europe_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Europe"</span>)</span>
<span id="cb127-14"><a href="#cb127-14"></a>oceania_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Oceania"</span>)</span>
<span id="cb127-15"><a href="#cb127-15"></a></span>
<span id="cb127-16"><a href="#cb127-16"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb127-17"><a href="#cb127-17"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb127-18"><a href="#cb127-18"></a>  </span>
<span id="cb127-19"><a href="#cb127-19"></a>  <span class="co"># app title ----</span></span>
<span id="cb127-20"><a href="#cb127-20"></a>  <span class="fu">titlePanel</span>(<span class="st">"Gapminder"</span>),</span>
<span id="cb127-21"><a href="#cb127-21"></a>  </span>
<span id="cb127-22"><a href="#cb127-22"></a>  <span class="co"># continent tabsetPanel ----</span></span>
<span id="cb127-23"><a href="#cb127-23"></a>  <span class="fu">tabsetPanel</span>(<span class="at">id =</span> <span class="st">"continent"</span>, </span>
<span id="cb127-24"><a href="#cb127-24"></a>              </span>
<span id="cb127-25"><a href="#cb127-25"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"All"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"all"</span>)),</span>
<span id="cb127-26"><a href="#cb127-26"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Africa"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"africa"</span>)),</span>
<span id="cb127-27"><a href="#cb127-27"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Americas"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"americas"</span>)),</span>
<span id="cb127-28"><a href="#cb127-28"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Asia"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"asia"</span>)),</span>
<span id="cb127-29"><a href="#cb127-29"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Europe"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"europe"</span>)),</span>
<span id="cb127-30"><a href="#cb127-30"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Oceania"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"oceania"</span>))</span>
<span id="cb127-31"><a href="#cb127-31"></a>              </span>
<span id="cb127-32"><a href="#cb127-32"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> continent tabsetPanel</span></span>
<span id="cb127-33"><a href="#cb127-33"></a>  </span>
<span id="cb127-34"><a href="#cb127-34"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="using-module-3" class="slide level2" data-menu-title="Using your module 3"><h2></h2>
<div class="slide-title-smaller">
Now let’s use our module:
</div>
<p class="small-text">
Finally, we can re-write our server. Rather than writing out the <em>lengthy</em> code required to make each plot six times over, we can instead call our <code>gapModuleServer()</code> function, supplying each call with <code>id</code>s that match those used in <code>gapModuleUI()</code>, along with the appropriate data subset. Now, run your app! If written correctly, your app should run exactly the same as your initial version.
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128" data-code-line-numbers="39-44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb128-2"><a href="#cb128-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb128-3"><a href="#cb128-3"></a><span class="fu">library</span>(gapminder) </span>
<span id="cb128-4"><a href="#cb128-4"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb128-5"><a href="#cb128-5"></a><span class="fu">source</span>(<span class="st">"gapModule.R"</span>) </span>
<span id="cb128-6"><a href="#cb128-6"></a></span>
<span id="cb128-7"><a href="#cb128-7"></a><span class="co"># Note: This code creates data sets to use in each tab.</span></span>
<span id="cb128-8"><a href="#cb128-8"></a><span class="co"># It removes Kuwait since Kuwait distorts the gdp scale</span></span>
<span id="cb128-9"><a href="#cb128-9"></a>all_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb128-10"><a href="#cb128-10"></a>africa_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb128-11"><a href="#cb128-11"></a>americas_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Americas"</span>)</span>
<span id="cb128-12"><a href="#cb128-12"></a>asia_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Asia"</span>, country <span class="sc">!=</span> <span class="st">"Kuwait"</span>)</span>
<span id="cb128-13"><a href="#cb128-13"></a>europe_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Europe"</span>)</span>
<span id="cb128-14"><a href="#cb128-14"></a>oceania_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, continent <span class="sc">==</span> <span class="st">"Oceania"</span>)</span>
<span id="cb128-15"><a href="#cb128-15"></a></span>
<span id="cb128-16"><a href="#cb128-16"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb128-17"><a href="#cb128-17"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb128-18"><a href="#cb128-18"></a>  </span>
<span id="cb128-19"><a href="#cb128-19"></a>  <span class="co"># app title ----</span></span>
<span id="cb128-20"><a href="#cb128-20"></a>  <span class="fu">titlePanel</span>(<span class="st">"Gapminder"</span>),</span>
<span id="cb128-21"><a href="#cb128-21"></a>  </span>
<span id="cb128-22"><a href="#cb128-22"></a>  <span class="co"># continent tabsetPanel ----</span></span>
<span id="cb128-23"><a href="#cb128-23"></a>  <span class="fu">tabsetPanel</span>(<span class="at">id =</span> <span class="st">"continent"</span>, </span>
<span id="cb128-24"><a href="#cb128-24"></a>              </span>
<span id="cb128-25"><a href="#cb128-25"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"All"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"all"</span>)),</span>
<span id="cb128-26"><a href="#cb128-26"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Africa"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"africa"</span>)),</span>
<span id="cb128-27"><a href="#cb128-27"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Americas"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"americas"</span>)),</span>
<span id="cb128-28"><a href="#cb128-28"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Asia"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"asia"</span>)),</span>
<span id="cb128-29"><a href="#cb128-29"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Europe"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"europe"</span>)),</span>
<span id="cb128-30"><a href="#cb128-30"></a>              <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Oceania"</span>, <span class="fu">gapModuleUI</span>(<span class="at">id =</span> <span class="st">"oceania"</span>))</span>
<span id="cb128-31"><a href="#cb128-31"></a>              </span>
<span id="cb128-32"><a href="#cb128-32"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> continent tabsetPanel</span></span>
<span id="cb128-33"><a href="#cb128-33"></a>  </span>
<span id="cb128-34"><a href="#cb128-34"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb128-35"><a href="#cb128-35"></a></span>
<span id="cb128-36"><a href="#cb128-36"></a><span class="co">#.............................server.............................</span></span>
<span id="cb128-37"><a href="#cb128-37"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb128-38"><a href="#cb128-38"></a>  </span>
<span id="cb128-39"><a href="#cb128-39"></a>  <span class="fu">gapModuleServer</span>(<span class="at">id =</span> <span class="st">"all"</span>, <span class="at">data =</span> all_data)</span>
<span id="cb128-40"><a href="#cb128-40"></a>  <span class="fu">gapModuleServer</span>(<span class="at">id =</span> <span class="st">"africa"</span>, <span class="at">data =</span> africa_data)</span>
<span id="cb128-41"><a href="#cb128-41"></a>  <span class="fu">gapModuleServer</span>(<span class="at">id =</span> <span class="st">"americas"</span>, <span class="at">data =</span> americas_data)</span>
<span id="cb128-42"><a href="#cb128-42"></a>  <span class="fu">gapModuleServer</span>(<span class="at">id =</span> <span class="st">"asia"</span>, <span class="at">data =</span> asia_data)</span>
<span id="cb128-43"><a href="#cb128-43"></a>  <span class="fu">gapModuleServer</span>(<span class="at">id =</span> <span class="st">"europe"</span>, <span class="at">data =</span> europe_data)</span>
<span id="cb128-44"><a href="#cb128-44"></a>  <span class="fu">gapModuleServer</span>(<span class="at">id =</span> <span class="st">"oceania"</span>, <span class="at">data =</span> oceania_data)</span>
<span id="cb128-45"><a href="#cb128-45"></a></span>
<span id="cb128-46"><a href="#cb128-46"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb128-47"><a href="#cb128-47"></a></span>
<span id="cb128-48"><a href="#cb128-48"></a><span class="co"># Run the application </span></span>
<span id="cb128-49"><a href="#cb128-49"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="module-resources" class="slide level2" data-menu-title="Module resources"><h2></h2>
<div class="slide-title-smaller">
Additional module resources
</div>
<p class="body-text">
We’ve barely scratched the surface of modules. Continue on with some of the following resources:
</p>
<p class="small-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://www.rstudio.com/resources/shiny-dev-con/modules/?_ga=2.163786815.1475817156.1670220567-309155161.1666221806">Modularizing Shiny App Code</a> &amp; <a href="https://github.com/rstudio/ShinyDeveloperConference/tree/master/Modules/Demo">associated materials</a>, by <a href="https://github.com/garrettgman">Garrett Grolemund</a> &amp; <a href="https://github.com/jcheng5">Joe Cheng</a> at the 2016 Shiny Developer’s Conference – <strong>NOTE:</strong> This 2016 talk is an <em>excellent</em> introduction to modules and is definitely worth a watch, especially because we just explored the exact example demoed by G. Grolemund. Please note, however, that Shiny modules were overhauled in 2020 with the introduction of <code>moduleServer()</code>. The code on the previous slides has been updated to reflect those changes, and therefore differs slightly from what’s taught in this video.
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://mastering-shiny.org/scaling-modules.html#scaling-modules">Mastering Shiny, Ch. 19 - Shiny Modules</a>, by <a href="https://github.com/hadley">Hadley Wickham</a>
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://shiny.rstudio.com/articles/modules.html">Modularizing Shiny app code</a>, by <a href="https://github.com/wch">Winston Chang</a>
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://www.youtube.com/watch?v=ylLLVo2VL50">Effective use of Shiny modules in application development</a>, by <a href="https://r-podcast.org/host/enantz/">Eric Nantz</a> at rstudio::conf(2019)
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://emilyriederer.netlify.app/post/shiny-modules/">A beginners guide to Shiny modules</a>, by <a href="https://emilyriederer.netlify.app/about/">Emily Riederer</a>
</p>
</section><section id="7-wrap-up" class="slide level2" data-menu-title="!! (7) Wrap-up !!" data-background="#374F50"><h2></h2>
<p class="slide-title-dark">
<svg aria-label="Star" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>Star</title>
<path d="M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"></path></svg> Part 7: Wrap-up
</p>
<p><br></p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Shiny alternatives
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Words of wisdom
</p>
<p class="medium-body-text-white">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#F7F7F7;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> More resources
</p>
</section><section id="do-you-need-shiny" class="slide level2" data-menu-title="~~~ Shiny Alternatives ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Arrows left right" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Arrows left right</title>
<path d="M406.6 374.6l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224l-293.5 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288l293.5 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"></path></svg> Consider if you need Shiny at all
</p>
<p class="caption-text">
<em>While a well-developed shiny app is fun and appealing, it’s worth having a conversation about whether shiny is truly necessary, or if taking an alternative approach to sharing your data might be better.</em>
</p>
</div>
</section><section id="shiny-alternatives" class="slide level2" data-menu-title="Other options"><h2></h2>
<div class="slide-title">
Additional data presentation frameworks
</div>
<p class="small-text">
Shiny is awesome, but depending on your goals, vision, and end users, you may not need the full functionality that shiny provides. You can potentially save yourself (and your clients) the stress of deploying and maintaining apps by first considering other options:
</p>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Widgets aren’t only for Shiny! Embed interactive <a href="https://www.htmlwidgets.org/">htmlwidgets</a> into your R Markdown documents that range from geo-spatial mapping with <a href="https://rstudio.github.io/leaflet/">leaflet</a> to generating network graph diagrams with <a href="https://github.com/rich-iannone/DiagrammeR">DiagrammeR</a>. Check out the <a href="http://gallery.htmlwidgets.org/">htmlwidgets for R</a> - gallery for many more options.
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Compose multiple widgets into a dashboard using <a href="https://pkgs.rstudio.com/flexdashboard/">flexdashboard</a>. Based in R Markdown, this framework allows you to produce dynamic dashboards using tools you are already familiar with. Find example projects and their source code <a href="https://pkgs.rstudio.com/flexdashboard/articles/examples.html">here</a>.
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Embed reactive shiny components (e.g.&nbsp;inputs &amp; outputs) in Quarto documents. By using some fun new code chunk options, you can instruct Quarto to spin up it’s own self-contained shiny server to run your reactives. Read the <a href="https://quarto.org/docs/interactive/shiny/">Quarto documentation</a> to learn more and check out some teaching examples <a href="https://quarto.org/docs/interactive/shiny/#examples">here</a>.
</p>
<center>
<img src="images/shiny_alts.png" alt="Logos for htmlwidgets, flexdashboard, and quarto." width="450">
</center>
</div>
</section><section id="flexdashboard-examples" class="slide level2" data-menu-title="Examples of flexdashboards"><h2></h2>
<div class="slide-title bottombr">
Example flexdashboards built by some familiar folks <svg aria-label="Face Smile" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Face Smile</title>
<path d="M256 352C293.2 352 319.2 334.5 334.4 318.1C343.3 308.4 358.5 307.7 368.3 316.7C378 325.7 378.6 340.9 369.6 350.6C347.7 374.5 309.7 400 256 400C202.3 400 164.3 374.5 142.4 350.6C133.4 340.9 133.1 325.7 143.7 316.7C153.5 307.7 168.7 308.4 177.6 318.1C192.8 334.5 218.8 352 256 352zM208.4 208C208.4 225.7 194 240 176.4 240C158.7 240 144.4 225.7 144.4 208C144.4 190.3 158.7 176 176.4 176C194 176 208.4 190.3 208.4 208zM304.4 208C304.4 190.3 318.7 176 336.4 176C354 176 368.4 190.3 368.4 208C368.4 225.7 354 240 336.4 240C318.7 240 304.4 225.7 304.4 208zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"></path></svg>
</div>
<p class="small-text topbr">
<svg aria-label="Sun" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Sun</title>
<path d="M505.2 324.8l-47.73-68.78l47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06c-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88l-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22c-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49L187.2 6.709C176.5-.6016 163.1-2.039 151.1 2.896c-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4C18.42 130.7 7.854 139.2 2.9 151.2C-2.051 163.1-.5996 176.6 6.775 187.2l47.73 68.78l-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06c4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88l14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22c11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78C331.3 509.7 338.8 512 346.3 512c4.906 0 9.859-.9687 14.56-2.906c11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44l82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75C514.1 348.9 512.6 335.4 505.2 324.8zM456.8 339.2l-99.61 18l-18 99.63L256 399.1L172.8 456.8l-18-99.63l-99.61-18L112.9 255.1L55.23 172.8l99.61-18l18-99.63L256 112.9l83.15-57.75l18.02 99.66l99.61 18L399.1 255.1L456.8 339.2zM256 143.1c-61.85 0-111.1 50.14-111.1 111.1c0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1C367.1 194.1 317.8 143.1 256 143.1zM256 319.1c-35.28 0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1S291.3 319.1 256 319.1z"></path></svg><a href="https://energysiting.github.io/energysiting-dashboard/">Energy Siting Dashboard</a> (<a href="https://github.com/energysiting/energysiting-dashboard"><strong>source code</strong></a>), <em>developed by MEDS 2022 alumni <a href="https://palomacartwright.github.io/">Paloma Cartwright</a>, <a href="https://joedecesaro.github.io/">Joe DeCesaro</a>, <a href="https://www.linkedin.com/in/daniel-kerstan-5b162321b/">Daniel Kerstan</a> &amp; <a href="https://www.linkedin.com/in/desik-somasundaram-902a8a120/">Desik Somasundaram</a> as part of their MEDS capstone project</em> – explore predictions of the most suitable locations for large, utility-scale wind and solar projects across the United States
</p>
<p class="small-text topbr">
<svg aria-label="Handshake" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Handshake</title>
<path d="M506.1 127.1c-17.97-20.17-61.46-61.65-122.7-71.1c-22.5-3.354-45.39 3.606-63.41 18.21C302 60.47 279.1 53.42 256.5 56.86C176.8 69.17 126.7 136.2 124.6 139.1c-7.844 10.69-5.531 25.72 5.125 33.57c4.281 3.157 9.281 4.657 14.19 4.657c7.406 0 14.69-3.375 19.38-9.782c.4062-.5626 40.19-53.91 100.5-63.23c7.457-.9611 14.98 .67 21.56 4.483L227.2 168.2C214.8 180.5 207.1 196.1 207.1 214.5c0 17.5 6.812 33.94 19.16 46.29C239.5 273.2 255.9 279.1 273.4 279.1s33.94-6.813 46.31-19.19l11.35-11.35l124.2 100.9c2.312 1.875 2.656 5.251 .5 7.97l-27.69 35.75c-1.844 2.25-5.25 2.594-7.156 1.063l-22.22-18.69l-26.19 27.75c-2.344 2.875-5.344 3.563-6.906 3.719c-1.656 .1562-4.562 .125-6.812-1.719l-32.41-27.66L310.7 392.3l-2.812 2.938c-5.844 7.157-14.09 11.66-23.28 12.6c-9.469 .8126-18.25-1.75-24.5-6.782L170.3 319.8H96V128.3L0 128.3v255.6l64 .0404c11.74 0 21.57-6.706 27.14-16.14h60.64l77.06 69.66C243.7 449.6 261.9 456 280.8 456c2.875 0 5.781-.125 8.656-.4376c13.62-1.406 26.41-6.063 37.47-13.5l.9062 .8126c12.03 9.876 27.28 14.41 42.69 12.78c13.19-1.375 25.28-7.032 33.91-15.35c21.09 8.188 46.09 2.344 61.25-16.47l27.69-35.75c18.47-22.82 14.97-56.48-7.844-75.01l-120.3-97.76l8.381-8.382c9.375-9.376 9.375-24.57 0-33.94c-9.375-9.376-24.56-9.376-33.94 0L285.8 226.8C279.2 233.5 267.7 233.5 261.1 226.8c-3.312-3.282-5.125-7.657-5.125-12.31c0-4.688 1.812-9.064 5.281-12.53l85.91-87.64c7.812-7.845 18.53-11.75 28.94-10.03c59.75 9.22 100.2 62.73 100.6 63.29c3.088 4.155 7.264 6.946 11.84 8.376H544v175.1c0 17.67 14.33 32.05 31.1 32.05L640 384V128.1L506.1 127.1zM48 352c-8.75 0-16-7.245-16-15.99c0-8.876 7.25-15.99 16-15.99S64 327.2 64 336.1C64 344.8 56.75 352 48 352zM592 352c-8.75 0-16-7.245-16-15.99c0-8.876 7.25-15.99 16-15.99s16 7.117 16 15.99C608 344.8 600.8 352 592 352z"></path></svg><a href="https://spileggi.shinyapps.io/Pileggi_presentation_shiny/"><span class="citation" data-cites="ADELPHIRESEARCH">@ADELPHIRESEARCH</span> TWEETS Dashboard</a> (<a href="https://github.com/shannonpileggi/Adelphi-tweets"><strong>source code</strong></a>), <em>developed by R-Lady <a href="https://www.pipinghotdata.com/index.html">Shannon Pileggi</a> as part of a job interview</em> – read about this clever approach to showcasing your skills to a potential employer in Shannon’s blogpost, <a href="https://www.pipinghotdata.com/posts/2020-08-30-a-job-interview-presentation-inspired-by-the-r-community/">A job interview presentation inspired by the R community</a>.
</p>
</section><section id="resources-final-thoughts" class="slide level2" data-menu-title="~~~ Final Thoughts &amp; Resources ~~~" data-background="#053660"><h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<svg aria-label="Lightbulb" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#d2e3f3;overflow:visible;position:relative;"><title>Lightbulb</title>
<path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"></path></svg> Final Thoughts &amp; Additional Resources
</p>
<p class="caption-text">
<em>We’ve covered a lot in this workshop, and we’ve only just begun to scratch the surface – we’ll end with some final thoughts/words of wisdom, along with some resources that are worth returning to as you begin your deep dive into shiny app development.</em>
</p>
</div>
</section><section id="words-of-wisdom" class="slide level2" data-menu-title="Words of wisdom"><h2></h2>
<div class="slide-title">
Some takeaway messages that are worth keeping in mind
</div>
<p class="small-text topbr">
<svg aria-label="Chart Column" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Chart Column</title>
<path d="M32 32c17.7 0 32 14.3 32 32V400c0 8.8 7.2 16 16 16H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-44.2 0-80-35.8-80-80V64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V256c0-17.7 14.3-32 32-32zm128-64V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32zM480 96V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V96c0-17.7 14.3-32 32-32s32 14.3 32 32z"></path></svg> Oftentimes, the most time consuming part of building a shiny app is deciding on how to present the data visually – make your data visualizations first, <em>outside of shiny</em>, refine, decide which variables you think are important enough to make reactive, etc. <strong>THEN</strong>, build them into your shiny application.
</p>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="table" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>table</title>
<path d="M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"></path></svg> Get your data in the most wrangled form possible before loading it into your app to avoid unnecessary slowdowns.
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="Code" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Code</title>
<path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"></path></svg> Code expands <em>quickly</em> – stay organized! Create a repository map (see an example in this <a href="https://github.com/UCSB-MEDS/shiny-dashboard/blob/main/README.md">README</a>), so you and your collaborators know where files live and what they do. Use rainbow parentheses, add extra space between sections of code, and include clear code comments to denote the start and end of parentheses. This will help save headaches later on.
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="Users" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Users</title>
<path d="M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"></path></svg> Keep in mind the <a href="https://ucsb-meds.github.io/EDS430-Shiny/#/UX-UI-design-tips">considerations for good UX/UI design</a>. You’re building an app for the user first and foremost – be sure to assess often if your app is going to meet their needs.
</p>
</div>
<div class="fragment">
<p class="small-text topbr">
<svg aria-label="Question" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>Question</title>
<path d="M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"></path></svg> Before taking the plunge, consider if you really need shiny at all – maintaining apps can be challenging. What other options might you have for sharing your data with end users?
</p>
</div>
</section><section id="resources1" class="slide level2" data-menu-title="Resources"><h2></h2>
<div class="slide-title-smaller">
Great Shiny resources
</div>
<p class="smaller-text">
A quick Google search will yield <em>lots</em> of online resources, forum discussions, video tutorials, etc. for building Shiny applications. Many are linked throughout these slides, but here’s an attempt at putting some of those that I referenced most often all in one spot (along with some that we didn’t have time to cover). Be sure to poke around online yourself, and let me know if you come across any that you find particularly useful so that I can add them here!
</p>
<p class="small-text">
<strong>Books</strong>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://mastering-shiny.org/basic-app.html">Mastering Shiny</a>, by Hadley Wickham
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://engineering-shiny.org/index.html">Engineering Production-Grade Shiny Apps</a>, by Colin Fay, Sébastien Rochette, Vincent Guyader &amp; Cervan Girard.
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://debruine.github.io/shinyintro/index.html">Building Web Apps with R</a>, by <a href="https://github.com/debruine">Lisa DeBruine</a> – an short course (paired with an online book with instructions, resources, etc.)
</p>
<p class="small-text">
<strong>Tutorials</strong>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Garrett Grolemund’s <a href="https://shiny.rstudio.com/tutorial/">Building Web Applications with Shiny</a> tutorial (find the <a href="ttps://github.com/rstudio-education/shiny.rstudio.com-tutorial">GitHub Repo here</a>)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://deanattali.com/blog/building-shiny-apps-tutorial/">Building Shiny apps - an interactive tutorial</a>, by Dean Attali
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://www.r-bloggers.com/2021/06/speeding-up-r-shiny-the-definitive-guide/">Speeding Up R Shiny</a>, by Jakub Sobolewski in R bloggers – details methods on improving app performance
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> Allison Horst’s <a href="https://github.com/allisonhorst/shiny-basics-sb-r-ladies">The Basics of Building Shiny Apps in R</a> workshop
</p>
<p class="small-text">
<strong>Tools</strong>
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://www.r-bloggers.com/2022/09/r-shiny-fontawesome-icons-how-to-use-them-in-your-dashboards/">R Shiny &amp; FontAwesome Icons – How to Use Them in Your Dashboards</a>, by Dario Radečić in R Bloggers – instructions for setting up your <a href="https://fontawesome.com/">fontawesome</a> kit
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://rstudio.github.io/shinyuieditor/">Shiny UI Editor</a> and <a href="https://nickstrayer.me/">Nick Strayer</a>’s <a href="https://www.rstudio.com/conference/2022/talks/new-way-to-build-shiny/">rstudio::conf(2022) talk</a> introducing it – a visual tool for building the UI portion of a Shiny application that generates clean and human-readable code (<strong>currently in Alpha</strong>, as of January 2023)
</p>
<p class="smaller-text">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> The <a href="https://github.com/ThinkR-open/golem"><code>{golem}</code> package</a> provides an opinionated framework for building production-grade shiny applications and is a part of a growing ecosystem of packages called the <a href="https://golemverse.org/"><code>{golemverse}</code></a>. There are lots of accompanying learning materials, including the book, <a href="https://engineering-shiny.org/">Engineering Production Grade Shiny Apps</a>, by Colin Fay, Sébastien Rochette, Vincent Guyader, and Cervan Girard.
</p>
</section><section id="resources1" class="slide level2" data-menu-title="More resources"><h2></h2>
<div class="slide-title">
And don’t forget about Posit’s own excellent resources
</div>
<p class="body-text bottombr">
Posit/RStudio’s great instructional resources, examples, and help documentation:
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> A thoughtfully organized <a href="https://shiny.rstudio.com/articles/">Articles</a> page
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg> The <a href="https://shiny.rstudio.com/gallery/#user-showcase">Shiny User Showcase</a>, a collection of Shiny apps and their source code developed by the Shiny developer community – many of these featured apps are winners or honorable mentions of the <a href="https://www.rstudio.com/blog/winners-of-the-3rd-annual-shiny-contest/">annual Shiny contest</a>!
</p>
<p class="small-text topbr">
<svg aria-label="angle-right" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title>
<path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg><a href="https://shiny.rstudio.com/gallery/#demos">Shiny Demos</a>, a series of apps created by the Shiny developers to highlight specific features of the shiny package – these are <em>excellent</em> resources to turn to when you are learning how to implement a new type of widget, working on the layout of your app, and more.
</p>
</section><section id="TheEnd" class="slide level2" data-menu-title="~End Slide~"><h2></h2>
<center>
<div class="slide-title bottombr">
I’m excited to see what <em>Shiny</em> new apps you all create!
</div>
</center>
<center>
<img src="images/sparkle.gif" alt="A gif of sparkles that appear to be moving out of a dark background towards the viewer." width="325">
</center>

<div class="footer footer-default">

</div>
<aside><div>
<center>
This is a Quarto Presentation. To learn more, visit <a href="https://quarto.org" class="uri">https://quarto.org</a>.
</center>
<center>
<span style="font-size: 60%;"><em>If you see mistakes or want to suggest changes, please create an <a href="https://github.com/UCSB-MEDS/customizing-quarto-websites/issues">issue</a> on the source repository.</em></span>
</center>
</div></aside></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="index_files/libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script><script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script><script src="index_files/libs/revealjs/plugin/notes/notes.js"></script><script src="index_files/libs/revealjs/plugin/search/search.js"></script><script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script><script src="index_files/libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>